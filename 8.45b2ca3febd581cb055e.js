(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{Dx4h:function(t,e,c){"use strict";c.d(e,"a",(function(){return s}));var i=c("fXoL"),n=c("ofXK");function a(t,e){if(1&t&&(i.hc(0,"div"),i.hc(1,"div",1),i.hc(2,"h4"),i.Qc(3,"NAME"),i.gc(),i.hc(4,"p"),i.Qc(5),i.gc(),i.gc(),i.hc(6,"div",1),i.hc(7,"h4"),i.Qc(8,"EMAIL"),i.gc(),i.hc(9,"p"),i.Qc(10),i.gc(),i.gc(),i.hc(11,"div",1),i.hc(12,"h4"),i.Qc(13,"ROLE"),i.gc(),i.hc(14,"p"),i.Qc(15),i.gc(),i.gc(),i.hc(16,"div",1),i.hc(17,"h4"),i.Qc(18,"STATUS"),i.gc(),i.hc(19,"p"),i.Qc(20),i.gc(),i.gc(),i.gc()),2&t){const t=i.tc();i.Ob(5),i.Rc(t.user.name),i.Ob(5),i.Rc(t.user.email),i.Ob(5),i.Rc(t.user.role),i.Ob(5),i.Rc(t.user.status?"active":"deactivated")}}let s=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Vb({type:t,selectors:[["app-user-info"]],inputs:{user:"user"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"div-user-property"]],template:function(t,e){1&t&&i.Oc(0,a,21,4,"div",0),2&t&&i.zc("ngIf",e.user)},directives:[n.t],styles:[".img-user[_ngcontent-%COMP%]{width:15vh;height:15vh;margin:2rem}.div-user-property[_ngcontent-%COMP%]{margin:15px}.div-user-property[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#7b87cc;text-align:center;margin-bottom:5px}.div-user-property[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}"]}),t})()},FU17:function(t,e,c){"use strict";c.d(e,"a",(function(){return d}));var i=c("fXoL"),n=c("Brg/"),a=c("3Pt+"),s=c("PqYM"),o=c("QibW"),r=c("ofXK");function l(t,e){if(1&t&&(i.hc(0,"mat-radio-button",3),i.Qc(1),i.gc()),2&t){const t=e.index;i.zc("value",t),i.Ob(1),i.Sc("v",t+1,"")}}let d=(()=>{class t{constructor(){this.prevVersion=new i.r,this.currentVersion=new i.r,this.propagateChange=t=>{}}ngOnInit(){}ngOnChanges(t){t.date&&this.date&&(t.date.firstChange?Object(s.a)(250).subscribe(()=>{this.selectVersion()}):this.selectVersion())}writeValue(t){t&&(this.item?(this.generateVersions(t),this.propagateChange(this.item)):(this.item=n.d.copyObject(t),this.generateVersions(t)))}registerOnChange(t){this.propagateChange=t}registerOnTouched(){}generateVersions(t){this.itemVersions=[],this.itemVersions.push(t||this.item);for(let e=t?t.prevStates.length:this.item.prevStates.length;e>=1;e--)this.itemVersions.unshift(this.getVersion(this.itemVersions[0],t?t.prevStates[e-1].changes:this.item.prevStates[e-1].changes))}getVersion(t,e){return n.d.mergeObjects(t,e)}selectVersion(t){void 0===t&&(this.item.prevStates.forEach((e,c)=>{this.date>e.date&&(t=c+1)}),void 0===t&&(t=0)),this.item=this.itemVersions[t],this.itemV=t,this.prevVersion.emit(this.itemVersions[t-1]?this.itemVersions[t-1]:{}),this.currentVersion.emit(this.itemV),this.propagateChange(this.item)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Vb({type:t,selectors:[["app-item-versions"]],inputs:{item:"item",date:"date"},outputs:{prevVersion:"prevVersion",currentVersion:"currentVersion"},features:[i.Nb([{provide:a.m,useExisting:Object(i.hb)(()=>t),multi:!0}]),i.Mb],decls:3,vars:2,consts:[["fxLayout","row",1,"div-radio-group"],["fxLayout","row","aria-label","Select an option",3,"ngModel","change","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,e){1&t&&(i.hc(0,"div",0),i.hc(1,"mat-radio-group",1),i.pc("change",(function(t){return e.selectVersion(t.value)}))("ngModelChange",(function(t){return e.itemV=t})),i.Oc(2,l,2,2,"mat-radio-button",2),i.gc(),i.gc()),2&t&&(i.Ob(1),i.zc("ngModel",e.itemV),i.Ob(1),i.zc("ngForOf",e.itemVersions))},directives:[o.b,a.o,a.r,r.s,o.a],styles:[".div-radio-group[_ngcontent-%COMP%]{max-height:7.8vh;width:100%;background-color:#f1f1f1;overflow-x:none;overflow-y:scroll;border-radius:8px;color:#7b87cc;font-weight:bolder}.div-radio-group[_ngcontent-%COMP%]::-webkit-scrollbar{display:none!important}.mat-radio-button[_ngcontent-%COMP%]{height:30px;width:60px}.mat-radio-group[_ngcontent-%COMP%]{overflow-x:scroll}"]}),t})()},PyEr:function(t,e,c){"use strict";c.d(e,"a",(function(){return s})),c.d(e,"b",(function(){return n})),c.d(e,"c",(function(){return a}));var i=c("fXoL");let n=(()=>{class t{transform(t,e){let c;if(null===t)return null;switch(e){case"miliseconds":c=t.getTime();break;case"date":c=new Date(t)}return c}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.ac({name:"lpParseDate",type:t,pure:!0}),t})(),a=(()=>{class t{transform(t,e){if(null===t)return null;let c;switch(e){case"AM/PM":c=Number(t.split(":")[0])-12>0?`${Number(t.split(":")[0])-12}:${Number(t.split(":")[1])} PM`:t+" AM";break;case"24":c="AM"===t.split(" ")[t.split(" ").length-1]?""+t.split(" ")[0]:`${Number(t.split(" ")[0].split(":")[0])+12}:${t.split(" ")[0].split(":")[1]}`}return c}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=i.ac({name:"lpParseHour",type:t,pure:!0}),t})(),s=(()=>{class t{}return t.\u0275mod=i.Zb({type:t}),t.\u0275inj=i.Yb({factory:function(e){return new(e||t)},imports:[[]]}),t})()},RCfm:function(t,e,c){"use strict";c.d(e,"a",(function(){return x}));var i=c("fXoL"),n=c("Brg/"),a=c("S6We"),s=c("WLNs"),o=c("jVv/"),r=c("ofXK"),l=c("XiUz"),d=c("3Pt+"),p=c("FU17"),u=c("NFeN");function h(t,e){if(1&t){const t=i.ic();i.hc(0,"mat-icon",24),i.pc("click",(function(){return i.Hc(t),i.tc(3).back.emit()})),i.Qc(1,"keyboard_backspace"),i.gc()}}function g(t,e){if(1&t){const t=i.ic();i.hc(0,"mat-icon",24),i.pc("click",(function(){i.Hc(t);const e=i.tc(3);return e.editTask.emit(e.taskSelected._id)})),i.Qc(1,"edit"),i.gc()}}function m(t,e){if(1&t){const t=i.ic();i.hc(0,"mat-icon",24),i.pc("click",(function(){return i.Hc(t),i.tc(3).restore()})),i.Qc(1,"settings_backup_restore"),i.gc()}}function f(t,e){if(1&t&&(i.hc(0,"div",22),i.Oc(1,h,2,0,"mat-icon",23),i.Oc(2,g,2,0,"mat-icon",23),i.Oc(3,m,2,0,"mat-icon",23),i.gc()),2&t){const t=i.tc(2);i.Ob(1),i.zc("ngIf",t.prevDialog),i.Ob(1),i.zc("ngIf",!t.prevDialog&&t.isCurrentVersion&&"done"!==t.taskPristine.status&&t.isUserInTask),i.Ob(1),i.zc("ngIf",!t.isCurrentVersion&&"done"!==t.taskPristine.status&&!t.propertyHasChanged("status")&&t.isUserInTask)}}function b(t,e){if(1&t&&(i.hc(0,"small",25),i.Qc(1),i.gc()),2&t){const t=i.tc(2);i.Ob(1),i.Tc("",0===t.currentVersion?"created by":"edited by"," ",0===t.currentVersion?t.taskSelected.createdBy.name:t.taskSelected.prevStates[t.currentVersion-1]?t.taskSelected.prevStates[t.currentVersion-1].user.name:"","")}}function v(t,e){1&t&&(i.hc(0,"small",26),i.Qc(1,"*current state*"),i.gc()),2&t&&i.Nc("color","#7b87cc")}function k(t,e){if(1&t&&(i.hc(0,"li",27),i.Qc(1),i.gc()),2&t){const t=e.$implicit,c=i.tc(2);i.Qb(c.propertyHasChanged("participants")?"property-changed":""),i.Ob(1),i.Rc(t.name)}}function O(t,e){if(1&t&&(i.hc(0,"li",27),i.Qc(1),i.gc()),2&t){const t=e.$implicit,c=i.tc(2);i.Qb(c.propertyHasChanged("reviewers")?"property-changed":""),i.Ob(1),i.Rc(t.name)}}function S(t,e){if(1&t&&(i.hc(0,"div",19),i.hc(1,"h5"),i.Qc(2," Extra time : "),i.gc(),i.hc(3,"p"),i.Qc(4),i.gc(),i.gc()),2&t){const t=i.tc(2);i.Ob(4),i.Rc(t.extraTime)}}function j(t,e){if(1&t){const t=i.ic();i.hc(0,"div",1),i.hc(1,"form",2),i.hc(2,"app-item-versions",3),i.pc("ngModelChange",(function(e){return i.Hc(t),i.tc().setVersion(e)}))("prevVersion",(function(e){return i.Hc(t),i.tc().prevTask=e}))("currentVersion",(function(e){return i.Hc(t),i.tc().currentVersion=e})),i.gc(),i.gc(),i.hc(3,"div",4),i.hc(4,"small",5),i.Qc(5,"*Property edited*"),i.gc(),i.Oc(6,f,4,3,"div",6),i.gc(),i.hc(7,"div",7),i.hc(8,"div",8),i.Oc(9,b,2,2,"small",9),i.Oc(10,v,2,2,"small",10),i.gc(),i.hc(11,"div",11),i.hc(12,"h3",12),i.Qc(13),i.gc(),i.gc(),i.hc(14,"div",13),i.hc(15,"div",14),i.hc(16,"div",15),i.hc(17,"h5"),i.Qc(18," Participants: "),i.gc(),i.hc(19,"ul"),i.Oc(20,k,2,3,"li",16),i.gc(),i.gc(),i.hc(21,"div",15),i.hc(22,"h5"),i.Qc(23," Reviewers: "),i.gc(),i.hc(24,"ul"),i.Oc(25,O,2,3,"li",16),i.gc(),i.gc(),i.gc(),i.hc(26,"div",17),i.hc(27,"div",18),i.hc(28,"h5"),i.Qc(29," Start date: "),i.gc(),i.hc(30,"p"),i.Qc(31),i.uc(32,"date"),i.gc(),i.gc(),i.hc(33,"div",18),i.hc(34,"h5"),i.Qc(35," End Date: "),i.gc(),i.hc(36,"p"),i.Qc(37),i.uc(38,"date"),i.gc(),i.gc(),i.gc(),i.hc(39,"div",17),i.hc(40,"div",15),i.hc(41,"h5"),i.Qc(42," Priority: "),i.gc(),i.hc(43,"p"),i.Qc(44),i.gc(),i.gc(),i.hc(45,"div",15),i.hc(46,"h5"),i.Qc(47," Status: "),i.gc(),i.hc(48,"p"),i.Qc(49),i.gc(),i.gc(),i.gc(),i.gc(),i.hc(50,"div",12),i.hc(51,"div",19),i.hc(52,"h5"),i.Qc(53," Description : "),i.gc(),i.hc(54,"div",12),i.hc(55,"mat-icon",20),i.pc("click",(function(){return i.Hc(t),i.tc().showDescription()})),i.Qc(56,"pageview"),i.gc(),i.gc(),i.gc(),i.Oc(57,S,5,1,"div",21),i.gc(),i.gc(),i.gc()}if(2&t){const t=i.tc();i.Ob(2),i.zc("ngModel",t.taskSelected)("date",t.date),i.Ob(1),i.Nc("margin","10px"),i.Ob(3),i.zc("ngIf",t.taskSelected&&t.prevTask),i.Ob(2),i.Nc("height","10px"),i.Ob(1),i.zc("ngIf",null!==t.currentVersion),i.Ob(1),i.zc("ngIf",t.isCurrentVersion),i.Ob(2),i.Qb(t.propertyHasChanged("name")?"property-changed":""),i.Ob(1),i.Rc(t.taskSelected.name),i.Ob(7),i.zc("ngForOf",t.taskSelected.participants),i.Ob(5),i.zc("ngForOf",t.taskSelected.reviewers),i.Ob(5),i.Qb(t.propertyHasChanged("startDate")?"property-changed":""),i.Ob(1),i.Sc(" ",i.wc(32,30,t.taskSelected.startDate,"M/d/yy, h:mm a")," "),i.Ob(5),i.Qb(t.propertyHasChanged("endDate")?"property-changed":""),i.Ob(1),i.Sc(" ",i.wc(38,33,t.taskSelected.endDate,"M/d/yy, h:mm a")," "),i.Ob(6),i.Qb(t.propertyHasChanged("priority")?"property-changed":""),i.Ob(1),i.Sc(" ",1===t.taskSelected.priority?"HIGH":2===t.taskSelected.priority?"MEDIUM":"LOW"," "),i.Ob(4),i.Qb(t.propertyHasChanged("status")?"property-changed":""),i.Ob(1),i.Sc(" ",t.taskSelected.status," "),i.Ob(6),i.Nc("font-size","30px"),i.zc("color",t.propertyHasChanged("description")?"accent":""),i.Ob(2),i.zc("ngIf",t.taskSelected.extraTime)}}let x=(()=>{class t{constructor(t,e,c){this.tasksService=t,this.lpDialogsService=e,this.authService=c,this.back=new i.r,this.editTask=new i.r,this.restoreVersion=new i.r,this.propertiesNoEditables=["prevStates","deliverDate","extraTime","validationTime","actionsRequired","__v","createdBy"]}get isUserInTask(){return!!this.taskSelected&&this.taskSelected.participants.map(t=>t._id).includes(this.authService.userOnline._id)}get extraTime(){const t=n.b.milisecsToString(this.taskSelected.extraTime);return t.reduce((e,c,i)=>e+(c+(t[i+1]?", ":"")),"")}ngOnChanges(t){t.taskSelected&&this.taskSelected&&(this.taskPristine=n.d.copyObject(this.taskSelected))}restore(){this.lpDialogsService.openConfirmDialog("THIS VERSION WILL REPLACE THE CURRENT ONE","Are you sure?").subscribe(t=>{t&&this.restoreVersion.emit(this.checkChangesToPatch())})}checkChangesToPatch(){const t=Object.keys(this.taskSelected).reduce((t,e)=>(!this.propertiesNoEditables.includes(e)&&(t[e]=this.taskSelected[e]),t),{}),e=Object.keys(this.taskPristine).reduce((t,e)=>(!this.propertiesNoEditables.includes(e)&&(t[e]=this.taskPristine[e]),t),{});return{taskChanges:n.d.getObjectDifferences(e,t),id:this.taskSelected._id}}versionIsDifferent(){return!n.d.areEquals(this.prevTask,this.taskSelected)}propertyHasChanged(t){return 0!=this.currentVersion&&!!this.prevTask&&JSON.stringify(this.prevTask[t])!=JSON.stringify(this.taskSelected[t])}setVersion(t){this.taskSelected=t;const e=Object.keys(this.taskSelected).reduce((t,e)=>(!this.propertiesNoEditables.includes(e)&&(t[e]=this.taskSelected[e]),t),{}),c=Object.keys(this.taskPristine).reduce((t,e)=>(!this.propertiesNoEditables.includes(e)&&(t[e]=this.taskPristine[e]),t),{});this.isCurrentVersion=n.d.areEquals(e,c)}showDescription(){this.lpDialogsService.openInfoDialog(this.taskSelected.description,"TASK DESCRIPTION")}}return t.\u0275fac=function(e){return new(e||t)(i.bc(a.a),i.bc(s.b),i.bc(o.a))},t.\u0275cmp=i.Vb({type:t,selectors:[["app-task-detail"]],inputs:{taskSelected:"taskSelected",date:"date",prevDialog:"prevDialog"},outputs:{back:"back",editTask:"editTask",restoreVersion:"restoreVersion"},features:[i.Mb],decls:1,vars:1,consts:[["fxLayoutAlign","center","fxLayout","column",4,"ngIf"],["fxLayoutAlign","center","fxLayout","column"],["fxFlex","10","fxLayoutAlign","center"],["name","taskSelected",3,"ngModel","date","ngModelChange","prevVersion","currentVersion"],["fxFlex","5","fxLayout","row","fxLayoutAlign","flex-start"],["fxFlex","70",1,"property-changed"],["class","div-labels","fxLayoutAlign","flex-end",4,"ngIf"],["fxFlex","85","fxLayout","column","fxLayoutAlign","center"],["fxLayoutAlign","space-between"],["class","small-user",4,"ngIf"],["class","small-current-state","fxLayoutAlign","center",3,"color",4,"ngIf"],["fxLayout","column"],["fxLayoutAlign","center"],["fxLayout.gt-xs","row","fxLayout.xs","column"],["fxLayoutAlign","center","fxFlex","33","fxLayout.gt-sm","column","fxLayout.lt-md","row"],["fxFlex.lt-md","50",1,"div-category"],["role","listitem",3,"class",4,"ngFor","ngForOf"],["fxFlex","33","fxLayout.gt-sm","column","fxLayout.lt-md","row"],["fxFlex.lt-md","50","fxLayout","column",1,"div-category"],["fxFlex","50","fxLayout","column",1,"div-category"],[3,"color","click"],["fxFlex","50","class","div-category","fxLayout","column",4,"ngIf"],["fxLayoutAlign","flex-end",1,"div-labels"],[3,"click",4,"ngIf"],[3,"click"],[1,"small-user"],["fxLayoutAlign","center",1,"small-current-state"],["role","listitem"]],template:function(t,e){1&t&&i.Oc(0,j,58,36,"div",0),2&t&&i.zc("ngIf",e.taskSelected)},directives:[r.t,l.e,l.f,d.E,d.p,d.q,l.b,p.a,d.o,d.r,r.s,u.a],pipes:[r.f],styles:["h3[_ngcontent-%COMP%]{margin:0;padding:0}h5[_ngcontent-%COMP%]{font-weight:bolder;margin-bottom:5px;text-align:center}.div-category[_ngcontent-%COMP%]{margin-top:10px;height:12vh;width:100%}.div-category[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.div-category[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:30px}@media (max-width:1279px){.div-category[_ngcontent-%COMP%]{margin-top:5px;height:12vh}}.property-changed[_ngcontent-%COMP%]{color:#d1870c}.div-labels[_ngcontent-%COMP%]{height:20px;width:100%}.p-description[_ngcontent-%COMP%]{max-width:100%!important;max-height:100%!important;word-break:break-all}.small-current-state[_ngcontent-%COMP%], .small-user[_ngcontent-%COMP%]{font-weight:bolder;color:#7b87cc}mat-dialog-content[_ngcontent-%COMP%]{margin-bottom:0!important;max-height:100vh!important}"],changeDetection:0}),t})()},S6We:function(t,e,c){"use strict";c.d(e,"a",(function(){return f}));var i=c("tk/3"),n=c("XNiG"),a=c("EY2u"),s=c("lJxs"),o=c("vkgz"),r=c("eIep"),l=c("IZH3"),d=c("Brg/"),p=c("fXoL"),u=c("WLNs"),h=c("KwZR"),g=c("0IaG"),m=c("jVv/");let f=(()=>{class t{constructor(t,e,c,i,a){this.http=t,this.lpDialogsService=e,this.wsService=c,this.dialogRef=i,this.authService=a,this.taskSrc=new n.a,this.task$=this.taskSrc.asObservable()}postTask(t){return this.http.post(l.a+"task",t).pipe(Object(s.a)(t=>t.task),Object(o.a)(t=>{this.lpDialogsService.openInfoDialog("SUCESFULLY CREATED","CREATION",t.name),this.taskSrc.next({task:t,action:"POST"})}))}putTask(t,e){return this.http.patch(`${l.a}task/${e}`,{changes:t}).pipe(Object(s.a)(t=>t.task),Object(o.a)(t=>{t.participants.map(t=>t._id).includes(this.authService.userOnline._id)?(this.taskSrc.next({task:t,action:"PUT"}),this.lpDialogsService.openInfoDialog("SUCESFULLY UPDATED","EDITION",t.name)):(this.lpDialogsService.openInfoDialog("YOU ARE OUT THE TASK","EDITION",t.name),this.taskSrc.next({task:t,action:"DELETE"}),this.dialogRef.closeAll())}))}toggleStatus(t,e){return this.http.put(l.a+"task-status",{newStatus:t,taskId:e,frontTime:(new Date).getTime()}).pipe(Object(s.a)(t=>t.task),Object(o.a)(t=>{this.taskSrc.next({task:t,action:"PUT"}),this.lpDialogsService.openInfoDialog("SUCESFULLY UPDATED","EDITION",t.name)}))}getTasks(t,e,c=0,n=99999999){let a=`${l.a}tasks/${t}${e}`,s=new i.d({skip:c.toString(),limit:n.toString()});return this.http.get(a,{headers:s})}deleteTask(t){let e=this.http.delete(`${l.a}task/${t}`).pipe(Object(s.a)(t=>t.task),Object(o.a)(t=>{this.lpDialogsService.openInfoDialog("SUCESFULLY DELETED","DELETION",t.name),this.taskSrc.next({task:t,action:"DELETE"})}));return this.lpDialogsService.openConfirmDialog().pipe(Object(r.a)(t=>t?e:Object(a.b)()))}getTaskById(t){return this.http.get(`${l.a}task-by-id/${t}`).pipe(Object(s.a)(t=>t.task))}getTaskFiles(t,e,c=30,i=""){return this.http.get(`${l.a}task-files/${t}?skip=${e}&limit=${c}&title=${i}`).pipe(Object(s.a)(t=>t.files))}userInTask(t){return new Promise((e,c)=>{this.wsService.emit("user-in-task",{taskId:t},t=>{e(t)})})}userOutTask(t){this.wsService.emit("user-out-task",{taskId:t})}usersConnected(){return this.wsService.listen("users-in-task")}taskTimeStarted(t){return t.startDate<=(new Date).getTime()}taskTimeEnded(t){return t.endDate<(new Date).getTime()}listenningTasksEvents(){this.wsService.listen("tasks-event").subscribe(t=>{const{method:e}=t,c=t.task,i=c.participants.map(t=>t._id);switch(e){case"POST":i.includes(this.authService.userOnline._id)&&this.taskSrc.next({task:c,action:"POST"});break;case"PUT":i.includes(this.authService.userOnline._id)?c.prevStates[c.prevStates.length-1].changes.participants&&!c.prevStates[c.prevStates.length-1].changes.participants.map(t=>t._id).includes(this.authService.userOnline._id)?this.taskSrc.next({task:c,action:"POST"}):this.taskSrc.next({task:c,action:"PUT"}):this.taskSrc.next({task:c,action:"DELETE"});break;case"DELETE":i.includes(this.authService.userOnline._id)&&this.taskSrc.next({task:c,action:"DELETE"});break;case"STATUS CHANGE":i.includes(this.authService.userOnline._id)&&this.taskSrc.next({task:c,action:"PUT"})}let n=d.c.get("state-data","task-on-screen");"PUT"!==e&&"DELETE"!==e||n!==c._id||this.dialogRef.closeAll()})}canBeEdited(t){return!("done"===t.status||"on review"===t.status)}}return t.\u0275fac=function(e){return new(e||t)(p.lc(i.b),p.lc(u.b),p.lc(h.a),p.lc(g.b),p.lc(m.a))},t.\u0275prov=p.Xb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},T1xj:function(t,e,c){"use strict";c.d(e,"a",(function(){return f}));var i=c("vkgz"),n=c("lJxs"),a=c("eIep"),s=c("XNiG"),o=c("EY2u"),r=c("IZH3"),l=c("Brg/"),d=c("fXoL"),p=c("tk/3"),u=c("WLNs"),h=c("KwZR"),g=c("jVv/"),m=c("0IaG");let f=(()=>{class t{constructor(t,e,c,n,a){this.http=t,this.lpDialogsService=e,this.wSService=c,this.authService=n,this.dialogRef=a,this.projectSrc=new s.a,this.project$=this.projectSrc.asObservable().pipe(Object(i.a)(t=>{if(this.selectedProject&&t.project._id===this.selectedProject._id)switch(t.action){case"PUT":this._selectedProject=t.project;break;case"DELETE":this.selectProject(null)}})),this.selectedProjectSrc=new s.a,this.selectedProject$=this.selectedProjectSrc.asObservable()}get selectedProject(){return this._selectedProject}getProjects(){return this.http.get(r.a+"projects").pipe(Object(n.a)(t=>t.projects))}getProjectById(t){return this.http.get(`${r.a}project/${t}`).pipe(Object(n.a)(t=>t.project))}getParticipants(t){return this.http.get(`${r.a}get-participants/${t}`).pipe(Object(n.a)(t=>t.participants))}selectProject(t){this._selectedProject=t,l.c.set("state-data",t._id,"project"),this.selectedProjectSrc.next(t)}postProject(t){return this.http.post(r.a+"project",t).pipe(Object(i.a)(t=>{this.projectSrc.next({project:t.project,action:"POST"}),this.lpDialogsService.openInfoDialog("SUCCESFULLY CREATED",null,t.project.name)}))}putProject(t,e){return this.http.put(`${r.a}project/${e}`,{project:t}).pipe(Object(i.a)(t=>{t.project.participants.map(t=>t._id).includes(this.authService.userOnline._id)?(this.projectSrc.next({project:t.project,action:"PUT"}),this.lpDialogsService.openInfoDialog("SUCCESFULLY UPDATED","PUT",t.project.name)):(this.projectSrc.next({project:t.project,action:"DELETE"}),this.lpDialogsService.openInfoDialog("IN ORDER TO GET ACCESS AGAIN TALK TO OTHER ADMNISTRATOR","REMOVAL",t.project.name),this.wSService.emit("user-out-project",{projectId:t.project._id}))}))}deleteProject(t){let e=this.http.delete(`${r.a}project/${t}`).pipe(Object(i.a)(t=>{this.projectSrc.next({project:t.project,action:"DELETE"}),this.lpDialogsService.openInfoDialog("SUCCESFULY DELETED","DELETION",t.project.name),this.wSService.emit("user-out-project",{projectId:t.project._id})}));return this.lpDialogsService.openConfirmDialog().pipe(Object(a.a)(t=>t?e:Object(o.b)()))}listenningProjectSockets(){this.wSService.listen("projects-events").subscribe(t=>{const{method:e,project:c,prevProject:i}=t,n=c.participants.map(t=>t._id?t._id:t);switch(e){case"POST":n.includes(this.authService.userOnline._id)&&(this.projectSrc.next({project:c,action:"POST"}),this.wSService.emit("user-in-project",{projectId:c._id}));break;case"PUT":n.includes(this.authService.userOnline._id)?i.participants.map(t=>t._id).includes(this.authService.userOnline._id)?this.projectSrc.next({project:c,action:"PUT"}):(this.projectSrc.next({project:c,action:"POST"}),this.wSService.emit("user-in-project",{projectId:c._id})):(this.projectSrc.next({project:c,action:"DELETE"}),this.wSService.emit("user-out-project",{projectId:c._id}));break;case"DELETE":n.includes(this.authService.userOnline._id)&&(this.projectSrc.next({project:c,action:"DELETE"}),this.wSService.emit("user-out-project",{projectId:c._id}))}l.c.get("state-data","project-on-screen")===c._id&&this.dialogRef.closeAll()})}}return t.\u0275fac=function(e){return new(e||t)(d.lc(p.b),d.lc(u.b),d.lc(h.a),d.lc(g.a),d.lc(m.b))},t.\u0275prov=d.Xb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"Yt/C":function(t,e,c){"use strict";c.d(e,"a",(function(){return h}));var i=c("tk/3"),n=c("XNiG"),a=c("vkgz"),s=c("lJxs"),o=c("IZH3"),r=c("Brg/"),l=c("fXoL"),d=c("jVv/"),p=c("41FU"),u=c("KwZR");let h=(()=>{class t{constructor(t,e,c,i){this.http=t,this.authService=e,this.lpSnackbarNotificationService=c,this.wsService=i,this.notificationSelectedSrc=new n.a,this.notificationSelected$=this.notificationSelectedSrc.asObservable(),this.notificationsUncheckedSrc=new n.a,this.notificationsUnchecked$=this.notificationsUncheckedSrc.asObservable(),this.notificationSrc=new n.a,this.notification$=this.notificationSrc.asObservable()}toggleNotification(t,e){return this.http.patch(o.a+"toggle-notification",{notificationId:t,itemId:e}).pipe(Object(a.a)(t=>{this.notificationsUncheckedSrc.next(!1)}),Object(s.a)(t=>t.notification))}getNotifications(t,e,c){const n=new i.d({skip:e.toString(),limit:c?c.toString():"9999999"});return this.http.get(`${o.a}notifications${t}`,{headers:n})}getNotificationsUnchecked(t,e,c){let i="checked=false&userTo="+this.authService.userOnline._id;return this.getNotifications(t+=t?"&"+i:"?"+i,e,c)}getNotificationById(t){return this.http.get(`${o.a}notification/${t}`).pipe(Object(s.a)(t=>t.notification))}selectNotification(t){t?r.c.set("state-data",t._id,"notification-selected"):r.c.remove("state-data","notification-selected"),this.notificationSelectedSrc.next(t||void 0)}addSnackNotification(t){this.showSnackNot(t)}showSnackNot(t){if(t.userFrom._id!==this.authService.userOnline._id){const{method:e,item:c,prevItem:i}=t,n=t.userFrom,a="Project"===t.type?{name:""}:t.project;switch(e){case"POST":this.lpSnackbarNotificationService.showNotification("ADHESION",c.name,t.type,n.name,a.name);break;case"PUT":c.participants.includes(this.authService.userOnline._id)?this.lpSnackbarNotificationService.showNotification(e,i&&i.name?i.name:c.name,t.type,n.name,a.name):this.lpSnackbarNotificationService.showNotification("REMOVAL",i&&i.name?i.name:c.name,t.type,n.name,a.name);break;case"DELETE":this.lpSnackbarNotificationService.showNotification("DELETE",c.name,t.type,n.name,a.name)}}}listenningNotificationsEvents(){this.wsService.listen("notification").subscribe(t=>{t.userFrom._id!==this.authService.userOnline._id&&this.addSnackNotification(t),t.usersTo.map(t=>t.user).includes(this.authService.userOnline._id)&&this.notificationsUncheckedSrc.next(!0),this.notificationSrc.next(t)})}}return t.\u0275fac=function(e){return new(e||t)(l.lc(i.b),l.lc(d.a),l.lc(p.a),l.lc(u.a))},t.\u0275prov=l.Xb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},bXur:function(t,e,c){"use strict";c.d(e,"a",(function(){return j}));var i=c("fXoL"),n=c("M9IT"),a=c("+0xr"),s=c("znSr"),o=c("XiUz"),r=c("NFeN");function l(t,e){1&t&&(i.hc(0,"mat-header-cell",14),i.Qc(1," Name "),i.gc())}function d(t,e){if(1&t){const t=i.ic();i.hc(0,"mat-cell",15),i.pc("click",(function(){i.Hc(t);const c=e.$implicit;return i.tc().selectProject(c)})),i.hc(1,"a",16),i.Qc(2),i.gc(),i.hc(3,"span",17),i.Qc(4),i.gc(),i.gc()}if(2&t){const t=e.$implicit;i.Nc("color","blue")("cursor","pointer"),i.Ob(2),i.Rc(t.name),i.Ob(2),i.Rc(t.name)}}function p(t,e){1&t&&(i.hc(0,"mat-header-cell",18),i.Qc(1," Administrators"),i.gc())}function u(t,e){if(1&t&&(i.hc(0,"mat-cell",19),i.Qc(1),i.gc()),2&t){const t=e.$implicit;i.Ob(1),i.Sc(" ",t.administrators.length," ")}}function h(t,e){1&t&&(i.hc(0,"mat-header-cell",18),i.Qc(1," Participants "),i.gc())}function g(t,e){if(1&t&&(i.hc(0,"mat-cell",19),i.Qc(1),i.gc()),2&t){const t=e.$implicit;i.Ob(1),i.Sc(" ",t.participants.length," ")}}function m(t,e){1&t&&(i.hc(0,"mat-header-cell",18),i.Qc(1," Status"),i.gc())}function f(t,e){if(1&t&&(i.hc(0,"mat-cell",19),i.Qc(1),i.gc()),2&t){const t=e.$implicit;i.Ob(1),i.Sc(" ",!0===t.status?"active":"unactive"," ")}}function b(t,e){1&t&&i.cc(0,"mat-header-cell",14)}function v(t,e){if(1&t){const t=i.ic();i.hc(0,"mat-cell",20),i.hc(1,"a",21),i.pc("click",(function(){i.Hc(t);const c=e.$implicit;return i.tc().putProject.emit(c)})),i.hc(2,"mat-icon",22),i.Qc(3,"edit"),i.gc(),i.gc(),i.hc(4,"a",21),i.pc("click",(function(c){i.Hc(t);const n=e.$implicit,a=i.tc();return c.stopPropagation(),a.deleteProject.emit(n._id)})),i.hc(5,"mat-icon"),i.Qc(6,"delete"),i.gc(),i.gc(),i.gc()}}function k(t,e){1&t&&i.cc(0,"mat-header-row")}function O(t,e){1&t&&i.cc(0,"mat-row")}const S=function(){return[3,6,12]};let j=(()=>{class t{constructor(){this.projects=[],this.logout=new i.r,this.toggleSideMenu=new i.r,this.projectSelectedOut=new i.r,this.projectSelectedIn="",this.putProject=new i.r,this.postProject=new i.r,this.displayedColumns=["name","administrators","participants","status","actions"],this.dataSource=new a.p([]),this.deleteProject=new i.r}ngOnInit(){}ngOnChanges(t){t.projects&&(this.dataSource.data=this.projects,this.dataSource.paginator=this.paginator)}selectProject(t){this.projectSelectedOut.emit(t)}get projectSelected(){return this.projects.find(t=>t._id===this.projectSelectedIn)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Vb({type:t,selectors:[["app-projects"]],viewQuery:function(t,e){var c;1&t&&i.Mc(n.a,!0),2&t&&i.Ec(c=i.qc())&&(e.paginator=c.first)},inputs:{projects:"projects",projectSelectedIn:"projectSelectedIn"},outputs:{logout:"logout",toggleSideMenu:"toggleSideMenu",projectSelectedOut:"projectSelectedOut",putProject:"putProject",postProject:"postProject",deleteProject:"deleteProject"},features:[i.Mb],decls:19,vars:7,consts:[[3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["class","mat-cell-selector","mat-cell","",3,"color","cursor","click",4,"matCellDef"],["matColumnDef","administrators"],["mat-header-cell","","fxShow","","fxHide.lt-sm","",4,"matHeaderCellDef"],["mat-cell","","fxShow","","fxShow","","fxHide.lt-sm","",4,"matCellDef"],["matColumnDef","participants"],["matColumnDef","status"],["matColumnDef","actions"],["fxLayoutAlign.lt-md","flex-end","mat-cell","",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"length","pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell","",1,"mat-cell-selector",3,"click"],["fxHide.gt-sm",""],["fxShow.gt-sm",""],["mat-header-cell","","fxShow","","fxHide.lt-sm",""],["mat-cell","","fxShow","","fxShow","","fxHide.lt-sm",""],["fxLayoutAlign.lt-md","flex-end","mat-cell",""],[3,"click"],[1,"icon_options"]],template:function(t,e){1&t&&(i.hc(0,"mat-table",0),i.fc(1,1),i.Oc(2,l,2,0,"mat-header-cell",2),i.Oc(3,d,5,6,"mat-cell",3),i.ec(),i.fc(4,4),i.Oc(5,p,2,0,"mat-header-cell",5),i.Oc(6,u,2,1,"mat-cell",6),i.ec(),i.fc(7,7),i.Oc(8,h,2,0,"mat-header-cell",5),i.Oc(9,g,2,1,"mat-cell",6),i.ec(),i.fc(10,8),i.Oc(11,m,2,0,"mat-header-cell",5),i.Oc(12,f,2,1,"mat-cell",6),i.ec(),i.fc(13,9),i.Oc(14,b,1,0,"mat-header-cell",2),i.Oc(15,v,7,0,"mat-cell",10),i.ec(),i.Oc(16,k,1,0,"mat-header-row",11),i.Oc(17,O,1,0,"mat-row",12),i.gc(),i.cc(18,"mat-paginator",13)),2&t&&(i.zc("dataSource",e.dataSource),i.Ob(16),i.zc("matHeaderRowDef",e.displayedColumns),i.Ob(1),i.zc("matRowDefColumns",e.displayedColumns),i.Ob(1),i.zc("length",e.dataSource.data.length)("pageSize",3)("pageSizeOptions",i.Ac(6,S)))},directives:[a.o,a.c,a.i,a.b,a.k,a.n,n.a,a.h,a.a,s.c,o.e,r.a,a.j,a.m],styles:[""]}),t})()},dNRF:function(t,e,c){"use strict";c.d(e,"a",(function(){return l})),c.d(e,"b",(function(){return d}));var i=c("fXoL"),n=c("l5mm"),a=c("ofXK"),s=c("NFeN"),o=c("Xa2L");function r(t,e){if(1&t){const t=i.ic();i.hc(0,"div",1),i.cc(1,"mat-progress-spinner",2),i.hc(2,"mat-icon",3),i.pc("click",(function(){return i.Hc(t),i.tc().stopProgress()})),i.Qc(3,"cancel"),i.gc(),i.gc()}if(2&t){const t=i.tc();i.Nc("position","relative"),i.Ob(1),i.zc("value",t.progress)}}let l=(()=>{class t{constructor(){this.progress=0,this.show=!1,this.velocity=5,this.diameter=60,this.end=new i.r}ngOnInit(){}ngOnChanges(t){t.show&&this.show?this.timeSubscription=Object(n.a)(30*this.velocity).subscribe(()=>{this.progress<=100?this.progress++:(this.timeSubscription.unsubscribe(),this.progress=0,this.end.emit(!0))}):(this.timeSubscription&&this.timeSubscription.unsubscribe(),this.progress=0)}stopProgress(){this.timeSubscription.unsubscribe(),this.progress=0,this.end.emit(!1)}ngOnDestroy(){this.timeSubscription&&this.timeSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Vb({type:t,selectors:[["lp-thinking-time-progress"]],inputs:{progress:"progress",show:"show",velocity:"velocity",diameter:"diameter"},outputs:{end:"end"},features:[i.Mb],decls:1,vars:1,consts:[["class","div-thinking-time",3,"position",4,"ngIf"],[1,"div-thinking-time"],["diameter","60","color","primary","mode","determinate",3,"value"],[1,"mat-icon-progress-cancel",3,"click"]],template:function(t,e){1&t&&i.Oc(0,r,4,3,"div",0),2&t&&i.zc("ngIf",e.show)},directives:[a.t,o.a,s.a],styles:[".div-thinking-time[_ngcontent-%COMP%]{height:60px;width:60px}.mat-icon-progress-cancel[_ngcontent-%COMP%]{position:absolute!important;right:30%;top:30%;z-index:88888}"]}),t})(),d=(()=>{class t{}return t.\u0275mod=i.Zb({type:t}),t.\u0275inj=i.Yb({factory:function(e){return new(e||t)},imports:[[a.c,s.b,o.b]]}),t})()},dgmN:function(t,e,c){"use strict";c.r(e),c.d(e,"PagesModule",(function(){return W}));var i=c("ofXK"),n=c("tyNb"),a=c("vkgz"),s=c("fXoL"),o=c("KwZR"),r=c("T1xj"),l=c("jVv/"),d=c("qmzK"),p=c("S6We"),u=c("Yt/C"),h=c("WLNs"),g=c("XhcP"),m=c("MutI"),f=c("XiUz"),b=c("Qu3c"),v=c("NFeN"),k=c("/t3+"),O=c("znSr"),S=c("TU8p"),j=c("lVrL"),x=c("Brg/"),y=c("7EHt"),P=c("bXur"),w=c("Wp6s");let D=(()=>{class t{constructor(t,e){this.projectService=t,this.dialogsService=e,this.projects=[]}get projectName(){return this.projects.find(t=>t._id===this.projectSelected).name}ngOnInit(){this.projectService.selectedProject$.subscribe(t=>{this.projectSelected=t._id}),this.projectSubs=this.projectService.project$.subscribe(t=>{this.projects=x.a.update(this.projects,t.project,t.action),"DELETE"===t.action&&this.projectSelected===t.project._id&&this.projectService.selectProject(null)}),this.projectService.getProjects().subscribe(t=>{this.projects=t;const e=x.c.get("state-data","project"),c=e?this.projects.find(t=>t._id===e):void 0;c?this.projectService.selectProject(c):this.projects.length>0&&this.projectService.selectProject(this.projects[0])})}selectProject(t){this.projectService.selectProject(t),this.expHeader&&this.expHeader._toggle()}putProject(t){this.dialogsService.openEditProjectDialog(t)}postProject(){this.dialogsService.openPostProjectDialog()}deleteProject(t){this.projectService.deleteProject(t).subscribe()}openProjectList(){this.dialogsService.openProjectList(this.projects).subscribe(t=>{switch(t.order){case"put":this.putProject(t.project);break;case"delete":this.deleteProject(t.project);break;case"select":this.selectProject(t.project)}})}ngOnDestroy(){this.projectSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.bc(r.a),s.bc(d.a))},t.\u0275cmp=s.Vb({type:t,selectors:[["app-projects-smart"]],viewQuery:function(t,e){var c;1&t&&s.Wc(y.g,!0),2&t&&s.Ec(c=s.qc())&&(e.expHeader=c.first)},decls:21,vars:6,consts:[["fxHide.lt-md","","fxShow.gt-sm","",1,"expansion-panel"],[3,"collapsedHeight","expandedHeight"],["fxLayout","row","fxLayoutAlign","space-between"],["fxLayoutAlign","center","fxFlex","10",3,"click"],["color","primary"],["fxFlex","90","fxLayout","row","fxLayoutAlign","center"],[3,"projects","projectSelectedIn","projectSelectedOut","deleteProject","putProject"],["fxHide.gt-sm","","fxShow.lt-md","",1,"mat-card-project"],["fxFlex","80","fxLayout","column","fxLayoutAlign","center"],["fxFlex","20","fxLayout.xs","column","fxLayout.gt-xs","row"],["fxLayoutAlign","flex-start","fxFlex","50"],["fxLayout","column","fxLayoutAlign","center"],["color","primary",3,"click"],["fxLayout","column","fxLayoutAlign","center",3,"click"],["fxLayoutAlign","flex-start","color","primary"]],template:function(t,e){1&t&&(s.hc(0,"mat-expansion-panel",0),s.hc(1,"mat-expansion-panel-header",1),s.hc(2,"div",2),s.hc(3,"a",3),s.pc("click",(function(t){return e.postProject(),t.stopPropagation()})),s.hc(4,"mat-icon",4),s.Qc(5,"add"),s.gc(),s.gc(),s.hc(6,"div",5),s.Qc(7),s.gc(),s.gc(),s.gc(),s.hc(8,"app-projects",6),s.pc("projectSelectedOut",(function(t){return e.selectProject(t)}))("deleteProject",(function(t){return e.deleteProject(t)}))("putProject",(function(t){return e.putProject(t)})),s.gc(),s.gc(),s.hc(9,"mat-card",7),s.hc(10,"div",8),s.Qc(11),s.gc(),s.hc(12,"div",9),s.hc(13,"div",10),s.hc(14,"a",11),s.hc(15,"mat-icon",12),s.pc("click",(function(){return e.openProjectList()})),s.Qc(16,"list"),s.gc(),s.gc(),s.gc(),s.hc(17,"div",10),s.hc(18,"a",13),s.pc("click",(function(){return e.postProject()})),s.hc(19,"mat-icon",14),s.Qc(20,"add"),s.gc(),s.gc(),s.gc(),s.gc(),s.gc()),2&t&&(s.Ob(1),s.zc("collapsedHeight","50px")("expandedHeight","50px"),s.Ob(6),s.Sc(" ",e.projectSelected?e.projectName:""," "),s.Ob(1),s.zc("projects",e.projects)("projectSelectedIn",e.projectSelected),s.Ob(3),s.Sc(" ",e.projectSelected?e.projectName:""," "))},directives:[y.c,O.c,y.g,f.f,f.e,f.b,v.a,P.a,w.a],styles:[".expansion-panel[_ngcontent-%COMP%]{z-index:999997;position:absolute;top:1%;left:35%;right:30%} .mat-expansion-panel-body{padding:0!important}.mat-expansion-panel-body[_ngcontent-%COMP%]{padding:0}.mat-form-project[_ngcontent-%COMP%]{width:200px!important}mat-expansion-panel-header[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:100%!important}  .mat-select-value{text-align:center}.mat-cell-selector[_ngcontent-%COMP%]{cursor:pointer}.mat-card-project[_ngcontent-%COMP%]{height:45px!important;font-size:13px;box-sizing:initial!important;padding:5px!important}"]}),t})();var C=c("STbY"),M=c("Dx4h"),T=c("bTqV");let I=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Vb({type:t,selectors:[["app-no-projects"]],decls:3,vars:0,consts:[["fxLayoutAlign","center"]],template:function(t,e){1&t&&(s.hc(0,"div",0),s.hc(1,"h3"),s.Qc(2,"THE USER HAS NO PROJECTS"),s.gc(),s.gc())},directives:[f.e],styles:[""]}),t})();const _=function(){return{"margin-left":"0px"}};function L(t,e){if(1&t){const t=s.ic();s.hc(0,"div",28),s.hc(1,"a"),s.hc(2,"mat-icon",29),s.pc("click",(function(){s.Hc(t),s.tc();const e=s.Fc(2),c=s.tc();return e.toggle(),c.sidenavOpen=!0})),s.Qc(3,"menu"),s.gc(),s.gc(),s.gc()}2&t&&(s.Ob(2),s.zc("ngStyle.lt-md",s.Ac(1,_)))}function F(t,e){if(1&t){const t=s.ic();s.hc(0,"div",30),s.hc(1,"button",31),s.pc("click",(function(){return s.Hc(t),s.tc(2).postTask()})),s.hc(2,"span"),s.Qc(3,"+ TASK"),s.gc(),s.gc(),s.gc()}if(2&t){const t=s.tc(2);s.Ob(1),s.zc("disabled",!t.selectedProject)}}function z(t,e){1&t&&(s.hc(0,"div"),s.cc(1,"router-outlet",32,33),s.gc())}function E(t,e){1&t&&s.cc(0,"app-no-projects")}function Q(t,e){if(1&t){const t=s.ic();s.hc(0,"mat-sidenav-container"),s.hc(1,"mat-sidenav",1,2),s.hc(3,"mat-list"),s.hc(4,"mat-list-item",3),s.hc(5,"mat-icon",4),s.pc("click",(function(){s.Hc(t);const e=s.Fc(2),c=s.tc();return e.toggle(),c.sidenavOpen=!1})),s.Qc(6,"menu"),s.gc(),s.gc(),s.hc(7,"mat-list-item",3),s.hc(8,"mat-icon",5,6),s.pc("click",(function(){return s.Hc(t),s.tc().navigate("home")})),s.Qc(10,"home"),s.gc(),s.gc(),s.hc(11,"mat-list-item",7),s.hc(12,"mat-icon",8),s.pc("click",(function(){return s.Hc(t),s.tc().navigate("calendar")})),s.Qc(13," calendar_today "),s.gc(),s.gc(),s.hc(14,"mat-list-item",9),s.hc(15,"mat-icon",8),s.pc("click",(function(){return s.Hc(t),s.tc().navigate("task-manager")})),s.Qc(16," assignment "),s.gc(),s.gc(),s.hc(17,"mat-list-item",10),s.hc(18,"a",11),s.pc("click",(function(){s.Hc(t);const e=s.tc();return e.dialogService.openUserInfo(e.authService.userOnline)})),s.hc(19,"mat-icon",12),s.Qc(20,"account_circle"),s.gc(),s.gc(),s.gc(),s.hc(21,"mat-list-item",10),s.hc(22,"a"),s.hc(23,"mat-icon",13),s.pc("click",(function(){return s.Hc(t),s.tc().logout()})),s.Qc(24,"exit_to_app"),s.gc(),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(25,"mat-sidenav-content"),s.hc(26,"mat-toolbar"),s.hc(27,"mat-toolbar-row"),s.Oc(28,L,4,2,"div",14),s.hc(29,"a",15),s.hc(30,"mat-icon",16,6),s.pc("click",(function(){return s.Hc(t),s.tc().navigate("home")})),s.Qc(32,"home"),s.gc(),s.gc(),s.hc(33,"a",15),s.hc(34,"mat-icon",17),s.pc("click",(function(){return s.Hc(t),s.tc().navigate("calendar")})),s.Qc(35,"calendar_today"),s.gc(),s.gc(),s.hc(36,"a",15),s.hc(37,"mat-icon",18),s.pc("click",(function(){return s.Hc(t),s.tc().navigate("task-manager")})),s.Qc(38,"assignment"),s.gc(),s.gc(),s.cc(39,"span",19),s.hc(40,"div",20),s.hc(41,"div",21),s.cc(42,"app-projects-smart",22),s.gc(),s.Oc(43,F,4,1,"div",23),s.gc(),s.hc(44,"a",15),s.hc(45,"mat-icon",24),s.Qc(46,"account_circle"),s.gc(),s.hc(47,"mat-menu",null,25),s.cc(49,"app-user-info",26),s.gc(),s.gc(),s.hc(50,"a",15),s.hc(51,"mat-icon",13),s.pc("click",(function(){return s.Hc(t),s.tc().logout()})),s.Qc(52,"exit_to_app"),s.gc(),s.gc(),s.gc(),s.gc(),s.hc(53,"div",27),s.Oc(54,z,3,0,"div",0),s.Oc(55,E,1,0,"app-no-projects",0),s.gc(),s.gc(),s.gc()}if(2&t){const t=s.Fc(48),e=s.tc();s.Ob(1),s.zc("mode","side"),s.Ob(7),s.zc("color","home"===e.path?"primary":"accent"),s.Ob(4),s.zc("color","calendar"===e.path?"primary":"accent"),s.Ob(3),s.zc("color","task-manager"===e.path?"primary":"accent"),s.Ob(13),s.zc("ngIf",!e.sidenavOpen),s.Ob(2),s.zc("color","home"===e.path?"primary":"accent"),s.Ob(4),s.zc("color","calendar"===e.path?"primary":"accent"),s.Ob(3),s.zc("color","task-manager"===e.path?"primary":"accent"),s.Ob(6),s.zc("ngIf",e.selectedProject),s.Ob(2),s.zc("matMenuTriggerFor",t),s.Ob(4),s.zc("user",e.authService.userOnline),s.Ob(5),s.zc("ngIf",e.selectedProject),s.Ob(1),s.zc("ngIf",!e.selectedProject)}}let N=(()=>{class t{constructor(t,e,c,i,n,a,s,o,r){this.wSService=t,this.projectService=e,this.authService=c,this.dialogService=i,this.taskService=n,this.notificationsService=a,this.lpDialogs=s,this.router=o,this.ar=r,this.display=!1,this.sidenavOpen=!1,this.path=this.router.url.split("/")[2]}ngOnInit(){this.projectsSubs=this.projectService.selectedProject$.pipe(Object(a.a)(()=>{})).subscribe(t=>{this.selectedProject=t._id,this.wSService.emit("user-in-project",{projectId:t})}),this.wSService.emit("user-in-app",{userId:this.authService.userOnline._id},t=>{t.ok?this.display=!0:(this.lpDialogs.openInfoDialog(t.message,"USER BUSSY"),this.authService.logout().subscribe())}),this.projectService.listenningProjectSockets(),this.taskService.listenningTasksEvents(),this.notificationsService.listenningNotificationsEvents()}navigate(t){this.router.url.includes(t)||(this.router.navigate([t],{relativeTo:this.ar}),this.path=t)}postTask(){this.dialogService.openEditCreateTaskDialog()}logout(){this.lpDialogs.openConfirmDialog("ARE YOU SURE?","").subscribe(t=>{t&&this.authService.logout().subscribe()})}ngOnDestroy(){this.wSService.emit("user-out-app"),this.projectsSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.bc(o.a),s.bc(r.a),s.bc(l.a),s.bc(d.a),s.bc(p.a),s.bc(u.a),s.bc(h.b),s.bc(n.d),s.bc(n.a))},t.\u0275cmp=s.Vb({type:t,selectors:[["app-pages"]],decls:1,vars:1,consts:[[4,"ngIf"],[3,"mode"],["start",""],["fxLayoutAlign","center","matTooltip","navigate to notifications"],["color","accent",3,"click"],["routerLinkActive","router-link-active","color","accent","matTooltip","navigate to home",3,"color","click"],["homeIcon",""],["fxLayoutAlign","center","matTooltip","navigate to calendar"],["routerLinkActive","router-link-active",3,"color","click"],["fxLayoutAlign","center","matTooltip","navigate to task manager"],["fxLayoutAlign","center"],[3,"click"],["color","accent"],["color","warn",3,"click"],["fxFlex.lt-md","18","fxHide.gt-sm","","fxShow.lt-md","","fxLayoutAlign","flex-start",4,"ngIf"],["fxShow.gt-sm","","fxHide",""],["routerLinkActive","router-link-active","matBadge","","matBadgeOverlap","false","appNotifications","","color","accent","matTooltip","navigate to home",1,"icon-pages",3,"color","click"],["routerLinkActive","router-link-active","matTooltip","navigate to calendar","color","accent",1,"icon-pages",3,"color","click"],["routerLinkActive","router-link-active","matTooltip","navigate to task manager","color","accent",1,"icon-pages",3,"color","click"],["fxHide.lt-md","",1,"spacer"],["fxLayout","row","fxFlex","sidenavOpen  ? '100' : '82'"],["fxFlex.lt-md","73","fxFlex.gt-sm","70"],["id","project-selector"],["fxFlex.lt-md","27","fxFlex.gt-sm","30","fxLayoutAlign","center",4,"ngIf"],["color","primary",3,"matMenuTriggerFor"],["menu","matMenu"],[3,"user"],[1,"main"],["fxFlex.lt-md","18","fxHide.gt-sm","","fxShow.lt-md","","fxLayoutAlign","flex-start"],["color","accent","matBadge","","matBadgeOverlap","false","appNotifications","",3,"ngStyle.lt-md","click"],["fxFlex.lt-md","27","fxFlex.gt-sm","30","fxLayoutAlign","center"],["fxLayout","column","fxLayoutAlign","center","id","new-task","color","accent","mat-raised-button","","fxLayoutAlign","center",1,"new-task-btn",3,"disabled","click"],["id","main-content"],["outlet","outlet"]],template:function(t,e){1&t&&s.Oc(0,Q,56,13,"mat-sidenav-container",0),2&t&&s.zc("ngIf",e.display)},directives:[i.t,g.e,g.d,m.a,m.d,f.e,b.a,v.a,n.e,g.f,k.a,k.c,O.c,S.a,j.a,f.f,f.b,D,C.d,C.e,M.a,O.d,T.b,n.h,I],styles:[".main[_ngcontent-%COMP%]{height:85vh;width:100%}.new-task-btn[_ngcontent-%COMP%]{font-weight:bolder;width:120px;font-size:15px;text-align:center}mat-sidenav-container[_ngcontent-%COMP%]{height:100%;width:100%!important;margin:0;padding:0}mat-sidenav[_ngcontent-%COMP%]{width:30px;position:absolute;z-index:999996;background-color:#1b1b1b}.spacer[_ngcontent-%COMP%]{flex:1 1 auto;width:50px}mat-icon[_ngcontent-%COMP%]{margin:.5em}.icon-pages[_ngcontent-%COMP%]{font-size:30px;margin-left:2em}mat-toolbar-row[_ngcontent-%COMP%]{background-color:#1b1b1b;padding:5px!important;margin-top:0!important}.div-task-btn-desktop[_ngcontent-%COMP%]{margin-right:7vw}.div-task-btn-mobile[_ngcontent-%COMP%]{margin-right:0}.div-not-display[_ngcontent-%COMP%]{color:#7b87cc;margin:25px}@media (max-width:1279px){.main[_ngcontent-%COMP%]{height:89vh;width:100%}.new-task-btn[_ngcontent-%COMP%]{font-weight:bolder;width:1.5vw!important;font-size:11px;text-align:center;padding:0;margin-left:1vw;height:55px}}"]}),t})();var A=c("tvPi");let R=[{path:"",component:N,children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",canActivate:[A.a],loadChildren:()=>Promise.all([c.e(4),c.e(0),c.e(9)]).then(c.bind(null,"99Un")).then(t=>t.HomeModule)},{path:"calendar",loadChildren:()=>Promise.all([c.e(4),c.e(10)]).then(c.bind(null,"E0IO")).then(t=>t.CalendarSchedulerModule),canActivate:[A.a],data:{animation:"calendar-scheduler"}},{path:"task-manager",loadChildren:()=>c.e(16).then(c.bind(null,"d6DY")).then(t=>t.TaskManagerModule),canActivate:[A.a],data:{animation:"task-manager"}}]}],H=(()=>{class t{}return t.\u0275mod=s.Zb({type:t}),t.\u0275inj=s.Yb({factory:function(e){return new(e||t)},imports:[[i.c,n.g.forChild(R)]]}),t})();var V=c("YUcS"),q=c("jAig"),U=c("3Pt+");let $=(()=>{class t{}return t.\u0275mod=s.Zb({type:t}),t.\u0275inj=s.Yb({factory:function(e){return new(e||t)},imports:[[i.c,q.a,U.i,V.a]]}),t})();var X=c("yGOH"),B=c("mvOm");let Y=(()=>{class t{}return t.\u0275mod=s.Zb({type:t}),t.\u0275inj=s.Yb({factory:function(e){return new(e||t)},imports:[[i.c,q.a,U.i,V.a,B.a]]}),t})();var G=c("9Xeq");let K=(()=>{class t{}return t.\u0275mod=s.Zb({type:t}),t.\u0275inj=s.Yb({factory:function(e){return new(e||t)},imports:[[i.c,q.a,G.a]]}),t})(),W=(()=>{class t{}return t.\u0275mod=s.Zb({type:t}),t.\u0275inj=s.Yb({factory:function(e){return new(e||t)},imports:[[i.c,H,n.g,q.a,V.a,$,Y,X.a,K]]}),t})()},"e/WU":function(t,e,c){"use strict";c.d(e,"a",(function(){return k})),c.d(e,"b",(function(){return O}));var i=c("fXoL"),n=c("ofXK"),a=c("3Pt+"),s=c("z17N"),o=c("bTqV"),r=c("qFsG"),l=c("d3UM"),d=c("Qu3c"),p=c("iadO"),u=c("FKr1"),h=c("kmnG");function g(t,e){if(1&t){const t=i.ic();i.hc(0,"div",3),i.hc(1,"mat-form-field",4),i.hc(2,"mat-label"),i.Qc(3),i.gc(),i.hc(4,"input",5,6),i.pc("ngModelChange",(function(e){return i.Hc(t),i.tc().setDate(e)})),i.gc(),i.cc(6,"mat-datepicker-toggle",7),i.cc(7,"mat-datepicker",null,8),i.gc(),i.gc()}if(2&t){const t=i.Fc(8),e=i.tc();i.Ob(3),i.Rc(e.label),i.Ob(1),i.zc("min",e.minDate)("max",e.maxDate)("disabled",e.disabled)("ngModel",e.selectedDate)("matDatepicker",t),i.Ob(2),i.zc("for",t)}}function m(t,e){if(1&t&&(i.hc(0,"mat-option",16),i.Qc(1),i.gc()),2&t){const t=e.$implicit,c=i.tc(2);i.zc("value",c.monthValue(t)),i.Ob(1),i.Sc(" ",t," ")}}function f(t,e){if(1&t){const t=i.ic();i.hc(0,"div",9),i.hc(1,"mat-form-field",10),i.hc(2,"mat-label"),i.Qc(3,"Year"),i.gc(),i.hc(4,"input",11,12),i.pc("keyup",(function(){i.Hc(t);const e=i.Fc(5),c=i.Fc(10);return i.tc().setDate(null,e.value,c.value)})),i.gc(),i.gc(),i.hc(6,"mat-form-field",10),i.hc(7,"mat-label"),i.Qc(8,"Month"),i.gc(),i.hc(9,"mat-select",13,14),i.pc("selectionChange",(function(){i.Hc(t);const e=i.Fc(5),c=i.Fc(10);return i.tc().setDate(void 0,e.value,c.value)})),i.Oc(11,m,2,2,"mat-option",15),i.gc(),i.gc(),i.gc()}if(2&t){const t=i.Fc(5),e=i.tc();i.Ob(4),i.zc("disabled",e.disabled)("min",e.min?e.min.getFullYear():null)("max",e.max?e.max.getFullYear():null)("value",e.selectedDate?e.selectedDate.getFullYear().toString():null),i.Ob(5),i.zc("value",e.selectedDate?e.selectedDate.getMonth().toString():null)("disabled",!t.value||e.disabled),i.Ob(2),i.zc("ngForOf",e.monthOptions)}}function b(t,e){if(1&t&&(i.hc(0,"label",22),i.Qc(1),i.gc()),2&t){const t=i.tc(2);i.Ob(1),i.Rc(t.label)}}function v(t,e){if(1&t){const t=i.ic();i.hc(0,"div",17),i.Oc(1,b,2,1,"label",18),i.hc(2,"input",19,20),i.pc("ngModelChange",(function(e){return i.Hc(t),i.tc().setDate(e)})),i.gc(),i.cc(4,"owl-date-time",null,21),i.gc()}if(2&t){const t=i.Fc(5),e=i.tc();i.Ob(1),i.zc("ngIf",e.label),i.Ob(1),i.zc("owlDateTime",t)("owlDateTimeTrigger",t)("disabled",e.disabled)("placeholder",e.placeholder)("min",e.minDate)("max",e.maxDate)("ngModel",e.selectedDate)}}let k=(()=>{class t{constructor(){this.disabled=!1,this.monthOptions=["january","february","march","april","may","june","july","august","september","october","november","december"],this.propagateChange=t=>{}}writeValue(t){this.selectedDate=t}registerOnChange(t){this.propagateChange=t}registerOnTouched(){}setDate(t,e,c){t?(this.selectedDate=t,this.propagateChange(this.selectedDate)):4===e.length&&(this.selectedDate=new Date(Number(e),Number(c),1,0,0,0,0),this.propagateChange(this.selectedDate))}monthValue(t){return class{static dateComparison(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}static isRangeInRange(t,e){return t.start<=e.start&&t.end>=e.end}static createMonthlyRange(t){let e=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),c=new Date(t.getFullYear(),t.getMonth(),e,0,0,0,0),i=new Date(t.getFullYear(),t.getMonth(),1,0,0,0,0),n={start:null,end:null},a=new Date(t.getFullYear(),t.getMonth(),1-i.getDay()),s=new Date(t.getFullYear(),t.getMonth(),e+(6-c.getDay()),23,59,59,0);return n.start=a,n.end=s,n}static milisecondsToPeriod(t,e){let c=[],i=(e-t)/1e3;if(Number(String(i).split(".")[0])>0){i=Number(String(i).split(".")[0]);let t=i/60;if(Number(String(t).split(".")[0])>0){t=Number(String(t).split(".")[0]);let e=t/60;if(Math.round(60*Number("0."+String(e).split(".")[1]))>=1&&c.push(Math.round(60*Number("0."+String(e).split(".")[1]))+(Math.round(60*Number("0."+String(e).split(".")[1]))>1?" minutes":" minute")),Number(String(e).split(".")[0])>0){e=Number(String(e).split(".")[0]);let t=e/24;Math.round(24*Number("0."+String(t).split(".")[1]))>=1&&c.push(Math.round(24*Number("0."+String(t).split(".")[1]))+(Math.round(24*Number("0."+String(t).split(".")[1]))>1?" hours":" hour")),Number(String(t).split(".")[0])>0&&(t=Number(String(t).split(".")[0]),c.push(t+" days"))}}}return c.reverse()}static milisecsToString(t){return this.milisecondsToPeriod(0,t)}static monthValue(t){let e;if("string"==typeof t)switch(t){case"january":e=0;break;case"february":e=1;break;case"march":e=2;break;case"april":e=3;break;case"may":e=4;break;case"june":e=5;break;case"july":e=6;break;case"august":e=7;break;case"september":e=8;break;case"october":e=9;break;case"november":e=10;break;case"december":e=11}else switch(t){case 0:e="january";break;case 1:e="february";break;case 2:e="march";break;case 3:e="april";break;case 4:e="may";break;case 5:e="june";break;case 6:e="july";break;case 7:e="august";break;case 8:e="september";break;case 9:case 10:e="october";break;case 11:e="december"}return e.toString()}}.monthValue(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Vb({type:t,selectors:[["lp-date-selector"]],inputs:{disabled:"disabled",selectedDate:"selectedDate",dateFormat:"dateFormat",minDate:"minDate",maxDate:"maxDate",placeholder:"placeholder",label:"label"},features:[i.Nb([{provide:a.m,useExisting:Object(i.hb)(()=>t),multi:!0}])],decls:3,vars:3,consts:[["class","div-date","fxLayoutAlign","center",4,"ngIf"],["class","div-date","fxLayout.gt-xs","row","fxLayoutAlign","center","fxLayout.xs","column",4,"ngIf"],["class","div-date","fxLayout","column","fxLayoutAlign","center",4,"ngIf"],["fxLayoutAlign","center",1,"div-date"],["fxFlex","100","appearance","fill"],["name","date","matInput","",3,"min","max","disabled","ngModel","matDatepicker","ngModelChange"],["daySelection",""],["matSuffix","",3,"for"],["picker",""],["fxLayout.gt-xs","row","fxLayoutAlign","center","fxLayout.xs","column",1,"div-date"],["fxFlex","40","fxLayoutAlign","center","appearance","fill"],["matInput","","onkeypress","return event.charCode >= 48 && event.charCode <= 57","placeholder","Year",3,"disabled","min","max","value","keyup"],["yearSelection",""],[3,"value","disabled","selectionChange"],["monthSelection",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["fxLayout","column","fxLayoutAlign","center",1,"div-date"],["for","endDate",4,"ngIf"],["required","","matInput","","readonly","",1,"input-date",3,"owlDateTime","owlDateTimeTrigger","disabled","placeholder","min","max","ngModel","ngModelChange"],["timeSelection",""],["dt2",""],["for","endDate"]],template:function(t,e){1&t&&(i.Oc(0,g,9,7,"div",0),i.Oc(1,f,12,7,"div",1),i.Oc(2,v,6,8,"div",2)),2&t&&(i.zc("ngIf","day"===e.dateFormat),i.Ob(1),i.zc("ngIf","month"===e.dateFormat),i.Ob(1),i.zc("ngIf","time"===e.dateFormat))},directives:[n.t,h.c,h.g,r.b,a.d,p.h,a.o,a.r,p.j,h.j,p.f,l.a,n.s,u.n,s.b,a.z,s.d,s.a],styles:[".div-date[_ngcontent-%COMP%]{margin:5px}.div-date[_ngcontent-%COMP%]   .input-date[_ngcontent-%COMP%]{cursor:pointer}.div-date[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:200px!important}"]}),t})(),O=(()=>{class t{}return t.\u0275mod=i.Zb({type:t}),t.\u0275inj=i.Yb({factory:function(e){return new(e||t)},imports:[[n.c,s.c,s.e,o.c,r.c,l.b,d.b,p.i,u.l,a.i,a.y]]}),t})()},l5mm:function(t,e,c){"use strict";c.d(e,"a",(function(){return s}));var i=c("HDdC"),n=c("D0XW"),a=c("Y7HM");function s(t=0,e=n.a){return(!Object(a.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=n.a),new i.a(c=>(c.add(e.schedule(o,t,{subscriber:c,counter:0,period:t})),c))}function o(t){const{subscriber:e,counter:c,period:i}=t;e.next(c),this.schedule({subscriber:e,counter:c+1,period:i},i)}},lVrL:function(t,e,c){"use strict";c.d(e,"a",(function(){return s}));var i=c("lJxs"),n=c("fXoL"),a=c("Yt/C");let s=(()=>{class t{constructor(t,e){this.notificationsService=t,this.el=e,this.notificationsNumber=0}ngOnInit(){this.notificationsService.getNotificationsUnchecked("",0,1e5).pipe(Object(i.a)(t=>t.notifications)).subscribe(t=>{this.notificationsNumber=t.length,this.matBadge=this.el.nativeElement.querySelector(".mat-badge-content"),this.notificationsNumber>0&&(this.matBadge.hidden=!1,this.matBadge.style.display="flex",this.matBadge.style.alignItems="center",this.matBadge.style.justifyContent="center",this.matBadge.innerHTML=""+this.notificationsNumber)}),this.notSubs=this.notificationsService.notificationsUnchecked$.subscribe(t=>{t?this.notificationsNumber++:this.notificationsNumber>0&&this.notificationsNumber--,this.notificationsNumber?(this.matBadge.hidden=!1,this.matBadge.style.display="flex",this.matBadge.style.alignItems="center",this.matBadge.style.justifyContent="center",this.matBadge.innerHTML=""+this.notificationsNumber):this.matBadge.style.display="none"})}ngOnDestroy(){this.notSubs.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.bc(a.a),n.bc(n.o))},t.\u0275dir=n.Wb({type:t,selectors:[["","appNotifications",""]]}),t})()},mVP8:function(t,e,c){"use strict";c.d(e,"a",(function(){return S}));var i=c("fXoL");const n=["Task","Project"],a=[{label:"CREATION",value:"POST"},{label:"EDITION",value:"PUT"},{label:"DELETION ",value:"DELETE"}];var s=c("3Pt+"),o=c("XiUz"),r=c("kmnG"),l=c("qFsG"),d=c("ofXK"),p=c("d3UM"),u=c("FKr1"),h=c("e/WU"),g=c("bTqV"),m=c("PyEr");function f(t,e){if(1&t){const t=i.ic();i.hc(0,"button",16),i.pc("click",(function(){return i.Hc(t),i.tc().queryFilters.project=""})),i.Qc(1,"x"),i.gc()}}function b(t,e){if(1&t&&(i.hc(0,"mat-option",17),i.Qc(1),i.gc()),2&t){const t=e.$implicit;i.zc("value",t),i.Ob(1),i.Sc(" ",t," ")}}function v(t,e){if(1&t&&(i.hc(0,"mat-option",17),i.Qc(1),i.gc()),2&t){const t=e.$implicit;i.zc("value",t.value),i.Ob(1),i.Sc(" ",t.label," ")}}function k(t,e){if(1&t){const t=i.ic();i.hc(0,"button",16),i.pc("click",(function(){return i.Hc(t),i.tc().queryFilters.from=null})),i.Qc(1,"x"),i.gc()}}function O(t,e){if(1&t){const t=i.ic();i.hc(0,"button",16),i.pc("click",(function(){return i.Hc(t),i.tc().queryFilters.to=null})),i.Qc(1,"x"),i.gc()}}let S=(()=>{class t{constructor(){this.typesOpt=n,this.methodsOpt=a,this.queryFilters={project:"",type:"",method:"",from:null,to:null},this.getNotifications=new i.r}ngOnChanges(t){if(t.queryString&&this.queryString){const t=this.queryString.split("?")[1].split("&"),e=t.reduce((e,c,i)=>e+`${'"'+c.split("=")[0]+'"'}:${'"'+c.split("=")[1]+'"'}${t[i+1]?",":""}`,"{")+"}",c=JSON.parse(e);Object.keys(c).forEach(t=>{Object.keys(this.queryFilters).includes(t.toString())&&(this.queryFilters[t]="from"===t||"to"===t?Number(c[t]):c[t])})}}setDate(t,e){this.queryFilters[t]=e.getTime()}search(){let t=Object.keys(this.queryFilters).reduce((t,e)=>t+(t?this.queryFilters[e]&&null!=this.queryFilters[e]?`&${e}=${this.queryFilters[e]}`:"":this.queryFilters[e]&&null!=this.queryFilters[e]?`?${e}=${this.queryFilters[e]}`:""),"");this.getNotifications.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Vb({type:t,selectors:[["app-notifications-filter"]],inputs:{queryString:"queryString"},outputs:{getNotifications:"getNotifications"},features:[i.Mb],decls:31,vars:16,consts:[["fxLayout.gt-sm","row","fxLayout.lt-md","column","action","",3,"ngSubmit"],["notificationForm","ngForm"],["fxFlex","16",1,"mat-form-field-input"],["matInput","","autocomplete","off","name","project",3,"ngModel","ngModelChange"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["fxFlex","16","appearance","fill"],["name","type",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],["name","method",3,"ngModel","ngModelChange"],["fxFlex","18","fxLayoutAlign","center"],["name","from","dateFormat","time","placeholder","Start date",3,"ngModel","ngModelChange"],["from","ngModel"],["name","to","dateFormat","time","placeholder","End date",3,"ngModel","ngModelChange"],["to","ngModel"],["fxLayoutAlign","center","fxFlex","5","type","submit","mat-raised-button",""],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[3,"value"]],template:function(t,e){1&t&&(i.hc(0,"form",0,1),i.pc("ngSubmit",(function(){return e.search()})),i.hc(2,"mat-form-field",2),i.hc(3,"mat-label"),i.Qc(4,"Project"),i.gc(),i.hc(5,"input",3),i.pc("ngModelChange",(function(t){return e.queryFilters.project=t})),i.gc(),i.Oc(6,f,2,0,"button",4),i.gc(),i.hc(7,"mat-form-field",5),i.hc(8,"mat-label"),i.Qc(9,"Type"),i.gc(),i.hc(10,"mat-select",6),i.pc("ngModelChange",(function(t){return e.queryFilters.type=t})),i.cc(11,"mat-option",7),i.Oc(12,b,2,2,"mat-option",8),i.gc(),i.gc(),i.hc(13,"mat-form-field",5),i.hc(14,"mat-label"),i.Qc(15,"Method"),i.gc(),i.hc(16,"mat-select",9),i.pc("ngModelChange",(function(t){return e.queryFilters.method=t})),i.cc(17,"mat-option",7),i.Oc(18,v,2,2,"mat-option",8),i.gc(),i.gc(),i.hc(19,"div",10),i.hc(20,"lp-date-selector",11,12),i.pc("ngModelChange",(function(t){return e.setDate("from",t)})),i.uc(22,"lpParseDate"),i.gc(),i.Oc(23,k,2,0,"button",4),i.gc(),i.hc(24,"div",10),i.hc(25,"lp-date-selector",13,14),i.pc("ngModelChange",(function(t){return e.setDate("to",t)})),i.uc(27,"lpParseDate"),i.gc(),i.Oc(28,O,2,0,"button",4),i.gc(),i.hc(29,"button",15),i.Qc(30,"SEARCH"),i.gc(),i.gc()),2&t&&(i.Ob(5),i.zc("ngModel",e.queryFilters.project),i.Ob(1),i.zc("ngIf",e.queryFilters.project),i.Ob(4),i.zc("ngModel",e.queryFilters.type),i.Ob(2),i.zc("ngForOf",e.typesOpt),i.Ob(4),i.zc("ngModel",e.queryFilters.method),i.Ob(2),i.zc("ngForOf",e.methodsOpt),i.Ob(2),i.zc("ngModel",i.wc(22,10,e.queryFilters.from,"date")),i.Ob(3),i.zc("ngIf",e.queryFilters.from),i.Ob(2),i.zc("ngModel",i.wc(27,13,e.queryFilters.to,"date")),i.Ob(3),i.zc("ngIf",e.queryFilters.to))},directives:[s.E,s.p,s.q,o.f,r.c,o.b,r.g,l.b,s.d,s.o,s.r,d.t,p.a,u.n,d.s,o.e,h.a,g.b,r.j],pipes:[m.b],styles:["form[_ngcontent-%COMP%]{margin:0!important}mat-form-field[_ngcontent-%COMP%]{height:38px!important;padding:0!important;margin:5px;width:100%!important}  .mat-form-field-appearance-legacy .mat-form-field-infix{margin-top:1px!important;padding:0 0 3px}  .mat-form-field-appearance-legacy .mat-form-field-wrapper{padding-bottom:1.7em}  .mat-form-field-appearance-fill .mat-form-field-infix{padding:3px}  .mat-form-field-appearance-fill .mat-form-field-flex{background-color:#fbfbfb}button[_ngcontent-%COMP%]{height:40px}  .input-date{margin:0!important;font-size:13px}  .mat-select{padding:0}  .mat-form-field-appearance-fill .mat-form-field-flex{padding:2px}"]}),t})()},mopJ:function(t,e,c){"use strict";c.d(e,"a",(function(){return l}));var i=c("Brg/"),n=c("0IaG"),a=c("lJxs"),s=c("fXoL"),o=c("jVv/"),r=c("T1xj");let l=(()=>{class t{constructor(t,e,c,i,n){this.authService=t,this.projectService=e,this.cdr=c,this.dialogRef=i,this.data=n,this.date=(new Date).getTime()}ngOnInit(){this.projectService.getProjectById(this.data.projectId).subscribe(t=>{i.c.set("state-data",this.data.projectId,"project-on-screen"),this.projectSelected=t}),this.date=this.data.date?this.data.date:this.date,this.prevDialog=this.data.prevDialog}restoreVersion(t){let e=i.d.copyObject(t.projectChanges);t.projectChanges.user=this.authService.userOnline._id,t.projectChanges.participants&&(t.projectChanges.participants=t.projectChanges.participants.map(t=>t._id)),this.projectService.putProject(t.projectChanges,this.projectSelected._id).pipe(Object(a.a)(t=>t.project)).subscribe(t=>{this.projectSelected=i.d.mergeObjects(t,e),this.cdr.detectChanges()})}back(){this.dialogRef.close({prevDialog:this.prevDialog})}closeDialog(t){this.dialogRef.close(t?{date:t}:void 0),i.c.remove("state-data","task-on-screen")}}return t.\u0275fac=function(e){return new(e||t)(s.bc(o.a),s.bc(r.a),s.bc(s.i),s.bc(n.i),s.bc(n.a))},t.\u0275cmp=s.Vb({type:t,selectors:[["app-projects-detail-dialog-smart"]],decls:5,vars:2,consts:[[3,"date","projectSelected","restoreVersion"],["fxLayoutAlign","center"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(s.hc(0,"mat-dialog-content"),s.hc(1,"app-project-detail",0),s.pc("restoreVersion",(function(t){return e.restoreVersion(t)})),s.gc(),s.gc(),s.hc(2,"mat-dialog-actions",1),s.hc(3,"button",2),s.pc("click",(function(){return e.closeDialog()})),s.Qc(4,"CLOSE"),s.gc(),s.gc()),2&t&&(s.Ob(1),s.zc("date",e.date)("projectSelected",e.projectSelected))},encapsulation:2}),t})()},mvOm:function(t,e,c){"use strict";c.d(e,"a",(function(){return n}));var i=c("fXoL");c("3Pt+");let n=(()=>{class t{}return t.\u0275mod=i.Zb({type:t}),t.\u0275inj=i.Yb({factory:function(e){return new(e||t)},imports:[[]]}),t})()},qmzK:function(t,e,c){"use strict";c.d(e,"a",(function(){return Ot}));var i=c("0IaG"),n=c("Brg/"),a=c("fXoL"),s=c("S6We"),o=c("jVv/"),r=c("RCfm"),l=c("XiUz"),d=c("bTqV");let p=(()=>{class t{constructor(t,e,c,i,n){this.dialogRef=t,this.data=e,this.taskService=c,this.cdr=i,this.authService=n,this.date=(new Date).getTime()}ngOnInit(){this.taskService.getTaskById(this.data.taskId).subscribe(t=>{n.c.set("state-data",this.data.taskId,"task-on-screen"),this.taskSelected=t}),this.prevDialog=this.data.prevDialog}editTask(t){this.dialogRef.close({nextDialog:"editCreateTask",dataRequired:t})}restoreVersion(t){let e=n.d.copyObject(t.taskChanges);t.taskChanges.user=this.authService.userOnline._id,t.taskChanges.participants&&(t.taskChanges.participants=t.taskChanges.participants.map(t=>t._id)),this.taskService.putTask(t.taskChanges,t.id).subscribe(t=>{this.taskSelected=n.d.mergeObjects(t,e),this.cdr.detectChanges()})}back(){this.dialogRef.close({prevDialog:this.prevDialog})}closeDialog(t){this.dialogRef.close(t?{date:t}:void 0),n.c.remove("state-data","task-on-screen")}}return t.\u0275fac=function(e){return new(e||t)(a.bc(i.i),a.bc(i.a),a.bc(s.a),a.bc(a.i),a.bc(o.a))},t.\u0275cmp=a.Vb({type:t,selectors:[["app-task-dialog-smart"]],decls:5,vars:3,consts:[[3,"taskSelected","prevDialog","date","back","editTask","restoreVersion"],["fxLayoutAlign","center"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(a.hc(0,"mat-dialog-content"),a.hc(1,"app-task-detail",0),a.pc("back",(function(){return e.back()}))("editTask",(function(t){return e.editTask(t)}))("restoreVersion",(function(t){return e.restoreVersion(t)})),a.gc(),a.gc(),a.hc(2,"mat-dialog-actions",1),a.hc(3,"button",2),a.pc("click",(function(){return e.closeDialog()})),a.Qc(4," Close "),a.gc(),a.gc()),2&t&&(a.Ob(1),a.zc("taskSelected",e.taskSelected)("prevDialog",e.prevDialog)("date",e.date))},directives:[i.g,r.a,i.c,l.e,d.b],styles:["h3[_ngcontent-%COMP%]{margin:0;padding:0}h5[_ngcontent-%COMP%]{font-weight:bolder;margin-bottom:5px;text-align:center}.div-category[_ngcontent-%COMP%]{margin-top:10px;height:12vh;width:100%}.div-category[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.div-category[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:30px}@media (max-width:1279px){.div-category[_ngcontent-%COMP%]{margin-top:5px;height:12vh}}.property-changed[_ngcontent-%COMP%]{color:#d1870c}.div-labels[_ngcontent-%COMP%]{height:20px;width:100%}.p-description[_ngcontent-%COMP%]{max-width:100%!important;max-height:100%!important;word-break:break-all}.small-current-state[_ngcontent-%COMP%], .small-user[_ngcontent-%COMP%]{font-weight:bolder;color:#7b87cc}mat-dialog-content[_ngcontent-%COMP%]{margin-bottom:0!important;max-height:100vh!important}"]}),t})();var u=c("lJxs"),h=c("T1xj"),g=c("+0xr"),m=c("ofXK"),f=c("NFeN"),b=c("STbY");function v(t,e){if(1&t){const t=a.ic();a.hc(0,"mat-icon",11),a.pc("click",(function(){return a.Hc(t),a.tc().back.emit()})),a.Qc(1,"keyboard_backspace"),a.gc()}}function k(t,e){1&t&&(a.hc(0,"th",12),a.Qc(1," Name "),a.gc())}function O(t,e){if(1&t&&(a.hc(0,"td",13),a.Qc(1),a.gc()),2&t){const t=e.$implicit;a.Ob(1),a.Sc(" ",t.name," ")}}function S(t,e){1&t&&(a.hc(0,"th",12),a.Qc(1," Time "),a.gc())}function j(t,e){if(1&t&&(a.hc(0,"td",13),a.hc(1,"p"),a.Qc(2),a.uc(3,"date"),a.gc(),a.hc(4,"p"),a.Qc(5),a.uc(6,"date"),a.gc(),a.gc()),2&t){const t=e.$implicit;a.Ob(2),a.Rc(a.vc(3,2,t.startDate)),a.Ob(3),a.Rc(a.vc(6,4,t.endDate))}}function x(t,e){1&t&&a.cc(0,"th",12)}function y(t,e){if(1&t){const t=a.ic();a.hc(0,"td",13),a.hc(1,"mat-icon",14),a.Qc(2,"more_vert"),a.gc(),a.hc(3,"mat-menu",15,16),a.hc(5,"button",17),a.pc("click",(function(){a.Hc(t);const c=e.$implicit;return a.tc().checkDetails.emit(c._id)})),a.Qc(6,"View details"),a.gc(),a.hc(7,"button",18),a.pc("click",(function(){a.Hc(t);const c=e.$implicit;return a.tc().editTask.emit(c._id)})),a.Qc(8,"Edit"),a.gc(),a.hc(9,"button",18),a.pc("click",(function(){a.Hc(t);const c=e.$implicit;return a.tc().deleteTask.emit(c._id)})),a.Qc(10,"Delete"),a.gc(),a.gc(),a.gc()}if(2&t){const t=e.$implicit,c=a.Fc(4),i=a.tc();a.Ob(1),a.zc("matMenuTriggerFor",c),a.Ob(6),a.zc("disabled",i.taskService.taskTimeStarted(t)),a.Ob(2),a.zc("disabled",!t.editable)}}function P(t,e){1&t&&a.cc(0,"tr",19)}function w(t,e){1&t&&a.cc(0,"tr",20)}let D=(()=>{class t{constructor(t){this.taskService=t,this.dataSource=new g.p([]),this.close=new a.r,this.checkDetails=new a.r,this.editTask=new a.r,this.deleteTask=new a.r,this.back=new a.r,this.displayedColumns=["name","time","opt"]}ngOnChanges(t){t.tasks&&this.tasks&&(this.dataSource.data=this.tasks)}}return t.\u0275fac=function(e){return new(e||t)(a.bc(s.a))},t.\u0275cmp=a.Vb({type:t,selectors:[["app-tasks-list-dialog"]],inputs:{tasks:"tasks",prevDialog:"prevDialog"},outputs:{close:"close",checkDetails:"checkDetails",editTask:"editTask",deleteTask:"deleteTask",back:"back"},features:[a.Mb],decls:18,vars:6,consts:[[3,"click",4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","time"],["matColumnDef","opt"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["fxLayoutAlign","center"],["mat-raised-button","",3,"click"],[3,"click"],["mat-header-cell",""],["mat-cell",""],[3,"matMenuTriggerFor"],["yPosition","below","xPosition","after"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item","",3,"disabled","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(a.hc(0,"mat-dialog-content"),a.hc(1,"div"),a.Oc(2,v,2,0,"mat-icon",0),a.gc(),a.hc(3,"table",1),a.fc(4,2),a.Oc(5,k,2,0,"th",3),a.Oc(6,O,2,1,"td",4),a.ec(),a.fc(7,5),a.Oc(8,S,2,0,"th",3),a.Oc(9,j,7,6,"td",4),a.ec(),a.fc(10,6),a.Oc(11,x,1,0,"th",3),a.Oc(12,y,11,3,"td",4),a.ec(),a.Oc(13,P,1,0,"tr",7),a.Oc(14,w,1,0,"tr",8),a.gc(),a.gc(),a.hc(15,"mat-dialog-actions",9),a.hc(16,"button",10),a.pc("click",(function(){return e.close.emit()})),a.Qc(17," Close "),a.gc(),a.gc()),2&t&&(a.Ob(2),a.zc("ngIf",e.prevDialog),a.Ob(1),a.zc("dataSource",e.dataSource),a.Ob(10),a.zc("matHeaderRowDef",e.displayedColumns),a.Ob(1),a.zc("matRowDefColumns",e.displayedColumns),a.Ob(1),a.Nc("margin-top","25px"))},directives:[i.g,m.t,g.o,g.c,g.i,g.b,g.k,g.n,i.c,l.e,d.b,f.a,g.h,g.a,b.d,b.e,b.b,g.j,g.m],pipes:[m.f],styles:["mat-dialog-content[_ngcontent-%COMP%]{margin:0!important;padding:0!important}table[_ngcontent-%COMP%]{width:100%;height:200px;overflow:auto}"]}),t})(),C=(()=>{class t{constructor(t,e,c,i){this.taskService=t,this.dialogRef=e,this.projectService=c,this.data=i,this.tasks=[]}ngOnInit(){this.selectedDate=n.c.get("state-data","date-selected"),this.selectedDate=this.selectedDate?new Date(this.selectedDate):void 0,this.prevDialog=this.data.prevDialog,this.selectedProject=this.projectService.selectedProject._id,this.getTasks(new Date(this.data.date))}getTasks(t){let e=[t.getTime(),null];this.taskService.getTasks("day",n.d.toQueryString({project:this.selectedProject,from:e[0],to:e[1]})).pipe(Object(u.a)(t=>t.tasks)).subscribe(t=>{this.tasks=t})}checkDetails(t){this.dialogRef.close({nextDialog:"taskInfo",taskId:t})}editTask(t){this.dialogRef.close({nextDialog:"editCreateTask",taskId:t})}close(t,e){this.dialogRef.close(t&&e?{id:t,action:e}:void 0)}back(){this.dialogRef.close({prevDialog:this.prevDialog})}}return t.\u0275fac=function(e){return new(e||t)(a.bc(s.a),a.bc(i.i),a.bc(h.a),a.bc(i.a))},t.\u0275cmp=a.Vb({type:t,selectors:[["app-tasks-list-dialog-smart"]],decls:1,vars:2,consts:[[3,"prevDialog","tasks","close","back","editTask","checkDetails"]],template:function(t,e){1&t&&(a.hc(0,"app-tasks-list-dialog",0),a.pc("close",(function(){return e.close()}))("back",(function(){return e.back()}))("editTask",(function(t){return e.editTask(t)}))("checkDetails",(function(t){return e.checkDetails(t)})),a.gc()),2&t&&a.zc("prevDialog",e.prevDialog)("tasks",e.tasks)},directives:[D],styles:["mat-dialog-content[_ngcontent-%COMP%]{margin:0!important;padding:0!important}table[_ngcontent-%COMP%]{width:100%;height:200px;overflow:auto}"]}),t})();var M=c("QmO0"),T=c("IzEk"),I=c("PyEr"),_=c("3Pt+"),L=c("kmnG"),F=c("qFsG"),z=c("ihCf"),E=c("d3UM"),Q=c("FKr1"),N=c("e/WU"),A=c("znSr");const R=["autosize"];function H(t,e){if(1&t){const t=a.ic();a.hc(0,"mat-icon",21),a.pc("click",(function(){return a.Hc(t),a.tc(2).dialogBack.emit()})),a.Qc(1,"keyboard_backspace"),a.gc()}}function V(t,e){if(1&t&&(a.hc(0,"mat-option",13),a.Qc(1),a.gc()),2&t){const t=e.$implicit;a.zc("value",t._id),a.Ob(1),a.Sc(" ",t.name,"")}}function q(t,e){if(1&t&&(a.hc(0,"mat-option",13),a.Qc(1),a.gc()),2&t){const t=e.$implicit;a.zc("value",t._id),a.Ob(1),a.Sc(" ",t.name,"")}}function U(t,e){if(1&t&&(a.hc(0,"div"),a.Qc(1),a.gc()),2&t){const t=e.$implicit;a.Ob(1),a.Rc(t)}}function $(t,e){if(1&t){const t=a.ic();a.hc(0,"button",22),a.pc("click",(function(){a.Hc(t);const e=a.tc(2);return e.postTask.emit(e.task)})),a.Qc(1," create "),a.gc()}if(2&t){a.tc();const t=a.Fc(2);a.zc("disabled",t.invalid)}}function X(t,e){if(1&t){const t=a.ic();a.hc(0,"button",22),a.pc("click",(function(){a.Hc(t);const e=a.tc(2);return e.putTask.emit(e.checkChangesToPatch())})),a.Qc(1," save changes "),a.gc()}if(2&t){a.tc();const t=a.Fc(2),e=a.tc();a.zc("disabled",e.taskHasChanges()||t.invalid)}}const B=function(){return{"margin-top":"25px"}};function Y(t,e){if(1&t){const t=a.ic();a.hc(0,"mat-dialog-content"),a.hc(1,"form",1,2),a.hc(3,"div",3),a.hc(4,"div",4),a.hc(5,"div"),a.Oc(6,H,2,0,"mat-icon",5),a.gc(),a.hc(7,"mat-form-field"),a.hc(8,"mat-label"),a.Qc(9,"Task name"),a.gc(),a.hc(10,"input",6),a.pc("ngModelChange",(function(e){return a.Hc(t),a.tc().task.name=e})),a.gc(),a.gc(),a.hc(11,"mat-form-field"),a.hc(12,"mat-label"),a.Qc(13,"Description"),a.gc(),a.hc(14,"textarea",7,8),a.pc("ngModelChange",(function(e){return a.Hc(t),a.tc().task.description=e})),a.gc(),a.gc(),a.hc(16,"mat-form-field"),a.hc(17,"mat-label"),a.Qc(18,"Participants"),a.gc(),a.hc(19,"mat-select",9),a.pc("ngModelChange",(function(e){return a.Hc(t),a.tc().participantsChange(e)})),a.Oc(20,V,2,2,"mat-option",10),a.gc(),a.gc(),a.hc(21,"mat-form-field"),a.hc(22,"mat-label"),a.Qc(23,"Reviewers"),a.gc(),a.hc(24,"mat-select",11),a.pc("ngModelChange",(function(e){return a.Hc(t),a.tc().task.reviewers=e})),a.Oc(25,q,2,2,"mat-option",10),a.gc(),a.gc(),a.hc(26,"mat-form-field"),a.hc(27,"mat-select",12),a.pc("ngModelChange",(function(e){return a.Hc(t),a.tc().task.priority=e})),a.hc(28,"mat-option",13),a.Qc(29,"HIGH"),a.gc(),a.hc(30,"mat-option",13),a.Qc(31,"MEDIUM"),a.gc(),a.hc(32,"mat-option",13),a.Qc(33,"LOW"),a.gc(),a.gc(),a.gc(),a.gc(),a.hc(34,"div",14),a.hc(35,"lp-date-selector",15),a.pc("ngModelChange",(function(e){return a.Hc(t),a.tc().setDate("startDate",e)})),a.uc(36,"lpParseDate"),a.gc(),a.hc(37,"lp-date-selector",16),a.pc("ngModelChange",(function(e){return a.Hc(t),a.tc().setDate("endDate",e)})),a.uc(38,"lpParseDate"),a.uc(39,"lpParseDate"),a.gc(),a.hc(40,"div",1),a.Oc(41,U,2,1,"div",17),a.gc(),a.gc(),a.gc(),a.hc(42,"div",18),a.Oc(43,$,2,1,"button",19),a.Oc(44,X,2,1,"button",19),a.hc(45,"button",20),a.pc("click",(function(){return a.Hc(t),a.tc().close.emit()})),a.Qc(46," Close "),a.gc(),a.gc(),a.gc(),a.gc()}if(2&t){const t=a.tc();a.Ob(6),a.zc("ngIf",t.prevDialog),a.Ob(4),a.zc("ngModel",t.task.name),a.Ob(4),a.zc("ngModel",t.task.description),a.Ob(5),a.zc("ngModel",t.task.participants),a.Ob(1),a.zc("ngForOf",t.projectParticipants),a.Ob(4),a.zc("ngModel",t.task.reviewers),a.Ob(1),a.zc("ngForOf",t.reviewersOptions),a.Ob(2),a.zc("ngModel",t.task.priority),a.Ob(1),a.zc("value",3),a.Ob(2),a.zc("value",2),a.Ob(2),a.zc("value",1),a.Ob(3),a.zc("disabled",t.task._id&&t.taskService.taskTimeStarted(t.task))("minDate",t.today)("ngModel",a.wc(36,21,t.task.startDate,"date")),a.Ob(2),a.zc("disabled",!t.task.startDate||t.task._id&&t.taskService.taskTimeStarted(t.task))("ngModel",a.wc(38,24,t.task.endDate,"date"))("minDate",a.wc(39,27,t.task.startDate,"date")),a.Ob(4),a.zc("ngForOf",t.timeString),a.Ob(1),a.zc("ngStyle.gt-sm",a.Ac(30,B)),a.Ob(1),a.zc("ngIf",!t.task._id),a.Ob(1),a.zc("ngIf",t.task._id)}}let G=(()=>{class t{constructor(t,e,c){this._ngZone=t,this.authService=e,this.taskService=c,this.isDialog=!0,this.panelOpenState=!1,this.projectParticipants=[],this.postTask=new a.r,this.putTask=new a.r,this.close=new a.r,this.back=new a.r,this.dialogBack=new a.r,this.today=new Date}get timeString(){return this.task.startDate&&this.task.endDate?n.b.milisecondsToPeriod(this.task.startDate,this.task.endDate):null}get reviewersOptions(){return this.projectParticipants.filter(t=>this.task.participants.includes(t._id))}ngOnInit(){this.task={name:"",description:"",createdBy:this.authService.userOnline._id,participants:[],reviewers:[],project:this.selectedProject,priority:1,status:"",startDate:null,endDate:null}}ngOnChanges(t){t.task&&this.task&&(this.taskPristine=n.d.copyObject(this.task))}taskHasChanges(){return n.d.areEquals(this.task,this.taskPristine)}triggerResize(){this._ngZone.onStable.pipe(Object(T.a)(1)).subscribe(()=>this.autosize.resizeToFitContent(!0))}setDate(t,e){"startDate"===t&&(this.task.endDate=null);const c=new I.b;this.task[t]=c.transform(e,"miliseconds")}checkChangesToPatch(){let t=n.d.getObjectDifferences(this.taskPristine,this.task);return t.user=this.authService.userOnline._id,{taskChanges:t,id:this.task._id}}startTimeMin(){let t=new Date;return n.b.dateComparison(new Date(this.today.getFullYear(),this.today.getMonth(),this.today.getDate(),0,0,0,0),new Date(this.task.startDate))?(new I.c,`${t.getHours()}:${t.getMinutes()}`):"07:00 am"}participantsChange(t){this.task.participants=t,this.task.reviewers=this.task.reviewers.filter(t=>this.task.participants.includes(t))}}return t.\u0275fac=function(e){return new(e||t)(a.bc(a.J),a.bc(o.a),a.bc(s.a))},t.\u0275cmp=a.Vb({type:t,selectors:[["app-task-edition-and-creation"]],viewQuery:function(t,e){var c;1&t&&a.Wc(R,!0),2&t&&a.Ec(c=a.qc())&&(e.autosize=c.first)},inputs:{isDialog:"isDialog",projectParticipants:"projectParticipants",selectedProject:"selectedProject",task:"task",prevDialog:"prevDialog"},outputs:{postTask:"postTask",putTask:"putTask",close:"close",back:"back",dialogBack:"dialogBack"},features:[a.Mb],decls:1,vars:1,consts:[[4,"ngIf"],["fxLayout","column"],["taskForm","ngForm"],["fxLayout.gt-xs","row","fxLayout.xs","column","fxLayoutAlign","space-around","fxLayoutGap","10px"],["fxFlex.gt-sm","50","fxLayoutGap.gt-md","25px","fxLayout","column"],[3,"click",4,"ngIf"],["matInput","","name","name","autocomplete","off","required","",3,"ngModel","ngModelChange"],["cdkTextareaAutosize","","matInput","","name","description","required","","cdkAutosizeMinRows","2","cdkAutosizeMaxRows","4",3,"ngModel","ngModelChange"],["autosize","cdkTextareaAutosize"],["name","participants","required","","multiple","",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","reviewers","required","","multiple","",3,"ngModel","ngModelChange"],["name","priority","required","",3,"ngModel","ngModelChange"],[3,"value"],["fxLayout","column","fxLayoutAlign","space-around","fxFlex.gt-sm","50","fxLayoutGap","25px"],["dateFormat","time","placeholder","Start date","required","","name","startDate",3,"disabled","minDate","ngModel","ngModelChange"],["dateFormat","time","placeholder","End date","required","","name","endDate","id","endDate",3,"disabled","ngModel","minDate","ngModelChange"],[4,"ngFor","ngForOf"],["fxLayoutAlign","center",3,"ngStyle.gt-sm"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"click"],[3,"click"],["mat-raised-button","",3,"disabled","click"]],template:function(t,e){1&t&&a.Oc(0,Y,47,31,"mat-dialog-content",0),2&t&&a.zc("ngIf",e.isDialog&&e.task)},directives:[m.t,i.g,_.E,_.p,_.q,l.f,l.e,l.g,l.b,L.c,L.g,F.b,_.d,_.z,_.o,_.r,z.c,E.a,m.s,Q.n,N.a,A.d,d.b,f.a],pipes:[I.b],styles:["ngx-material-timepicker[_ngcontent-%COMP%]{z-index:1!important;position:absolute}.date-picker-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.input-date[_ngcontent-%COMP%]{cursor:pointer}.mat-dialog-content[_ngcontent-%COMP%]{max-height:100%}"]}),t})(),K=(()=>{class t{constructor(t,e,c,i,n,a){this.projectService=t,this.userService=e,this.taskService=c,this.authService=i,this.dialogRef=n,this.data=a,this.projectParticipants=[]}ngOnInit(){this.data&&this.data.taskId&&(this.getTask(this.data.taskId),n.c.set("state-data",this.data.taskId,"task-on-screen")),this.selectedProject=this.projectService.selectedProject._id,this.getPanelData(this.selectedProject),this.prevDialog=this.data?this.data.prevDialog:void 0}getTask(t){this.taskService.getTaskById(t).subscribe(t=>{let e=n.d.copyObject(t);this.taskSelected=this.taskParsed(e),n.c.set("state-data",this.taskSelected._id,"task")})}getPanelData(t){t?this.projectService.getParticipants(t).subscribe(t=>{this.projectParticipants=t}):this.userService.getUsers(0,999999).subscribe(t=>{t.push(this.authService.userOnline),this.projectParticipants=t})}postTask(t){this.taskService.postTask(t).subscribe(()=>{this.closeDialog()})}putTask(t){this.taskService.putTask(t.taskChanges,t.id).subscribe(e=>{let c=n.d.mergeObjects(e,t.taskChanges);this.taskSelected=this.taskParsed(c)})}taskParsed(t){return t.participants=t.participants.map(t=>t._id),t.reviewers=t.reviewers.map(t=>t._id),t.createdBy=t.createdBy._id,t.project=t.project,t}dialogBack(){this.dialogRef.close({prevDialog:this.prevDialog})}closeDialog(){this.dialogRef.close(),n.c.remove("state-data","task-on-screen")}}return t.\u0275fac=function(e){return new(e||t)(a.bc(h.a),a.bc(M.a),a.bc(s.a),a.bc(o.a),a.bc(i.i),a.bc(i.a))},t.\u0275cmp=a.Vb({type:t,selectors:[["app-task-dialog-edition-and-creation-smart"]],inputs:{taskSelected:"taskSelected"},decls:1,vars:4,consts:[[3,"selectedProject","projectParticipants","task","prevDialog","postTask","putTask","close","dialogBack"]],template:function(t,e){1&t&&(a.hc(0,"app-task-edition-and-creation",0),a.pc("postTask",(function(t){return e.postTask(t)}))("putTask",(function(t){return e.putTask(t)}))("close",(function(){return e.closeDialog()}))("dialogBack",(function(){return e.dialogBack()})),a.gc()),2&t&&a.zc("selectedProject",e.selectedProject)("projectParticipants",e.projectParticipants)("task",e.taskSelected)("prevDialog",e.prevDialog)},directives:[G],styles:["ngx-material-timepicker[_ngcontent-%COMP%]{z-index:1!important;position:absolute}.date-picker-field[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}.input-date[_ngcontent-%COMP%]{cursor:pointer}.mat-dialog-content[_ngcontent-%COMP%]{max-height:100%}"]}),t})();class W{constructor(t,e,c,i,n,a,s,o,r){this.name=t,this.createdBy=e,this.participants=c,this.administrators=i,this.messages=n,this.tasks=a,this.status=s,this._id=o,this.prevStates=r}}var Z=c("bSwM"),J=c("MutI");function tt(t,e){1&t&&(a.hc(0,"mat-error"),a.Qc(1,"Min 5 characters"),a.gc())}function et(t,e){if(1&t&&(a.fc(0),a.Oc(1,tt,2,0,"mat-error",7),a.ec()),2&t){a.tc();const t=a.Fc(9);a.Ob(1),a.zc("ngIf",t.errors.minlength&&!t.errors.required)}}function ct(t,e){if(1&t&&(a.hc(0,"mat-option",21),a.Qc(1),a.gc()),2&t){const t=e.$implicit;a.zc("value",t._id),a.Ob(1),a.Rc(t.name)}}function it(t,e){if(1&t&&(a.hc(0,"mat-list-item",22),a.Qc(1),a.gc()),2&t){const t=e.$implicit;a.Ob(1),a.Rc(t.name)}}function nt(t,e){if(1&t&&(a.hc(0,"mat-option",21),a.Qc(1),a.gc()),2&t){const t=e.$implicit;a.zc("value",t._id),a.Ob(1),a.Rc(t.name)}}function at(t,e){if(1&t&&(a.hc(0,"mat-list-item",22),a.Qc(1),a.gc()),2&t){const t=e.$implicit;a.Ob(1),a.Rc(t.name)}}function st(t,e){if(1&t){const t=a.ic();a.hc(0,"button",23),a.pc("click",(function(){return a.Hc(t),a.tc().createProject()})),a.hc(1,"strong"),a.Qc(2,"Create project"),a.gc(),a.gc()}if(2&t){a.tc();const t=a.Fc(4);a.zc("disabled",t.invalid)}}function ot(t,e){if(1&t){const t=a.ic();a.hc(0,"button",23),a.pc("click",(function(){return a.Hc(t),a.tc().saveProjectChanges()})),a.hc(1,"strong"),a.Qc(2,"Save Changes"),a.gc(),a.gc()}if(2&t){const t=a.tc(),e=a.Fc(4);a.zc("disabled",e.invalid||e.pristine||t.checkProjectState())}}let rt=(()=>{class t{constructor(){this.participantsOptions=[],this.admOptions=[],this.participantsSelected=[],this.admSelected=[],this.hide=new a.r,this.postProject=new a.r,this.putProject=new a.r}ngOnChanges(t){t.project&&(this.project||(this.project=new W("",this.userOnline._id,[this.userOnline._id],[this.userOnline._id],[],[],!0),this.participantsSelected=[this.userOnline],this.admSelected=[this.userOnline],this.admOptions=[this.userOnline]),this.projectPristine=n.d.copyObject(this.project)),t.participantsOptions&&this.participantsOptions.length>0&&(this.project&&this.project._id?(this.participantsSelected=this.project.participants,this.admOptions=this.project.participants,this.admSelected=this.project.administrators):(this.project=new W("",this.userOnline._id,[this.userOnline],[this.userOnline],[],[],!0),this.participantsSelected=[this.userOnline],this.admSelected=[this.userOnline],this.admOptions=[this.userOnline]),this.project.participants=this.project.participants.map(t=>t._id),this.project.administrators=this.project.administrators.map(t=>t._id),this.projectPristine=n.d.copyObject(this.project))}participantsChange(t){this.project.participants=t,this.participantsSelected=this.participantsOptions.filter(e=>t.includes(e._id)),this.project.administrators=this.project.administrators.filter(t=>this.project.participants.includes(t)),this.admSelected=this.admSelected.filter(t=>this.project.participants.includes(t._id)),this.admOptions=this.participantsOptions.filter(t=>this.project.participants.includes(t._id))}administratorsChange(t){this.project.administrators=t,this.admSelected=this.admOptions.filter(e=>t.includes(e._id))}createProject(){this.postProject.emit(this.project)}saveProjectChanges(){const t=n.d.getObjectDifferences(this.projectPristine,this.project);this.putProject.emit(t)}checkProjectState(){return n.d.areEquals(this.project,this.projectPristine)}hideModal(){this.hide.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Vb({type:t,selectors:[["app-project-edition-and-creation"]],inputs:{participantsOptions:"participantsOptions",project:"project",userOnline:"userOnline"},outputs:{hide:"hide",postProject:"postProject",putProject:"putProject"},features:[a.Mb],decls:37,vars:20,consts:[["mat-dialog-title",""],["fxFlex","100%"],["fxLayout","column"],["projectForm","ngForm"],["fxFlex","100%","fxLayout.gt-xs","row","fxLayout.xs","column","fxLayoutGap.gt-xs","20px","fxLayoutAlign","center","fxLayoutAlign","space-around"],["autocomplete","off","matInput","","minlength","5","required","","id","name","name","name","type","text","placeholder","Name",3,"ngModel","ngModelChange"],["nameControl","ngModel"],[4,"ngIf"],["fxLayout","column","fxLayoutAlign","center"],["name","status",3,"ngModel","ngModelChange"],["statusControl",""],["fxFlex","100%","fxLayout.gt-xs","row","fxLayoutAlign","space-around","fxLayout.xs","column"],["fxFlex","45%"],["required","","multiple","","name","participants",1,"form-control","mb-2",3,"disabled","ngModel","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["role","list"],["role","listitem",4,"ngFor","ngForOf"],["required","","multiple","","name","administrators",3,"disabled","ngModel","selectionChange"],["fxLayoutAlign","center"],["class","mat-raised-button",3,"disabled","click",4,"ngIf"],[1,"mat-raised-button",3,"click"],[3,"value"],["role","listitem"],[1,"mat-raised-button",3,"disabled","click"]],template:function(t,e){if(1&t&&(a.cc(0,"h2",0),a.hc(1,"mat-dialog-content"),a.hc(2,"div",1),a.hc(3,"form",2,3),a.hc(5,"div",4),a.hc(6,"div"),a.hc(7,"mat-form-field"),a.hc(8,"input",5,6),a.pc("ngModelChange",(function(t){return e.project.name=t})),a.gc(),a.gc(),a.Oc(10,et,2,1,"ng-container",7),a.gc(),a.hc(11,"div",8),a.hc(12,"mat-checkbox",9,10),a.pc("ngModelChange",(function(t){return e.project.status=t})),a.Qc(14),a.gc(),a.gc(),a.gc(),a.hc(15,"div",11),a.hc(16,"div",12),a.hc(17,"mat-form-field"),a.hc(18,"mat-label"),a.Qc(19,"Participants"),a.gc(),a.hc(20,"mat-select",13),a.pc("selectionChange",(function(t){return e.participantsChange(t.value)})),a.Oc(21,ct,2,2,"mat-option",14),a.gc(),a.gc(),a.hc(22,"mat-list",15),a.Oc(23,it,2,1,"mat-list-item",16),a.gc(),a.gc(),a.hc(24,"div",12),a.hc(25,"mat-form-field"),a.hc(26,"mat-label"),a.Qc(27,"Administrators"),a.gc(),a.hc(28,"mat-select",17),a.pc("selectionChange",(function(t){return e.administratorsChange(t.value)})),a.Oc(29,nt,2,2,"mat-option",14),a.gc(),a.gc(),a.hc(30,"mat-list",15),a.Oc(31,at,2,1,"mat-list-item",16),a.gc(),a.gc(),a.gc(),a.gc(),a.gc(),a.gc(),a.hc(32,"mat-dialog-actions",18),a.Oc(33,st,3,1,"button",19),a.Oc(34,ot,3,1,"button",19),a.hc(35,"button",20),a.pc("click",(function(){return e.hideModal()})),a.Qc(36,"Close"),a.gc(),a.gc()),2&t){const t=a.Fc(9);a.Ob(8),a.zc("ngModel",e.project.name),a.Ob(2),a.zc("ngIf",t.errors&&t.touched),a.Ob(2),a.zc("ngModel",e.project.status),a.Ob(2),a.Sc(" Status :",e.project.status?"active":"unactive",""),a.Ob(2),a.Nc("margin-top","15px"),a.Ob(4),a.zc("disabled",0===e.participantsOptions.length)("ngModel",e.project.participants),a.Ob(1),a.zc("ngForOf",e.participantsOptions),a.Ob(2),a.zc("ngForOf",e.participantsSelected),a.Ob(1),a.Nc("margin-top","15px")("margin-bottom","15px"),a.Ob(4),a.zc("disabled",0===e.admOptions.length&&0===e.project.administrators.length)("ngModel",e.project.administrators),a.Ob(1),a.zc("ngForOf",e.admOptions),a.Ob(2),a.zc("ngForOf",e.admSelected),a.Ob(2),a.zc("ngIf",!e.project._id),a.Ob(1),a.zc("ngIf",e.project._id)}},directives:[i.j,i.g,l.b,_.E,_.p,_.q,l.f,l.g,l.e,L.c,F.b,_.d,_.k,_.z,_.o,_.r,m.t,Z.a,L.g,E.a,m.s,J.a,i.c,L.b,Q.n,J.d],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%!important}mat-list-item[_ngcontent-%COMP%]{font-size:1rem!important}"]}),t})(),lt=(()=>{class t{constructor(t,e,c,i,n){this.userService=t,this.projectService=e,this.authService=c,this.dialogRef=i,this.data=n,this.participantsOptions=[],this.userOnline=this.authService.userOnline}ngOnInit(){var t;(null===(t=this.data)||void 0===t?void 0:t.project)&&(this.project=n.d.copyObject(this.data.project),n.c.set("state-data",this.project._id,"project-on-screen")),this.userService.getUsers(0,999999).subscribe(t=>{this.participantsOptions=t})}postProject(t){this.projectService.postProject(t).subscribe(()=>{this.hideModal()})}putProject(t){this.projectService.putProject(t,this.project._id).subscribe(()=>{this.hideModal()})}hideModal(t){this.dialogRef.close(t)}}return t.\u0275fac=function(e){return new(e||t)(a.bc(M.a),a.bc(h.a),a.bc(o.a),a.bc(i.i),a.bc(i.a))},t.\u0275cmp=a.Vb({type:t,selectors:[["app-project-edition-and-creation-smart"]],decls:1,vars:3,consts:[[3,"participantsOptions","userOnline","project","hide","postProject","putProject"]],template:function(t,e){1&t&&(a.hc(0,"app-project-edition-and-creation",0),a.pc("hide",(function(){return e.hideModal()}))("postProject",(function(t){return e.postProject(t)}))("putProject",(function(t){return e.putProject(t)})),a.gc()),2&t&&a.zc("participantsOptions",e.participantsOptions)("userOnline",e.userOnline)("project",e.project)},directives:[rt],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%!important}mat-list-item[_ngcontent-%COMP%]{font-size:1rem!important}"]}),t})();var dt=c("st1D");let pt=(()=>{class t{constructor(t,e){this.data=t,this.dialogRef=e,this.onActionResolved=new a.r}close(){this.dialogRef.close()}actionResolved(t){this.onActionResolved.emit(t),this.actionsRequired=this.actionsRequired.filter(e=>e.property!=Object.keys(t)[0]),0===this.actionsRequired.length&&this.close()}ngOnInit(){this.actionsRequired=this.data.actionsRequired}}return t.\u0275fac=function(e){return new(e||t)(a.bc(i.a),a.bc(i.i))},t.\u0275cmp=a.Vb({type:t,selectors:[["app-actions-required-smart-dialog"]],outputs:{onActionResolved:"onActionResolved"},decls:6,vars:1,consts:[[1,"mat-typography"],[1,"div-actions-required"],[3,"actions","setAction"],["fxLayoutAlign","center","align","end"],["mat-button","","mat-dialog-close",""]],template:function(t,e){1&t&&(a.hc(0,"mat-dialog-content",0),a.hc(1,"div",1),a.hc(2,"app-actions-required",2),a.pc("setAction",(function(t){return e.actionResolved(t)})),a.gc(),a.gc(),a.gc(),a.hc(3,"mat-dialog-actions",3),a.hc(4,"button",4),a.Qc(5,"CLOSE"),a.gc(),a.gc()),2&t&&(a.Ob(2),a.zc("actions",e.actionsRequired))},directives:[i.g,dt.a,i.c,l.e,d.b,i.d],styles:[".div-actions-required[_ngcontent-%COMP%]{\n      max-height: 40vh;\n  overflow- y: scroll;"]}),t})();var ut=c("mVP8");let ht=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.getNotifications=new a.r}ngOnInit(){this.queryString=this.data.queryString}closeDialog(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(a.bc(i.i),a.bc(i.a))},t.\u0275cmp=a.Vb({type:t,selectors:[["app-notifications-filter-smart-dialog"]],outputs:{getNotifications:"getNotifications"},decls:5,vars:1,consts:[[3,"queryString","getNotifications"],["fxLayoutAlign","center"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(a.hc(0,"mat-dialog-content"),a.hc(1,"app-notifications-filter",0),a.pc("getNotifications",(function(t){return e.getNotifications.emit(t),e.dialogRef.close()})),a.gc(),a.gc(),a.hc(2,"mat-dialog-actions",1),a.hc(3,"button",2),a.pc("click",(function(){return e.closeDialog()})),a.Qc(4," Close "),a.gc(),a.gc()),2&t&&(a.Ob(1),a.zc("queryString",e.queryString))},directives:[i.g,ut.a,i.c,l.e,d.b],styles:[".mat-dialog-content[_ngcontent-%COMP%]{\n    max-height:75vh !important\n  }"]}),t})();var gt=c("VRyK"),mt=c("Dx4h");let ft=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e}ngOnInit(){this.user=this.data.user}closeDialog(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(a.bc(i.i),a.bc(i.a))},t.\u0275cmp=a.Vb({type:t,selectors:[["app-user-info-smart-dialog"]],decls:5,vars:1,consts:[[3,"user"],["fxLayoutAlign","center"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(a.hc(0,"mat-dialog-content"),a.cc(1,"app-user-info",0),a.gc(),a.hc(2,"mat-dialog-actions",1),a.hc(3,"button",2),a.pc("click",(function(){return e.closeDialog()})),a.Qc(4," Close "),a.gc(),a.gc()),2&t&&(a.Ob(1),a.zc("user",e.user))},directives:[i.g,mt.a,i.c,d.b],styles:[".img-user[_ngcontent-%COMP%]{width:15vh;height:15vh;margin:2rem}.div-user-property[_ngcontent-%COMP%]{margin:15px}.div-user-property[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#7b87cc;text-align:center;margin-bottom:5px}.div-user-property[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}"]}),t})();var bt=c("mopJ"),vt=c("bXur");let kt=(()=>{class t{constructor(t,e){this.dialogRef=t,this.data=e,this.projects=[],this.putProject=new a.r,this.deleteProject=new a.r,this.selectProject=new a.r}ngOnInit(){this.projects=this.data.projects||[],this.dialogRef.updatePosition({top:"17%"})}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(a.bc(i.i),a.bc(i.a))},t.\u0275cmp=a.Vb({type:t,selectors:[["app-projects-dialog"]],outputs:{putProject:"putProject",deleteProject:"deleteProject",selectProject:"selectProject"},decls:5,vars:2,consts:[[3,"projects","projectSelectedIn","projectSelectedOut","deleteProject","putProject"],["fxLayoutAlign","center"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(a.hc(0,"mat-dialog-content"),a.hc(1,"app-projects",0),a.pc("projectSelectedOut",(function(t){return e.selectProject.emit({project:t,order:"select"}),e.close()}))("deleteProject",(function(t){return e.deleteProject.emit({project:t,order:"put"}),e.close()}))("putProject",(function(t){return e.putProject.emit({project:t,order:"put"}),e.close()})),a.gc(),a.gc(),a.hc(2,"mat-dialog-actions",1),a.hc(3,"button",2),a.pc("click",(function(){return e.close()})),a.Qc(4,"CLOSE"),a.gc(),a.gc()),2&t&&(a.Ob(1),a.zc("projects",e.projects)("projectSelectedIn",e.projectSelected))},directives:[i.g,vt.a,i.c,l.e,d.b],styles:["mat-dialog-content[_ngcontent-%COMP%]{padding:0} .cdk-overlay-pane{margin-top:0!important}"]}),t})(),Ot=(()=>{class t{constructor(t){this.dialog=t}openTaskInfoDialog(t,e){this.taskId=t;const c=new i.e;c.disableClose=!0,c.autoFocus=!0,c.width="500px",c.maxHeight="900px",c.data=e?{taskId:t,prevDialog:e}:{taskId:t};let n=this.dialog.open(p,c).afterClosed().subscribe(t=>{t&&(t.prevDialog?this.checkPrevDialog(t.prevDialog):t.nextDialog&&this.checkNextDialog(t.nextDialog,t.dataRequired,"taskInfo")),n.unsubscribe()})}openTasksListInfoDialog(t,e){this.tasksDate=t;const c=new i.e;c.disableClose=!0,c.autoFocus=!0,c.data=e?{date:t,prevDialog:e}:{date:t},c.width="500px";let n=this.dialog.open(C,c).afterClosed().subscribe(t=>{t&&(t.prevDialog?this.checkPrevDialog(t.prevDialog):t.nextDialog&&this.checkNextDialog(t.nextDialog,t.taskId,"tasksList")),n.unsubscribe()})}openEditCreateTaskDialog(t,e){const c=new i.e;c.disableClose=!0,c.autoFocus=!0,c.maxHeight="900px",c.width="500px",c.data=t?e?{taskId:t,prevDialog:e}:{taskId:t}:null;let n=this.dialog.open(K,c).afterClosed().subscribe(t=>{t&&(t.prevDialog?this.checkPrevDialog(t.prevDialog):t.nextDialog&&this.checkNextDialog(t.nextDialog,t.taskId,"editCreateTask")),n.unsubscribe()})}openEditProjectDialog(t){const e=new i.e;e.disableClose=!0,e.autoFocus=!0,e.data={project:t},e.width="500px",this.dialog.open(lt,e)}openPostProjectDialog(){const t=new i.e;t.disableClose=!0,t.autoFocus=!0,t.width="500px",this.dialog.open(lt,t)}openProjectInfoDialog(t){const e=new i.e;e.disableClose=!0,e.autoFocus=!0,e.width="500px",e.data={projectId:t},this.dialog.open(bt.a,e)}checkPrevDialog(t){switch(t){case"tasksList":this.openTasksListInfoDialog(this.tasksDate);break;case"taskInfo":this.openTaskInfoDialog(this.taskId);break;case"editCreateTask":this.openEditCreateTaskDialog(this.taskId)}}checkNextDialog(t,e,c){switch(t){case"tasksList":"number"==typeof e&&this.openTasksListInfoDialog(e,c);break;case"taskInfo":"string"==typeof e&&this.openTaskInfoDialog(e,c);break;case"editCreateTask":"string"==typeof e&&this.openEditCreateTaskDialog(e,c)}}showActionsRequired(t){const e=new i.e;return e.disableClose=!0,e.autoFocus=!0,e.maxHeight="500px",e.width="650px",e.data={actionsRequired:t},this.dialog.open(pt,e).componentInstance.onActionResolved}openNotificationsFilters(t){const e=new i.e;return e.disableClose=!0,e.autoFocus=!0,e.maxHeight="100vh",e.width="250px",e.data={queryString:t},this.dialog.open(ht,e).componentInstance.getNotifications}openProjectList(t){const e=new i.e;e.disableClose=!0,e.autoFocus=!0,e.data={projects:t};let c=this.dialog.open(kt,e);return Object(gt.a)(c.componentInstance.putProject,c.componentInstance.deleteProject,c.componentInstance.selectProject)}openUserInfo(t){const e=new i.e;e.disableClose=!0,e.autoFocus=!0,e.data={user:t},this.dialog.open(ft,e)}}return t.\u0275fac=function(e){return new(e||t)(a.lc(i.b))},t.\u0275prov=a.Xb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},st1D:function(t,e,c){"use strict";c.d(e,"a",(function(){return m}));var i=c("fXoL"),n=c("ofXK"),a=c("XiUz"),s=c("3Pt+"),o=c("kmnG"),r=c("d3UM"),l=c("dNRF"),d=c("FKr1"),p=c("bTqV");function u(t,e){if(1&t&&(i.hc(0,"mat-option",11),i.Qc(1),i.gc()),2&t){const t=e.$implicit;i.zc("value",t),i.Ob(1),i.Rc(t)}}function h(t,e){if(1&t&&(i.hc(0,"button",12),i.Qc(1,"Submit action"),i.gc()),2&t){i.tc();const t=i.Fc(18);i.zc("disabled",t.invalid)}}function g(t,e){if(1&t){const t=i.ic();i.hc(0,"div",2),i.hc(1,"div"),i.Qc(2,"The property "),i.hc(3,"strong"),i.Qc(4),i.gc(),i.Qc(5," of "),i.hc(6,"strong"),i.Qc(7),i.gc(),i.Qc(8," has been changed by "),i.hc(9,"strong"),i.Qc(10),i.gc(),i.Qc(11,"to "),i.hc(12,"strong"),i.Qc(13),i.gc(),i.Qc(14,", "),i.hc(15,"strong"),i.Qc(16,"ACTION IS REQUIRED"),i.gc(),i.gc(),i.hc(17,"form",3,4),i.pc("ngSubmit",(function(){return i.Hc(t),i.tc().showThinkingTimeProgress=!0})),i.hc(19,"mat-form-field",5),i.hc(20,"mat-select",6),i.Oc(21,u,2,2,"mat-option",7),i.gc(),i.gc(),i.Oc(22,h,2,1,"button",8),i.hc(23,"div",9),i.hc(24,"lp-thinking-time-progress",10),i.pc("end",(function(c){i.Hc(t);const n=e.$implicit,a=i.Fc(18),s=i.tc();return c?s.setActionValue(a.value,n.item._id):s.showThinkingTimeProgress=!1})),i.gc(),i.gc(),i.gc(),i.gc()}if(2&t){const t=e.$implicit,c=i.tc();i.Ob(1),i.Nc("margin-bottom","7px"),i.Ob(3),i.Rc(t.property),i.Ob(3),i.Rc(t.item.type),i.Ob(3),i.Sc("",t.userFrom.name," "),i.Ob(3),i.Sc("'",t.currentValue,"'"),i.Ob(2),i.Nc("color","red"),i.Ob(5),i.zc("name",t.property),i.Ob(1),i.zc("ngForOf",t.options),i.Ob(1),i.zc("ngIf",!c.showThinkingTimeProgress),i.Ob(2),i.zc("show",c.showThinkingTimeProgress)}}let m=(()=>{class t{constructor(){this.setAction=new i.r,this.actions=[]}setActionValue(t,e){this.setAction.emit(Object.assign({[Object.keys(t)[0]]:t[Object.keys(t)[0]]},{itemId:e})),this.showThinkingTimeProgress=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Vb({type:t,selectors:[["app-actions-required"]],inputs:{actions:"actions"},outputs:{setAction:"setAction"},decls:2,vars:1,consts:[[1,"div-actions-required"],["fxLayout","column",4,"ngFor","ngForOf"],["fxLayout","column"],["fxLayoutAlign","space-around","fxLayout.gt-sm","row","fxLayout.lt-md","column",3,"ngSubmit"],["actionForm","ngForm"],["fxFlex.gt-sm","60","fxLayoutGap","20px","appearance","fill"],["ngModel","","required","",3,"name"],[3,"value",4,"ngFor","ngForOf"],["class","btn-submit","fxFlex.gt-sm","25","type","submit","mat-raised-button","",3,"disabled",4,"ngIf"],["fxLayoutAlign","center"],[3,"show","end"],[3,"value"],["fxFlex.gt-sm","25","type","submit","mat-raised-button","",1,"btn-submit",3,"disabled"]],template:function(t,e){1&t&&(i.hc(0,"div",0),i.Oc(1,g,25,12,"div",1),i.gc()),2&t&&(i.Ob(1),i.zc("ngForOf",e.actions))},directives:[n.s,a.f,s.E,s.p,s.q,a.e,o.c,a.b,a.g,r.a,s.o,s.r,s.z,n.t,l.a,d.n,p.b],styles:[".btn-submit[_ngcontent-%COMP%]{height:40px}.div-actions-required[_ngcontent-%COMP%]{overflow-y:scroll}.div-actions-required[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}@media (min-width:0px) and (max-width:1279px){  .cdk-overlay-pane{position:absolute!important;top:5px!important}}"]}),t})()},yGOH:function(t,e,c){"use strict";c.d(e,"a",(function(){return a}));var i=c("ofXK"),n=c("fXoL");let a=(()=>{class t{}return t.\u0275mod=n.Zb({type:t}),t.\u0275inj=n.Yb({factory:function(e){return new(e||t)},imports:[[i.c]]}),t})()}}]);