(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"e+hA":function(e,t,c){"use strict";c.r(t),c.d(t,"TaskManagerPanelModule",(function(){return ft}));var i=c("ofXK"),s=c("tyNb"),n=c("EY2u"),a=c("eIep"),o=c("fXoL"),r=c("jVv/"),l=c("S6We"),d=c("qmzK"),g=c("WLNs"),f=c("wZkO"),h=c("XiUz"),u=c("NFeN"),m=c("SV+Y"),p=c("Wp6s"),b=c("PqYM"),v=c("l5mm"),x=c("Brg/"),O=c("vkgz"),S=c("znSr");function k(e,t){if(1&e&&(o.hc(0,"p"),o.Qc(1),o.gc()),2&e){const e=t.$implicit,c=t.index,i=o.tc(2);o.Ob(1),o.Tc("",e||0,"",i.extraTimeStringArray[c+1]?", ":""," ")}}function w(e,t){if(1&e&&(o.hc(0,"div",9),o.hc(1,"div",10),o.hc(2,"div",11),o.cc(3,"div",7),o.gc(),o.gc(),o.hc(4,"div",12),o.hc(5,"div",10),o.Qc(6," EXTRA TIME "),o.gc(),o.hc(7,"div",10),o.Qc(8," ("),o.Oc(9,k,2,2,"p",13),o.Qc(10,") "),o.gc(),o.gc(),o.gc()),2&e){const e=o.tc();o.Ob(1),o.Nc("width","100","%"),o.Ob(2),o.Nc("width",e.extraTimeProgress,"%"),o.Ob(6),o.zc("ngForOf",e.extraTimeStringArray)}}const y=function(){return{"font-size":"10px"}};let M=(()=>{class e{constructor(e){this.cdr=e}ngOnChanges(e){e.taskSelected&&Object(b.a)().subscribe(()=>{this.extraTimeSubs&&this.extraTimeSubs.unsubscribe(),this.extraTimeSubs=this.calculateExtraTime().subscribe(),this.cdr.detectChanges()})}get timelineProgress(){return this.taskSelected&&(new Date).getTime()>=this.taskSelected.startDate?Math.round(100*((new Date).getTime()-this.taskSelected.startDate)/(this.taskSelected.endDate-this.taskSelected.startDate))<100?Math.ceil(100*((new Date).getTime()-this.taskSelected.startDate)/(this.taskSelected.endDate-this.taskSelected.startDate)):100:0}calculateExtraTime(){const e=()=>{this.extraTimeMilisec="on review"===this.taskSelected.status?this.taskSelected.extraTime?this.taskSelected.extraTime+((new Date).getTime()-this.taskSelected.deliverDate):(new Date).getTime()-this.taskSelected.deliverDate:this.taskSelected.extraTime?this.taskSelected.extraTime:(new Date).getTime()-this.taskSelected.deliverDate,this.extraTimeProgress=this.taskSelected.endDate<=(new Date).getTime()&&this.taskSelected.extraTime?((new Date).getTime()-100*this.taskSelected.deliverDate)/this.extraTimeMilisec:0,this.extraTimeStringArray=x.b.milisecsToString(this.extraTimeMilisec).filter((e,t)=>!e.includes("seconds"))};return e(),Object(v.a)(1e3).pipe(Object(O.a)(()=>{e()}))}ngOnDestroy(){this.extraTimeSubs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.bc(o.i))},e.\u0275cmp=o.Vb({type:e,selectors:[["app-task-manager-progress"]],inputs:{taskSelected:"taskSelected"},features:[o.Mb],decls:23,vars:22,consts:[["fxLayout","column","fxLayout","column",1,"div-progress-container",3,"ngStyle.xs"],["fxShow.lt-md","","fxHide.gt-sm","","fxLayoutAlign","space-between"],["fxLayoutAlign","center",1,"div-date"],["fxLayoutGap","5px","fxLayout","row",1,"div-progress",3,"fxFlex"],["fxHide.lt-md","","fxShow.gt-sm","","fxLayoutAlign","center","fxFlex","15"],["fxFlex.gt-sm","70","fxFlex.lt-md","100","fxLayoutAlign","center"],["fxFlex","100","fxLayout","column",1,"progress-bar-container"],[1,"progress-bar"],["fxFlex","40","class","div-progress","fxLayout","column",4,"ngIf"],["fxFlex","40","fxLayout","column",1,"div-progress"],["fxLayoutAlign","center"],["fxFlex","60","fxLayout","column",1,"progress-bar-container"],["fxFlex","10","fxLayout","row","fxLayoutAlign","center",1,"div-extratime-info"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(o.hc(0,"div",0),o.hc(1,"div",1),o.hc(2,"div",2),o.hc(3,"span"),o.Qc(4),o.uc(5,"date"),o.gc(),o.gc(),o.hc(6,"div",2),o.hc(7,"span"),o.Qc(8),o.uc(9,"date"),o.gc(),o.gc(),o.gc(),o.hc(10,"div",3),o.hc(11,"div",4),o.hc(12,"span"),o.Qc(13),o.uc(14,"date"),o.gc(),o.gc(),o.hc(15,"div",5),o.hc(16,"div",6),o.cc(17,"div",7),o.gc(),o.gc(),o.hc(18,"div",4),o.hc(19,"span"),o.Qc(20),o.uc(21,"date"),o.gc(),o.gc(),o.gc(),o.Oc(22,w,11,5,"div",8),o.gc()),2&e&&(o.zc("ngStyle.xs",o.Ac(21,y)),o.Ob(4),o.Rc(o.wc(5,9,t.taskSelected.startDate,"M/d/yy, H:mm ")),o.Ob(4),o.Sc(" ",o.wc(9,12,t.taskSelected.endDate,"M/d/yy, H:mm ")," "),o.Ob(2),o.zc("fxFlex",t.taskSelected.deliverDate?"40":"100"),o.Ob(3),o.Rc(o.wc(14,15,t.taskSelected.startDate,"M/d/yy, H:mm ")),o.Ob(4),o.Nc("width",t.timelineProgress,"%"),o.Ob(3),o.Sc(" ",o.wc(21,18,t.taskSelected.endDate,"M/d/yy, H:mm ")," "),o.Ob(2),o.zc("ngIf",t.extraTimeMilisec))},directives:[h.f,S.d,S.c,h.e,h.g,h.b,i.t,i.s],pipes:[i.f],styles:[".div-progress-container[_ngcontent-%COMP%]{width:100%;line-height:10pt;font-weight:bolder}.div-progress-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:0!important;margin:0!important}.div-progress-container[_ngcontent-%COMP%]   .div-progress[_ngcontent-%COMP%]{margin-top:5px!important;width:100%;align-items:center}.div-progress-container[_ngcontent-%COMP%]   .div-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{height:18px;width:100%;background-color:wheat;border:1px solid #000;border-radius:5px}.div-progress-container[_ngcontent-%COMP%]   .div-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#7b87cc;height:100%;width:100%}.div-progress-container[_ngcontent-%COMP%]   .div-extratime-info[_ngcontent-%COMP%]{margin-top:10px!important}.div-progress-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{word-break:break-all}.div-progress-container[_ngcontent-%COMP%]   .div-date[_ngcontent-%COMP%]{margin:7px!important}"]}),e})();var F=c("Qu3c"),C=c("kmnG"),I=c("st1D");let T=(()=>{class e{constructor(){this.onActionResolved=new o.r}actionResolved(e){this.onActionResolved.emit(e),this.actionsRequired=this.actionsRequired.filter(t=>t.property!=Object.keys(e)[0])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Vb({type:e,selectors:[["app-actions-required-smart"]],inputs:{actionsRequired:"actionsRequired"},outputs:{onActionResolved:"onActionResolved"},decls:1,vars:1,consts:[[3,"actions","setAction"]],template:function(e,t){1&e&&(o.hc(0,"app-actions-required",0),o.pc("setAction",(function(e){return t.actionResolved(e)})),o.gc()),2&e&&o.zc("actions",t.actionsRequired)},directives:[I.a],encapsulation:2}),e})();function z(e,t){1&e&&(o.hc(0,"mat-label",23),o.Qc(1," TOGGLE STATUS "),o.gc())}function L(e,t){1&e&&(o.hc(0,"mat-label",23),o.Qc(1," EDIT "),o.gc())}function _(e,t){1&e&&(o.hc(0,"mat-label",23),o.Qc(1," DELETE TASK "),o.gc())}function A(e,t){if(1&e&&(o.hc(0,"li",24),o.Qc(1),o.gc()),2&e){const e=t.$implicit;o.Ob(1),o.Rc(e.name)}}function P(e,t){if(1&e&&(o.hc(0,"li",24),o.Qc(1),o.gc()),2&e){const e=t.$implicit;o.Ob(1),o.Rc(e.name)}}function Q(e,t){if(1&e){const e=o.ic();o.hc(0,"mat-card",25),o.hc(1,"h4"),o.Qc(2," Actions required "),o.gc(),o.hc(3,"mat-icon",5),o.pc("click",(function(){return o.Hc(e),o.tc(2).showActionsRequired()})),o.Qc(4,"assignment_late"),o.gc(),o.gc()}}function R(e,t){if(1&e){const e=o.ic();o.hc(0,"mat-card",26),o.hc(1,"h4"),o.Qc(2," Actions required "),o.gc(),o.hc(3,"app-actions-required-smart",27),o.pc("onActionResolved",(function(t){return o.Hc(e),o.tc(2).actionResolved.emit(t)})),o.gc(),o.gc()}if(2&e){const e=o.tc(2);o.Ob(1),o.Nc("color","red"),o.Ob(2),o.zc("actionsRequired",e.taskSelected.actionsRequired)}}const E=function(e){return{"icon-disabled":e}};function D(e,t){if(1&e){const e=o.ic();o.hc(0,"div",1),o.hc(1,"mat-card",2),o.hc(2,"div",3),o.hc(3,"h4",4),o.Qc(4," Name: "),o.gc(),o.hc(5,"p",4),o.Qc(6),o.gc(),o.gc(),o.hc(7,"div",3),o.hc(8,"h4",4),o.Qc(9," Description: "),o.gc(),o.hc(10,"div",4),o.hc(11,"mat-icon",5),o.pc("click",(function(){return o.Hc(e),o.tc().showDescription()})),o.Qc(12,"pageview"),o.gc(),o.gc(),o.gc(),o.gc(),o.hc(13,"mat-card",2),o.hc(14,"div",3),o.hc(15,"h4",4),o.Qc(16," Status: "),o.gc(),o.hc(17,"p",4),o.Qc(18),o.gc(),o.gc(),o.hc(19,"div",3),o.hc(20,"h4",4),o.Qc(21," Priority: "),o.gc(),o.hc(22,"p",4),o.Qc(23),o.gc(),o.gc(),o.gc(),o.hc(24,"mat-card",6),o.hc(25,"h4",7),o.Qc(26," Progress "),o.gc(),o.cc(27,"app-task-manager-progress",8),o.gc(),o.hc(28,"mat-card",9),o.hc(29,"h4",10),o.Qc(30," Options "),o.gc(),o.hc(31,"div",11),o.hc(32,"div",12),o.hc(33,"div",13),o.hc(34,"mat-icon",14),o.pc("click",(function(){return o.Hc(e),o.tc().toggleStat()})),o.Qc(35),o.gc(),o.gc(),o.Oc(36,z,2,0,"mat-label",15),o.gc(),o.hc(37,"div",12),o.hc(38,"div",13),o.hc(39,"mat-icon",16),o.pc("click",(function(){o.Hc(e);const t=o.tc();return t.taskService.canBeEdited(t.taskSelected)?t.editTask.emit():null})),o.Qc(40,"edit"),o.gc(),o.gc(),o.Oc(41,L,2,0,"mat-label",15),o.gc(),o.hc(42,"div",12),o.hc(43,"div",13),o.hc(44,"mat-icon",17),o.pc("click",(function(){o.Hc(e);const t=o.tc();return t.taskService.taskTimeStarted(t.taskSelected)?null:t.deleteTask.emit()})),o.Qc(45,"delete"),o.gc(),o.gc(),o.Oc(46,_,2,0,"mat-label",15),o.gc(),o.gc(),o.gc(),o.hc(47,"mat-card",2),o.hc(48,"div",18),o.hc(49,"h4",19),o.Qc(50,"Participants"),o.gc(),o.hc(51,"ul"),o.Oc(52,A,2,1,"li",20),o.gc(),o.gc(),o.hc(53,"div",18),o.hc(54,"h4",19),o.Qc(55,"Reviewers"),o.gc(),o.hc(56,"ul"),o.Oc(57,P,2,1,"li",20),o.gc(),o.gc(),o.gc(),o.Oc(58,Q,5,0,"mat-card",21),o.Oc(59,R,4,3,"mat-card",22),o.gc()}if(2&e){const e=o.tc();o.Ob(1),o.zc("fxFlex",e.mdService?8:10),o.Ob(5),o.Sc(" ",e.taskSelected.name," "),o.Ob(7),o.zc("fxFlex",e.mdService?8:10),o.Ob(5),o.Sc(" ",e.taskSelected.status.toUpperCase()," "),o.Ob(5),o.Sc(" ",1===e.taskSelected.priority?"HIGH":2===e.taskSelected.priority?"MEDIUM":"LOW"," "),o.Ob(1),o.zc("fxFlex",e.mdService.desktop?e.hasActsRequired?26:36:"42"),o.Ob(3),o.zc("taskSelected",e.taskSelected),o.Ob(1),o.zc("fxFlex",e.mdService.desktop?e.hasActsRequired?10:20:"35"),o.Ob(6),o.zc("matTooltip","on review"===e.taskSelected.status?"Task is being reviewed":"")("ngClass",o.Bc(21,E,!e.taskService.taskTimeStarted(e.taskSelected))),o.Ob(1),o.Sc(" ","pending"===e.taskSelected.status?"move_to_inbox":"on review"===e.taskSelected.status?"hourglass_full":"assignment_turned_in"," "),o.Ob(1),o.zc("ngIf",e.mdService.desktop),o.Ob(3),o.zc("ngClass",o.Bc(23,E,!e.taskService.canBeEdited(e.taskSelected))),o.Ob(2),o.zc("ngIf",e.mdService.desktop),o.Ob(3),o.zc("ngClass",o.Bc(25,E,e.taskService.taskTimeStarted(e.taskSelected))),o.Ob(2),o.zc("ngIf",e.mdService.desktop),o.Ob(1),o.zc("fxFlex",e.mdService.desktop&&e.hasActsRequired?15:30),o.Ob(5),o.zc("ngForOf",e.taskSelected.participants),o.Ob(5),o.zc("ngForOf",e.taskSelected.reviewers),o.Ob(1),o.zc("ngIf",e.hasActsRequired&&!e.mdService.desktop),o.Ob(1),o.zc("ngIf",e.hasActsRequired&&e.mdService.desktop)}}let H=(()=>{class e{constructor(e,t,c,i,s){this.taskService=e,this.authService=t,this.lpDialogsService=c,this.mdService=i,this.dialogsService=s,this.deleteTask=new o.r,this.toggleStatus=new o.r,this.editTask=new o.r,this.actionResolved=new o.r,this.hasActsRequired=!1,this.display=!1}ngOnInit(){}ngOnChanges(e){e.taskSelected&&this.taskSelected&&(this.hasActsRequired=!!(this.taskSelected.actionsRequired&&this.taskSelected.actionsRequired.length>0&&this.taskSelected.actionsRequired.find(e=>e.usersTo.map(e=>e._id).includes(this.authService.userOnline._id))))}toggleStat(){let e;switch(this.taskSelected.status){case"pending":e="on review";break;case"done":e="pending"}e&&this.taskService.taskTimeStarted(this.taskSelected)&&this.toggleStatus.emit(e)}showDescription(){this.lpDialogsService.openInfoDialog(this.taskSelected.description,"TASK DESCRIPTION")}showActionsRequired(){this.dialogsService.showActionsRequired(this.taskSelected.actionsRequired).subscribe(e=>{this.actionResolved.emit(e)})}}return e.\u0275fac=function(t){return new(t||e)(o.bc(l.a),o.bc(r.a),o.bc(g.b),o.bc(m.a),o.bc(d.a))},e.\u0275cmp=o.Vb({type:e,selectors:[["app-task-manager-info"]],inputs:{taskSelected:"taskSelected"},outputs:{deleteTask:"deleteTask",toggleStatus:"toggleStatus",editTask:"editTask",actionResolved:"actionResolved"},features:[o.Mb],decls:1,vars:1,consts:[["class","div-info-container","fxLayout","column",4,"ngIf"],["fxLayout","column",1,"div-info-container"],["fxLayout","row",3,"fxFlex"],["fxLayout","row","fxFlex","50"],["fxFlex.gt-sm","50","fxLayout.gt-sm","column","fxLayoutAlign","center"],["color","primary",3,"click"],["fxLayout","column",3,"fxFlex"],["fxLayout.gt-sm","column","fxLayoutAlign","center"],[3,"taskSelected"],[3,"fxFlex"],["fxFlex.gt-xs","15","fxFlex.xs","50"],["fxFlex","80","fxLayout","row"],["fxFlex.gt-xs","20","fxFlex.xs","33","fxLayout","row"],["fxLayoutAlign","center"],["color","primary",3,"matTooltip","ngClass","click"],["class","label-action",4,"ngIf"],["color","primary",3,"ngClass","click"],["color","warn",3,"ngClass","click"],["fxLayout.gt-sm","row","fxLayout.lt-md","column","fxFlex","50"],["fxLayout.gt-sm","column","fxLayoutAlign.lt-md","center"],["role","listitem",4,"ngFor","ngForOf"],["fxLayoutAlign","center","fxLayout","row","fxFlex","10",4,"ngIf"],["fxLayout","column","fxFlex","35",4,"ngIf"],[1,"label-action"],["role","listitem"],["fxLayoutAlign","center","fxLayout","row","fxFlex","10"],["fxLayout","column","fxFlex","35"],[3,"actionsRequired","onActionResolved"]],template:function(e,t){1&e&&o.Oc(0,D,60,27,"div",0),2&e&&o.zc("ngIf",t.taskSelected)},directives:[i.t,h.f,p.a,h.b,h.e,u.a,M,F.a,i.q,S.a,i.s,C.g,T],styles:[".div-info-container[_ngcontent-%COMP%]{height:82vh}.div-info-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:30px}.div-info-container[_ngcontent-%COMP%]   .icon-disabled[_ngcontent-%COMP%]{cursor:auto;opacity:.3}.div-info-container[_ngcontent-%COMP%]   .div-task-name[_ngcontent-%COMP%]{background-color:#7b87cc;color:#f5f5f5;height:25px;font-weight:bolder}.div-info-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#7b87cc;margin:0;padding:0 0 0 25px}.div-info-container[_ngcontent-%COMP%]   .label-action[_ngcontent-%COMP%]{font-weight:700;font-size:12px;text-align:center;margin-top:5px}.div-info-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{padding:0}.div-info-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:5px}.div-info-container[_ngcontent-%COMP%]   .div-description[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden;overflow-y:none;cursor:pointer}@media (max-width:1279px){h4[_ngcontent-%COMP%]{padding-left:5px!important}.div-info-container[_ngcontent-%COMP%]{height:77vh}}"]}),e})();var U=c("XNiG"),j=c("tk/3"),N=c("lJxs"),q=c("IZH3"),$=c("KwZR");let V=(()=>{class e{constructor(e,t){this.http=e,this.wsService=t,this.messagesSource=new U.a,this.messages$=this.messagesSource.asObservable()}getMessages(e,t,c=10){const i=new j.d({skip:t.toString(),limit:c.toString()});return this.http.get(`${q.a}messages/${e}`,{headers:i}).pipe(Object(N.a)(e=>(console.log({res:e}),{count:e.data.count,messages:e.data.messages})))}postMessage(e,t){e.date=(new Date).getTime();const c=new FormData;return e.files.forEach((e,t)=>{c.append(t,e,e.name)}),Object.keys(e).forEach(t=>{"files"!=t&&c.append(t,e[t])}),this.http.post(`${q.a}message/${t}`,c).pipe(Object(N.a)(e=>e.message))}deleteMessage(e){return this.http.delete(`${q.a}message/${e}`).pipe(Object(O.a)(e=>{this.messagesSource.next({message:e.message,order:"delete"})}))}listenningMessages(){return this.wsService.listen("message-in")}}return e.\u0275fac=function(t){return new(t||e)(o.lc(j.b),o.lc($.a))},e.\u0275prov=o.Xb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var B=c("LRne"),K=c("x1eN");let G=(()=>{class e{constructor(e,t,c){this.http=e,this.lpDialogsService=t,this.loadSpinnerService=c,this.textFormats=["pdf"],this.fileSrc=new U.a,this.file$=this.fileSrc.asObservable()}getDbFile(e){return this.http.get(`${q.a}file/${e}`,{responseType:"blob"})}spreadFile(e,t){this.fileSrc.next({order:t,file:e})}deleteFile(e){const t=this.http.delete(`${q.a}delete-file/${e._id}`).pipe(Object(N.a)(e=>e.file),Object(O.a)(e=>this.spreadFile(e,"DELETE")));return this.lpDialogsService.openConfirmDialog("FILE DELETION",`The file ${e.title} will be deleted`).pipe(Object(a.a)(e=>e?t:Object(n.b)()))}getFileById(e){return this.http.get(`${q.a}searchById/file/${e}`).pipe(Object(N.a)(e=>e.file))}downloadFile(e){const{src:t,file:c}=e;return this.lpDialogsService.openConfirmDialog("DOWNLOAD FILE?",c.title).pipe(Object(a.a)(e=>e?(t.includes("blob")?Object(B.a)({src:t,title:c.title}).pipe(Object(O.a)(()=>this.loadSpinnerService.state.next(!1))):this.getDbFile(c.name).pipe(Object(N.a)(e=>({src:URL.createObjectURL(e),title:c.title})))).pipe(Object(O.a)(e=>{const t=document.createElement("a");t.href=e.src,t.download=e.title,document.body.appendChild(t),t.click()})):Object(n.b)()))}}return e.\u0275fac=function(t){return new(t||e)(o.lc(j.b),o.lc(g.b),o.lc(K.a))},e.\u0275prov=o.Xb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Y=c("2Vo4"),W=c("0IaG"),X=c("qFsG"),Z=c("ihCf"),J=c("3Pt+"),ee=c("bTqV"),te=c("jhN1");let ce=(()=>{class e{constructor(e,t){this.filesService=e,this.domSanitizer=t,this.textFormats=[{icon:"word",mime:"application/msword"},{icon:"odt",mime:"application/vnd.oasis.opendocument.text"},{icon:"xml",mime:"text/xml"},{icon:"pdf",mime:"application/pdf"},{icon:"word",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{icon:"xml",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{icon:"text",mime:"text/plain"}]}transform(e){let t=this.textFormats.find(t=>t.mime===e.type);return t?Object(B.a)(`../../../assets/icons/files/${t.icon}.png`):e instanceof File?Object(B.a)(this.domSanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(e))):this.filesService.getDbFile(e.name).pipe(Object(N.a)(e=>this.domSanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(e))))}}return e.\u0275fac=function(t){return new(t||e)(o.bc(G),o.bc(te.b))},e.\u0275pipe=o.ac({name:"fileIcon",type:e,pure:!0}),e})();function ie(e,t){if(1&e&&(o.hc(0,"div",1),o.cc(1,"img",7),o.uc(2,"async"),o.uc(3,"fileIcon"),o.hc(4,"div",8),o.Qc(5),o.gc(),o.gc()),2&e){const e=t.$implicit;o.Ob(1),o.zc("src",o.vc(2,2,o.vc(3,4,e)),o.Ic),o.Ob(4),o.Sc(" ",e.name," ")}}function se(e,t){if(1&e){const e=o.ic();o.hc(0,"div",1),o.hc(1,"div",2),o.Oc(2,ie,6,6,"div",3),o.gc(),o.hc(3,"div"),o.hc(4,"mat-form-field",4),o.hc(5,"mat-label"),o.Qc(6,"You can write a message"),o.gc(),o.hc(7,"textarea",5),o.pc("ngModelChange",(function(t){return o.Hc(e),o.tc().text=t})),o.gc(),o.gc(),o.gc(),o.hc(8,"div"),o.hc(9,"button",6),o.pc("click",(function(){return o.Hc(e),o.tc().accept()})),o.Qc(10,"OK"),o.gc(),o.hc(11,"button",6),o.pc("click",(function(){return o.Hc(e),o.tc().cancel()})),o.Qc(12,"cancel"),o.gc(),o.gc(),o.gc()}if(2&e){const e=o.tc();o.Ob(2),o.zc("ngForOf",e.files),o.Ob(5),o.Nc("margin-top","10px"),o.zc("ngModel",e.text)}}let ne=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,this.files=t.files}accept(){this.dialogRef.close({accepted:!0,text:this.text})}cancel(){this.dialogRef.close({accepted:!1})}}return e.\u0275fac=function(t){return new(t||e)(o.bc(W.i),o.bc(W.a))},e.\u0275cmp=o.Vb({type:e,selectors:[["app-chat-files-dialog"]],decls:1,vars:1,consts:[["fxLayout","column",4,"ngIf"],["fxLayout","column"],["fxLayout","row",1,"div-files"],["fxLayout","column",4,"ngFor","ngForOf"],[1,"mat-form-full-width"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMaxRows","3","rows","3","cols","40",1,"textarea",3,"ngModel","ngModelChange"],["fxFlex","50","mat-raised-button","",3,"click"],["alt","",1,"file-icon-temp",3,"src"],[1,"div-file-title"]],template:function(e,t){1&e&&o.Oc(0,se,13,4,"div",0),2&e&&o.zc("ngIf",t.files)},directives:[i.t,h.f,i.s,C.c,C.g,X.b,Z.c,J.d,J.o,J.r,ee.b,h.b],pipes:[i.b,ce],styles:[".div-files[_ngcontent-%COMP%]{margin:8px;max-width:250px;overflow-x:scroll;font-size:9px}.div-files[_ngcontent-%COMP%]   .file-icon-temp[_ngcontent-%COMP%]{height:70px;width:70px}textarea[_ngcontent-%COMP%]{padding:0!important}"]}),e})();class ae{constructor(e,t,c,i){this.text=e,this.files=t,this.date=c,this._id=i}}const oe=[{format:".gif",mimeType:"image/gif"},{format:".jpeg",mimeType:"image/jpeg"},{format:".png",mimeType:"image/png"},{format:".doc",mimeType:"application/msword"},{format:".odt",mimeType:"application/vnd.oasis.opendocument.text"},{format:".txt",mimeType:"text/plain"},{format:".pdf",mimeType:"application/pdf"},{format:".docx",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{format:"xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}];var re=c("41FU"),le=c("zP0r");const de=["fileInput"],ge=["fileInputCtrl"];let fe=(()=>{class e{constructor(){this.config={},this.propagateChange=e=>{}}validate(){return this.errors}ngAfterViewInit(){if(!this.trigger)throw new Error("Component needs a trigger");this.trigger.nativeElement.addEventListener("click",()=>{this.fileInput.nativeElement.click()}),this.fileInputController.valueChanges.pipe(Object(le.a)(1)).subscribe(()=>{let e=this.fileInputController.control.errors;e?(this.errors=e,this.propagateChange(null)):(this.errors=null,this.propagateChange(this.fileInput.nativeElement.files)),this.fileInput.nativeElement.files=null,this.fileInput.nativeElement.value=null})}writeValue(e){}registerOnChange(e){this.propagateChange=e}registerOnTouched(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Vb({type:e,selectors:[["lp-files-uploader"]],viewQuery:function(e,t){var c;1&e&&(o.Mc(de,!0),o.Mc(ge,!0)),2&e&&(o.Ec(c=o.qc())&&(t.fileInput=c.first),o.Ec(c=o.qc())&&(t.fileInputController=c.first))},inputs:{config:"config",trigger:"trigger"},features:[o.Nb([{provide:J.m,useExisting:Object(o.hb)(()=>e),multi:!0},{provide:J.l,useExisting:Object(o.hb)(()=>e),multi:!0}])],decls:5,vars:5,consts:[["form","ngForm"],["hidden","","ngModel","","name","files-input","type","file","lpFilesUploader","",2,"display","none",3,"multiple","allowedMimeTypes","notAllowedMimeTypes","maxSizeKb","maxNameLength"],["fileInput","","fileInputCtrl","ngModel"]],template:function(e,t){1&e&&(o.hc(0,"form",null,0),o.cc(2,"input",1,2),o.gc()),2&e&&(o.Ob(2),o.zc("multiple",t.config.multiple)("allowedMimeTypes",t.config.allowedMimeTypes)("notAllowedMimeTypes",t.config.notAllowedMimeTypes)("maxSizeKb",t.config.maxSizeKb)("maxNameLength",t.config.maxNameLength))},directives:function(){return[J.E,J.p,J.q,J.d,J.o,J.r,he]},encapsulation:2}),e})(),he=(()=>{class e{constructor(e){this.el=e}validate(){let e=this.el.nativeElement.files;return this.validateTypes(e)?this.validateTypes(e):this.validateSize(e)?this.validateSize(e):this.validateNameLength(e)?this.validateNameLength(e):null}validateTypes(e){let t=null;return Array.from(e).forEach(e=>{this.allowedMimeTypes&&this.allowedMimeTypes.indexOf(e.type)<0&&(t={invalidMimeType:!0})}),this.notAllowedMimeTypes&&Array.from(e).forEach(e=>{this.notAllowedMimeTypes.indexOf(e.type)>=0&&(t={invalidMimeType:!0})}),t}validateSize(e){let t=null;return this.maxSizeKb&&Array.from(e).forEach(e=>{e.size/1024>this.maxSizeKb&&(t={invalidFileSize:!0})}),t}validateNameLength(e){let t=null;return this.maxNameLength&&Array.from(e).forEach(e=>{e.name.length>this.maxNameLength&&(t={invalidNameLength:!0})}),t}}return e.\u0275fac=function(t){return new(t||e)(o.bc(o.o))},e.\u0275dir=o.Wb({type:e,selectors:[["","lpFilesUploader",""]],inputs:{allowedMimeTypes:"allowedMimeTypes",notAllowedMimeTypes:"notAllowedMimeTypes",maxSizeKb:"maxSizeKb",maxNameLength:"maxNameLength"},features:[o.Nb([{provide:J.l,useExisting:Object(o.hb)(()=>e),multi:!0}])]}),e})(),ue=(()=>{class e{}return e.\u0275mod=o.Zb({type:e}),e.\u0275inj=o.Yb({factory:function(t){return new(t||e)},imports:[[i.c,J.i,J.y]]}),e})();const me=["fileUploader"];let pe=(()=>{class e{constructor(e){this.lpSnackbarNotificationsService=e,this.files=new o.r,this.showUsers=new o.r,this.imgValidationConfig={allowedMimeTypes:oe.map(e=>e.mimeType),maxSizeKb:3e3,maxNameLength:150,multiple:!0}}ngOnInit(){this.filesInfo=`Allowed formats: ${oe.reduce((e,t)=>(this.imgValidationConfig.allowedMimeTypes.indexOf(t.mimeType)>=0&&(e+=""+(e?", "+t.format:t.format)),e),"")}\nmax size kb: ${this.imgValidationConfig.maxSizeKb}\nmax name length: ${this.imgValidationConfig.maxNameLength}`}ngAfterViewInit(){this.filesUploaderChanges=this.fileUploader.valueChanges.subscribe(()=>{if(this.fileUploader.errors)switch(Object.keys(this.fileUploader.errors)[0]){case"invalidMimeType":this.lpSnackbarNotificationsService.validationError("INVALID FILE FORMAT");break;case"invalidFileSize":this.lpSnackbarNotificationsService.validationError("INVALID FILE SIZE");break;case"invalidNameLength":this.lpSnackbarNotificationsService.validationError("INVALID FILE NAME LENGTH")}})}setFiles(e){if(null!=e){const t=[];Array.from(e).forEach(e=>{t.push(e)}),this.files.emit(t)}}ngOnDestroy(){this.filesUploaderChanges.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.bc(re.a))},e.\u0275cmp=o.Vb({type:e,selectors:[["chat-tools"]],viewQuery:function(e,t){var c;1&e&&o.Wc(me,!0),2&e&&o.Ec(c=o.qc())&&(t.fileUploader=c.first)},outputs:{files:"files",showUsers:"showUsers"},decls:9,vars:3,consts:[["fxLayoutGap","20px",1,"card-tools"],[3,"color","click"],["color","primary"],["filesUploaderTrigger",""],["action",""],["ngModel","","name","files",3,"trigger","config","ngModelChange"],["fileUploader","ngModel"]],template:function(e,t){if(1&e&&(o.hc(0,"mat-card",0),o.hc(1,"mat-icon",1),o.pc("click",(function(){return t.showU=!t.showU,t.showUsers.emit(t.showU)})),o.Qc(2,"supervised_user_circle"),o.gc(),o.hc(3,"mat-icon",2,3),o.Qc(5," attach_file"),o.gc(),o.hc(6,"form",4),o.hc(7,"lp-files-uploader",5,6),o.pc("ngModelChange",(function(e){return t.setFiles(e)})),o.gc(),o.gc(),o.gc()),2&e){const e=o.Fc(4);o.Ob(1),o.zc("color",t.showU?"accent":"primary"),o.Ob(6),o.zc("trigger",e._elementRef)("config",t.imgValidationConfig)}},directives:[p.a,h.g,u.a,J.E,J.p,J.q,fe,J.o,J.r],styles:[".card-tools[_ngcontent-%COMP%]{height:15px!important}  .mat-tooltip{white-space:pre-line}"]}),e})();const be=["textArea"];let ve=(()=>{class e{constructor(e){this.dialog=e,this.message=new ae("",[],null),this.sendMsg=new o.r,this.showUsers=new o.r}ngOnInit(){}sendMessage(){this.sendMsg.emit(this.message),this.message=new ae("",[],null),this.textArea.nativeElement.focus()}setFiles(e){this.dialog.open(ne,{data:{files:e}}).afterClosed().subscribe(t=>{t.accepted&&(this.message.text=t.text?t.text:"",this.message.files.push(...e),this.sendMessage())})}}return e.\u0275fac=function(t){return new(t||e)(o.bc(W.b))},e.\u0275cmp=o.Vb({type:e,selectors:[["chat-input"]],viewQuery:function(e,t){var c;1&e&&o.Wc(be,!0),2&e&&o.Ec(c=o.qc())&&(t.textArea=c.first)},outputs:{sendMsg:"sendMsg",showUsers:"showUsers"},decls:8,vars:6,consts:[["fxLayout","column"],["fxLayout","row"],["mat-raised-button","",3,"disabled","click"],["fxFlex","90",3,"files","showUsers"],[1,"mat-form-full-width"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMaxRows","4","cdkAutosizeMinRows","4","cols","40","placeholder","write something",1,"textarea",3,"ngModel","ngModelChange"],["textArea",""]],template:function(e,t){1&e&&(o.hc(0,"div",0),o.hc(1,"div",1),o.hc(2,"button",2),o.pc("click",(function(){return t.sendMessage()})),o.Qc(3,"send"),o.gc(),o.hc(4,"chat-tools",3),o.pc("files",(function(e){return t.setFiles(e)}))("showUsers",(function(e){return t.showUsers.emit(e)})),o.gc(),o.gc(),o.hc(5,"mat-form-field",4),o.hc(6,"textarea",5,6),o.pc("ngModelChange",(function(e){return t.message.text=e})),o.gc(),o.gc(),o.gc()),2&e&&(o.Ob(2),o.Nc("width",100,"%"),o.zc("disabled",!t.message.text),o.Ob(4),o.Nc("margin-top","10px"),o.zc("ngModel",t.message.text))},directives:[h.f,ee.b,pe,h.b,C.c,X.b,Z.c,J.d,J.o,J.r],styles:["textarea[_ngcontent-%COMP%]{padding:0!important}"]}),e})();function xe(e,t){if(1&e&&(o.hc(0,"div",2),o.hc(1,"p"),o.Qc(2),o.gc(),o.hc(3,"mat-icon",3),o.Qc(4,"face"),o.gc(),o.gc()),2&e){const e=t.$implicit;o.Ob(2),o.Rc(e.name),o.Ob(1),o.zc("color",e.connected?"primary":"accent")}}let Oe=(()=>{class e{constructor(){this.users=[]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Vb({type:e,selectors:[["chat-users"]],inputs:{users:"users"},decls:2,vars:1,consts:[[1,"div-users"],["fxLayoutAlign","space-around","fxLayout","row",4,"ngFor","ngForOf"],["fxLayoutAlign","space-around","fxLayout","row"],[3,"color"]],template:function(e,t){1&e&&(o.hc(0,"div",0),o.Oc(1,xe,5,2,"div",1),o.gc()),2&e&&(o.Ob(1),o.zc("ngForOf",t.users))},directives:[i.s,h.e,h.f,u.a],styles:[".div-users[_ngcontent-%COMP%]{margin:10px;overflow-y:scroll;max-height:55vh}.div-users[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}@media (max-width:1279px){.div-users[_ngcontent-%COMP%]{max-height:100%;border-bottom:1px solid #d3d3d3}}"]}),e})();var Se=c("Xa2L");const ke=["divMessages"];function we(e,t){1&e&&o.cc(0,"mat-spinner",5),2&e&&o.zc("diameter",50)}function ye(e,t){if(1&e){const e=o.ic();o.hc(0,"div",11),o.hc(1,"img",12,13),o.pc("click",(function(){o.Hc(e);const c=t.$implicit,i=o.Fc(2);return o.tc(3).downloadFile.emit({src:i.src,file:c})})),o.uc(3,"async"),o.uc(4,"fileIcon"),o.gc(),o.hc(5,"div",14),o.Qc(6),o.gc(),o.gc()}if(2&e){const e=t.$implicit;o.Ob(1),o.zc("src",o.vc(3,2,o.vc(4,4,e)),o.Ic),o.Ob(5),o.Sc(" ",e.title," ")}}function Me(e,t){if(1&e&&(o.hc(0,"div",9),o.Oc(1,ye,7,6,"div",10),o.gc()),2&e){const e=o.tc().$implicit;o.Ob(1),o.zc("ngForOf",e.files)}}const Fe=function(e){return{color:e}};function Ce(e,t){if(1&e&&(o.hc(0,"mat-card"),o.hc(1,"div",6),o.hc(2,"small"),o.Qc(3),o.uc(4,"date"),o.gc(),o.gc(),o.Oc(5,Me,2,1,"div",7),o.hc(6,"p",8),o.Qc(7),o.gc(),o.gc()),2&e){const e=t.$implicit,c=o.tc();o.Ob(1),o.zc("ngStyle",o.Bc(9,Fe,e.user._id===c.userOnline._id?"#7b87cc":"#d1870c"))("fxLayoutAlign",e.user._id===c.userOnline._id?"flex-start":"flex-end"),o.Ob(2),o.Tc(" ",o.wc(4,6,e.date,"M/d/yy, h:mm a")," ",e.user.name,""),o.Ob(2),o.zc("ngIf",e.files.length>0),o.Ob(2),o.Rc(e.text)}}let Ie=(()=>{class e{constructor(e){this.renderer=e,this.getMessages=new o.r,this.downloadFile=new o.r,this.showSpinner=!1,this.ngAfterViewCheckedTriggered=0}ngOnChanges(e){e.messages&&this.divMessages&&!e.messages.firstChange&&(this.showSpinner=!1,this.divMessages.nativeElement.scrollTop=5),e.newMessage&&this.newMessage&&(this.messages.push(this.newMessage),this.messagesCount++,Object(b.a)().subscribe(()=>{this.scrollToBottom()}))}ngAfterViewInit(){this.renderer.listen(this.divMessages.nativeElement,"scroll",e=>{0===e.target.scrollTop&&this.messages.length<this.messagesCount?(this.showSpinner=!0,this.getMessages.emit({from:this.messages.length})):this.showSpinner=!1})}ngAfterViewChecked(){this.ngAfterViewCheckedTriggered<2&&this.scrollToBottom()}scrollToBottom(){const e=this.divMessages;e.nativeElement.scrollTop=e.nativeElement.scrollHeight,this.ngAfterViewCheckedTriggered++}ngOnDestroy(){this.dialogSubs&&this.dialogSubs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.bc(o.Q))},e.\u0275cmp=o.Vb({type:e,selectors:[["chat-messages"]],viewQuery:function(e,t){var c;1&e&&o.Wc(ke,!0),2&e&&o.Ec(c=o.qc())&&(t.divMessages=c.first)},inputs:{messages:"messages",messagesCount:"messagesCount",userOnline:"userOnline",newMessage:"newMessage"},outputs:{getMessages:"getMessages",downloadFile:"downloadFile"},features:[o.Mb],decls:5,vars:2,consts:[[1,"div-messages"],["divMessages",""],["fxLayoutAlign","center"],[3,"diameter",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"diameter"],[3,"ngStyle","fxLayoutAlign"],["class","div-files","fxLayout","row",4,"ngIf"],[1,"p-message"],["fxLayout","row",1,"div-files"],["class","div-file","fxLayout","column",4,"ngFor","ngForOf"],["fxLayout","column",1,"div-file"],["alt","",1,"file-icon",3,"src","click"],["fileImg",""],[1,"div-file-title"]],template:function(e,t){1&e&&(o.hc(0,"div",0,1),o.hc(2,"div",2),o.Oc(3,we,1,1,"mat-spinner",3),o.gc(),o.Oc(4,Ce,8,11,"mat-card",4),o.gc()),2&e&&(o.Ob(3),o.zc("ngIf",t.showSpinner),o.Ob(1),o.zc("ngForOf",t.messages))},directives:[h.e,i.t,i.s,Se.c,p.a,i.w,S.d,h.f],pipes:[i.f,i.b,ce],styles:[".div-messages[_ngcontent-%COMP%]{height:100%;overflow-y:scroll}.div-messages[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.file-icon[_ngcontent-%COMP%]{height:70px;width:70px;cursor:pointer}.div-files[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:hidden;max-height:500px}.div-files[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.div-file[_ngcontent-%COMP%]{width:100px;height:150px}.div-file[_ngcontent-%COMP%]   .div-file-title[_ngcontent-%COMP%]{max-height:20px;font-size:10px;word-break:break-all}.p-message[_ngcontent-%COMP%]{word-break:break-all}"],changeDetection:0}),e})();function Te(e,t){if(1&e&&o.cc(0,"chat-users",7),2&e){const e=o.tc(2);o.zc("users",e.users)}}function ze(e,t){if(1&e&&(o.hc(0,"div",5),o.Oc(1,Te,1,1,"chat-users",6),o.gc()),2&e){const e=o.tc();o.Ob(1),o.zc("ngIf",e.showUsers)}}function Le(e,t){if(1&e){const e=o.ic();o.hc(0,"chat-messages",8),o.pc("getMessages",(function(t){return o.Hc(e),o.tc().getMessages.emit(t)}))("downloadFile",(function(t){return o.Hc(e),o.tc().downloadFile.emit(t)})),o.gc()}if(2&e){const e=o.tc();o.zc("userOnline",e.userOnline)("messages",e.messages)("newMessage",e.newMessage)("msg",e.msg)("messagesCount",e.messagesCount)}}let _e=(()=>{class e{constructor(){this.users=[],this.sendMsg=new o.r,this.getMessages=new o.r,this.downloadFile=new o.r,this.msg=new Y.a([]),this.showUsers=!1}sendMessage(e){this.sendMsg.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Vb({type:e,selectors:[["app-chat"]],inputs:{users:"users",messages:"messages",newMessage:"newMessage",messagesCount:"messagesCount",userOnline:"userOnline"},outputs:{sendMsg:"sendMsg",getMessages:"getMessages",downloadFile:"downloadFile"},decls:5,vars:4,consts:[["fxLayout.lt-md","column",1,"div-chat-container"],["fxFlex.lt-md","15","fxFlex.gt-sm","10",4,"ngIf"],["fxLayout","column",3,"fxFlex.lt-md","fxFlex.gt-sm"],["fxFlex","75",3,"userOnline","messages","newMessage","msg","messagesCount","getMessages","downloadFile",4,"ngIf"],["fxFlex","25",3,"sendMsg","showUsers"],["fxFlex.lt-md","15","fxFlex.gt-sm","10"],[3,"users",4,"ngIf"],[3,"users"],["fxFlex","75",3,"userOnline","messages","newMessage","msg","messagesCount","getMessages","downloadFile"]],template:function(e,t){1&e&&(o.hc(0,"div",0),o.Oc(1,ze,2,1,"div",1),o.hc(2,"div",2),o.Oc(3,Le,1,5,"chat-messages",3),o.hc(4,"chat-input",4),o.pc("sendMsg",(function(e){return t.sendMessage(e)}))("showUsers",(function(e){return t.showUsers=e})),o.gc(),o.gc(),o.gc()),2&e&&(o.Ob(1),o.zc("ngIf",t.showUsers),o.Ob(1),o.zc("fxFlex.lt-md",t.showUsers?"85":"100")("fxFlex.gt-sm",t.showUsers?"90":"100"),o.Ob(1),o.zc("ngIf",t.messages))},directives:[h.f,i.t,h.b,ve,Oe,Ie],styles:[".div-chat-container[_ngcontent-%COMP%]{height:100%;overflow-y:hidden}"]}),e})(),Ae=(()=>{class e{constructor(e,t,c,i,s){this.chatService=e,this.taskService=t,this.filesService=c,this.authService=i,this.mdService=s,this.users=[]}ngOnInit(){this.listenningMessages(),this.listenningUsersConnected(),this.getMessages(0)}ngOnChanges(e){e.taskSelected&&this.taskSelected&&(this.users=this.taskSelected.participants)}sendMessage(e){this.chatService.postMessage(e,this.taskSelected._id).subscribe(e=>{this.newMessage=e})}getMessages(e){this.chatService.getMessages(this.taskSelected._id,e).subscribe(e=>{let t=this.messages?this.messages:[];t.unshift(...e.messages),this.messages=[...t.sort((e,t)=>e.date-t.date)],this.messagesCount=e.count})}listenningUsersConnected(){this.usersConnectedSubs&&this.usersConnectedSubs.unsubscribe(),this.usersConnectedSubs=this.taskService.usersConnected().subscribe(e=>{this.taskSelected.participants.forEach((t,c)=>{this.taskSelected.participants[c].connected=!!e.includes(t._id)}),this.users=[...this.taskSelected.participants]})}listenningMessages(){this.messagesSubs=this.chatService.listenningMessages().subscribe(e=>{this.newMessage=e,this.spreadFiles(e.files)})}spreadFiles(e){e.forEach(e=>{this.filesService.spreadFile(e,"POST")})}ngOnDestroy(){this.messagesSubs&&this.messagesSubs.unsubscribe(),this.usersConnectedSubs&&this.usersConnectedSubs.unsubscribe(),this.dialogSubs&&this.dialogSubs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.bc(V),o.bc(l.a),o.bc(G),o.bc(r.a),o.bc(m.a))},e.\u0275cmp=o.Vb({type:e,selectors:[["app-task-manager-chat"]],inputs:{taskSelected:"taskSelected"},features:[o.Mb],decls:2,vars:7,consts:[[3,"messages","newMessage","messagesCount","userOnline","users","sendMsg","getMessages","downloadFile"]],template:function(e,t){1&e&&(o.hc(0,"div"),o.hc(1,"app-chat",0),o.pc("sendMsg",(function(e){return t.sendMessage(e)}))("getMessages",(function(e){return t.getMessages(e.from)}))("downloadFile",(function(e){return t.filesService.downloadFile(e).subscribe()})),o.gc(),o.gc()),2&e&&(o.Nc("height",t.mdService.desktop?"82vh":"74vh"),o.Ob(1),o.zc("messages",t.messages)("newMessage",t.newMessage)("messagesCount",t.messagesCount)("userOnline",t.authService.userOnline)("users",t.users))},directives:[_e],styles:[""]}),e})();function Pe(e,t){if(1&e){const e=o.ic();o.hc(0,"mat-card",5),o.hc(1,"div",6),o.hc(2,"img",7,8),o.pc("click",(function(){o.Hc(e);const t=o.Fc(3),c=o.tc(2).index,i=o.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+1]}).subscribe()})),o.uc(4,"async"),o.uc(5,"fileIcon"),o.gc(),o.hc(6,"mat-icon",9),o.pc("click",(function(){o.Hc(e);const t=o.tc(2).index,c=o.tc();return c.deleteFile(c.files[t+1])})),o.Qc(7,"delete"),o.gc(),o.gc(),o.hc(8,"p",10),o.Qc(9),o.gc(),o.gc()}if(2&e){const e=o.tc(2).index,t=o.tc();o.Ob(2),o.zc("src",o.vc(4,2,o.vc(5,4,t.files[e+1])),o.Ic),o.Ob(7),o.Rc(t.files[e+1].title)}}function Qe(e,t){if(1&e){const e=o.ic();o.hc(0,"mat-card",5),o.hc(1,"div",6),o.hc(2,"img",7,8),o.pc("click",(function(){o.Hc(e);const t=o.Fc(3),c=o.tc(2).index,i=o.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+2]}).subscribe()})),o.uc(4,"async"),o.uc(5,"fileIcon"),o.gc(),o.hc(6,"mat-icon",9),o.pc("click",(function(){o.Hc(e);const t=o.tc(2).index,c=o.tc();return c.deleteFile(c.files[t+2])})),o.Qc(7,"delete"),o.gc(),o.gc(),o.hc(8,"p",10),o.Qc(9),o.gc(),o.gc()}if(2&e){const e=o.tc(2).index,t=o.tc();o.Ob(2),o.zc("src",o.vc(4,2,o.vc(5,4,t.files[e+2])),o.Ic),o.Ob(7),o.Rc(t.files[e+2].title)}}function Re(e,t){if(1&e){const e=o.ic();o.hc(0,"mat-card",5),o.hc(1,"div",6),o.hc(2,"img",7,8),o.pc("click",(function(){o.Hc(e);const t=o.Fc(3),c=o.tc(2).index,i=o.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+3]}).subscribe()})),o.uc(4,"async"),o.uc(5,"fileIcon"),o.gc(),o.hc(6,"mat-icon",9),o.pc("click",(function(){o.Hc(e);const t=o.tc(2).index,c=o.tc();return c.deleteFile(c.files[t+3])})),o.Qc(7,"delete"),o.gc(),o.gc(),o.hc(8,"p",10),o.Qc(9),o.gc(),o.gc()}if(2&e){const e=o.tc(2).index,t=o.tc();o.Ob(2),o.zc("src",o.vc(4,2,o.vc(5,4,t.files[e+3])),o.Ic),o.Ob(7),o.Rc(t.files[e+3].title)}}function Ee(e,t){if(1&e){const e=o.ic();o.hc(0,"mat-card",5),o.hc(1,"div",6),o.hc(2,"img",7,8),o.pc("click",(function(){o.Hc(e);const t=o.Fc(3),c=o.tc(2).index,i=o.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+4]}).subscribe()})),o.uc(4,"async"),o.uc(5,"fileIcon"),o.gc(),o.hc(6,"mat-icon",9),o.pc("click",(function(){o.Hc(e);const t=o.tc(2).index,c=o.tc();return c.deleteFile(c.files[t+4])})),o.Qc(7,"delete"),o.gc(),o.gc(),o.hc(8,"p",10),o.Qc(9),o.gc(),o.gc()}if(2&e){const e=o.tc(2).index,t=o.tc();o.Ob(2),o.zc("src",o.vc(4,2,o.vc(5,4,t.files[e+4])),o.Ic),o.Ob(7),o.Rc(t.files[e+4].title)}}function De(e,t){if(1&e){const e=o.ic();o.hc(0,"mat-card",5),o.hc(1,"div",6),o.hc(2,"img",7,8),o.pc("click",(function(){o.Hc(e);const t=o.Fc(3),c=o.tc(2).index,i=o.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+5]}).subscribe()})),o.uc(4,"async"),o.uc(5,"fileIcon"),o.gc(),o.hc(6,"mat-icon",9),o.pc("click",(function(){o.Hc(e);const t=o.tc(2).index,c=o.tc();return c.deleteFile(c.files[t+5])})),o.Qc(7,"delete"),o.gc(),o.gc(),o.hc(8,"p",10),o.Qc(9),o.gc(),o.gc()}if(2&e){const e=o.tc(2).index,t=o.tc();o.Ob(2),o.zc("src",o.vc(4,2,o.vc(5,4,t.files[e+5])),o.Ic),o.Ob(7),o.Rc(t.files[e+5].title)}}function He(e,t){if(1&e){const e=o.ic();o.hc(0,"mat-card",5),o.hc(1,"div",6),o.hc(2,"img",7,8),o.pc("click",(function(){o.Hc(e);const t=o.Fc(3),c=o.tc(2).index,i=o.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+6]}).subscribe()})),o.uc(4,"async"),o.uc(5,"fileIcon"),o.gc(),o.hc(6,"mat-icon",9),o.pc("click",(function(){o.Hc(e);const t=o.tc(2).index,c=o.tc();return c.deleteFile(c.files[t+6])})),o.Qc(7,"delete"),o.gc(),o.gc(),o.hc(8,"p",10),o.Qc(9),o.gc(),o.gc()}if(2&e){const e=o.tc(2).index,t=o.tc();o.Ob(2),o.zc("src",o.vc(4,2,o.vc(5,4,t.files[e+6])),o.Ic),o.Ob(7),o.Rc(t.files[e+6].title)}}function Ue(e,t){if(1&e){const e=o.ic();o.hc(0,"mat-card",5),o.hc(1,"div",6),o.hc(2,"img",7,8),o.pc("click",(function(){o.Hc(e);const t=o.Fc(3),c=o.tc(2).index,i=o.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+7]}).subscribe()})),o.uc(4,"async"),o.uc(5,"fileIcon"),o.gc(),o.hc(6,"mat-icon",9),o.pc("click",(function(){o.Hc(e);const t=o.tc(2).index,c=o.tc();return c.deleteFile(c.files[t+7])})),o.Qc(7,"delete"),o.gc(),o.gc(),o.hc(8,"p",10),o.Qc(9),o.gc(),o.gc()}if(2&e){const e=o.tc(2).index,t=o.tc();o.Ob(2),o.zc("src",o.vc(4,2,o.vc(5,4,t.files[e+7])),o.Ic),o.Ob(7),o.Rc(t.files[e+7].title)}}function je(e,t){if(1&e){const e=o.ic();o.hc(0,"mat-card",5),o.hc(1,"div",6),o.hc(2,"img",7,8),o.pc("click",(function(){o.Hc(e);const t=o.Fc(3),c=o.tc(2).index,i=o.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+8]}).subscribe()})),o.uc(4,"async"),o.uc(5,"fileIcon"),o.gc(),o.hc(6,"mat-icon",9),o.pc("click",(function(){o.Hc(e);const t=o.tc(2).index,c=o.tc();return c.deleteFile(c.files[t+8])})),o.Qc(7,"delete"),o.gc(),o.gc(),o.hc(8,"p",10),o.Qc(9),o.gc(),o.gc()}if(2&e){const e=o.tc(2).index,t=o.tc();o.Ob(2),o.zc("src",o.vc(4,2,o.vc(5,4,t.files[e+8])),o.Ic),o.Ob(7),o.Rc(t.files[e+8].title)}}function Ne(e,t){if(1&e){const e=o.ic();o.hc(0,"mat-card",5),o.hc(1,"div",6),o.hc(2,"img",7,8),o.pc("click",(function(){o.Hc(e);const t=o.Fc(3),c=o.tc(2).index,i=o.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+9]}).subscribe()})),o.uc(4,"async"),o.uc(5,"fileIcon"),o.gc(),o.hc(6,"mat-icon",9),o.pc("click",(function(){o.Hc(e);const t=o.tc(2).index,c=o.tc();return c.deleteFile(c.files[t+9])})),o.Qc(7,"delete"),o.gc(),o.gc(),o.hc(8,"p",10),o.Qc(9),o.gc(),o.gc()}if(2&e){const e=o.tc(2).index,t=o.tc();o.Ob(2),o.zc("src",o.vc(4,2,o.vc(5,4,t.files[e+9])),o.Ic),o.Ob(7),o.Rc(t.files[e+9].title)}}function qe(e,t){if(1&e){const e=o.ic();o.hc(0,"div",4),o.hc(1,"mat-card",5),o.hc(2,"div",6),o.hc(3,"img",7,8),o.pc("click",(function(){o.Hc(e);const t=o.Fc(4),c=o.tc().$implicit;return o.tc().filesService.downloadFile({src:t.src,file:c}).subscribe()})),o.uc(5,"async"),o.uc(6,"fileIcon"),o.gc(),o.hc(7,"mat-icon",9),o.pc("click",(function(){o.Hc(e);const t=o.tc().$implicit;return o.tc().deleteFile(t)})),o.Qc(8,"delete"),o.gc(),o.gc(),o.hc(9,"p",10),o.Qc(10),o.gc(),o.gc(),o.Oc(11,Pe,10,6,"mat-card",11),o.Oc(12,Qe,10,6,"mat-card",11),o.Oc(13,Re,10,6,"mat-card",11),o.Oc(14,Ee,10,6,"mat-card",11),o.Oc(15,De,10,6,"mat-card",11),o.Oc(16,He,10,6,"mat-card",11),o.Oc(17,Ue,10,6,"mat-card",11),o.Oc(18,je,10,6,"mat-card",11),o.Oc(19,Ne,10,6,"mat-card",11),o.gc()}if(2&e){const e=o.tc(),t=e.$implicit,c=e.index,i=o.tc();o.Ob(3),o.zc("src",o.vc(5,11,o.vc(6,13,t)),o.Ic),o.Ob(7),o.Rc(t.title),o.Ob(1),o.zc("ngIf",c+1<i.files.length),o.Ob(1),o.zc("ngIf",c+2<i.files.length),o.Ob(1),o.zc("ngIf",c+3<i.files.length),o.Ob(1),o.zc("ngIf",c+4<i.files.length),o.Ob(1),o.zc("ngIf",c+5<i.files.length),o.Ob(1),o.zc("ngIf",c+6<i.files.length),o.Ob(1),o.zc("ngIf",c+7<i.files.length),o.Ob(1),o.zc("ngIf",c+8<i.files.length),o.Ob(1),o.zc("ngIf",c+9<i.files.length)}}function $e(e,t){if(1&e&&(o.hc(0,"div"),o.Oc(1,qe,20,15,"div",3),o.gc()),2&e){const e=t.index;o.Ob(1),o.zc("ngIf",e%10==0)}}function Ve(e,t){if(1&e){const e=o.ic();o.hc(0,"mat-card",12),o.hc(1,"div",6),o.hc(2,"img",7,8),o.pc("click",(function(){o.Hc(e);const t=o.Fc(3),c=o.tc(2).index,i=o.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+1]}).subscribe()})),o.uc(4,"async"),o.uc(5,"fileIcon"),o.gc(),o.hc(6,"mat-icon",9),o.pc("click",(function(){o.Hc(e);const t=o.tc(2).index,c=o.tc();return c.deleteFile(c.files[t+1])})),o.Qc(7,"delete"),o.gc(),o.gc(),o.hc(8,"p",10),o.Qc(9),o.gc(),o.gc()}if(2&e){const e=o.tc(2).index,t=o.tc();o.Ob(2),o.zc("src",o.vc(4,2,o.vc(5,4,t.files[e+1])),o.Ic),o.Ob(7),o.Rc(t.files[e+1].title)}}function Be(e,t){if(1&e){const e=o.ic();o.hc(0,"mat-card",12),o.hc(1,"div",6),o.hc(2,"img",7,8),o.pc("click",(function(){o.Hc(e);const t=o.Fc(3),c=o.tc(2).index,i=o.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+2]}).subscribe()})),o.uc(4,"async"),o.uc(5,"fileIcon"),o.gc(),o.hc(6,"mat-icon",9),o.pc("click",(function(){o.Hc(e);const t=o.tc(2).index,c=o.tc();return c.deleteFile(c.files[t+2])})),o.Qc(7,"delete"),o.gc(),o.gc(),o.hc(8,"p",10),o.Qc(9),o.gc(),o.gc()}if(2&e){const e=o.tc(2).index,t=o.tc();o.Ob(2),o.zc("src",o.vc(4,2,o.vc(5,4,t.files[e+2])),o.Ic),o.Ob(7),o.Rc(t.files[e+2].title)}}function Ke(e,t){if(1&e){const e=o.ic();o.hc(0,"mat-card",12),o.hc(1,"div",6),o.hc(2,"img",7,8),o.pc("click",(function(){o.Hc(e);const t=o.Fc(3),c=o.tc(2).index,i=o.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+3]}).subscribe()})),o.uc(4,"async"),o.uc(5,"fileIcon"),o.gc(),o.hc(6,"mat-icon",9),o.pc("click",(function(){o.Hc(e);const t=o.tc(2).index,c=o.tc();return c.deleteFile(c.files[t+3])})),o.Qc(7,"delete"),o.gc(),o.gc(),o.hc(8,"p",10),o.Qc(9),o.gc(),o.gc()}if(2&e){const e=o.tc(2).index,t=o.tc();o.Ob(2),o.zc("src",o.vc(4,2,o.vc(5,4,t.files[e+3])),o.Ic),o.Ob(7),o.Rc(t.files[e+3].title)}}function Ge(e,t){if(1&e){const e=o.ic();o.hc(0,"div",4),o.hc(1,"mat-card",12),o.hc(2,"div",6),o.hc(3,"img",7,8),o.pc("click",(function(){o.Hc(e);const t=o.Fc(4),c=o.tc().$implicit;return o.tc().filesService.downloadFile({src:t.src,file:c}).subscribe()})),o.uc(5,"async"),o.uc(6,"fileIcon"),o.gc(),o.hc(7,"mat-icon",9),o.pc("click",(function(){o.Hc(e);const t=o.tc().$implicit;return o.tc().deleteFile(t)})),o.Qc(8,"delete"),o.gc(),o.gc(),o.hc(9,"p",10),o.Qc(10),o.gc(),o.gc(),o.Oc(11,Ve,10,6,"mat-card",13),o.Oc(12,Be,10,6,"mat-card",13),o.Oc(13,Ke,10,6,"mat-card",13),o.gc()}if(2&e){const e=o.tc(),t=e.$implicit,c=e.index,i=o.tc();o.Ob(3),o.zc("src",o.vc(5,5,o.vc(6,7,t)),o.Ic),o.Ob(7),o.Rc(t.title),o.Ob(1),o.zc("ngIf",c+1<i.files.length),o.Ob(1),o.zc("ngIf",c+2<i.files.length),o.Ob(1),o.zc("ngIf",c+3<i.files.length)}}function Ye(e,t){if(1&e&&(o.hc(0,"div"),o.Oc(1,Ge,14,9,"div",3),o.gc()),2&e){const e=t.index;o.Ob(1),o.zc("ngIf",e%4==0)}}let We=(()=>{class e{constructor(e,t){this.filesService=e,this.taskService=t,this.from=0,this.total=0}ngOnInit(){this.fileSubscription=this.filesService.file$.subscribe(e=>{switch(e.order){case"POST":this.files.push(e.file);break;case"DELETE":this.files=this.files.filter(t=>t._id!=e.file._id)}})}ngOnChanges(e){e.taskSelected&&this.taskSelected&&this.taskService.getTaskFiles(this.taskSelected._id,0,100).subscribe(e=>{this.files=e})}deleteFile(e){this.filesService.deleteFile(e).subscribe(e=>{e&&(this.files=this.files.filter(t=>t._id!=e._id),this.filesService.spreadFile(e,"DELETE"))})}ngOnDestroy(){this.fileSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.bc(G),o.bc(l.a))},e.\u0275cmp=o.Vb({type:e,selectors:[["app-task-manager-files"]],inputs:{taskSelected:"taskSelected"},features:[o.Mb],decls:4,vars:2,consts:[["fxShow.gt-md","","fxHide.lt-lg","",1,"div-files"],[4,"ngFor","ngForOf"],["fxHide.gt-md","","fxShow.lt-lg","",1,"div-files"],["fxLayout","row",4,"ngIf"],["fxLayout","row"],["fxLayout","column","fxFlex","10"],["fxFlex","80"],["fxFlex","80","alt","",3,"src","click"],["img",""],["color","warn","fxFlex","20",3,"click"],["fxFlex","20"],["fxLayout","column","fxFlex","10",4,"ngIf"],["fxLayout","column","fxFlex","25"],["fxLayout","column","fxFlex","25",4,"ngIf"]],template:function(e,t){1&e&&(o.hc(0,"div",0),o.Oc(1,$e,2,1,"div",1),o.gc(),o.hc(2,"div",2),o.Oc(3,Ye,2,1,"div",1),o.gc()),2&e&&(o.Ob(1),o.zc("ngForOf",t.files),o.Ob(2),o.zc("ngForOf",t.files))},directives:[S.c,i.s,i.t,h.f,p.a,h.b,u.a],pipes:[i.b,ce],styles:[".div-files[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}.div-files[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{height:14vh;padding:5px!important}.div-files[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin:0}.div-files[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}@media (max-width:1279px){.div-files[_ngcontent-%COMP%]{height:75vh!important}}"]}),e})();function Xe(e,t){1&e&&(o.Qc(0," Task info "),o.hc(1,"mat-icon",6),o.Qc(2,"poll"),o.gc())}function Ze(e,t){if(1&e){const e=o.ic();o.hc(0,"app-task-manager-info",7),o.pc("deleteTask",(function(){return o.Hc(e),o.tc().deleteTask()}))("toggleStatus",(function(t){return o.Hc(e),o.tc().toggleStatus(t)}))("editTask",(function(){return o.Hc(e),o.tc().editTask()}))("actionResolved",(function(t){return o.Hc(e),o.tc().resolveAction(t)})),o.gc()}if(2&e){const e=o.tc();o.zc("taskSelected",e.taskSelected)}}function Je(e,t){1&e&&(o.Qc(0," Chat "),o.hc(1,"mat-icon",6),o.Qc(2," chat"),o.gc())}function et(e,t){if(1&e&&o.cc(0,"app-task-manager-chat",8),2&e){const e=o.tc();o.zc("users",e.users)("taskSelected",e.taskSelected)}}function tt(e,t){1&e&&(o.Qc(0," Files "),o.hc(1,"mat-icon",6),o.Qc(2,"folder"),o.gc())}function ct(e,t){if(1&e&&o.cc(0,"app-task-manager-files",9),2&e){const e=o.tc();o.zc("taskSelected",e.taskSelected)}}let it=[{path:"",component:(()=>{class e{constructor(e,t,c,i,s){this.authService=e,this.taskService=t,this.dialogsService=c,this.ar=i,this.lpDialogsService=s,this.tabIndex=0}ngOnInit(){this.ar.paramMap.subscribe(e=>{this.getTaskById(e.get("id")).then(()=>{this.taskService.userInTask(this.taskSelected._id).then(e=>{this.taskSelected.participants.forEach((t,c)=>{this.taskSelected.participants[c].connected=!!e.includes(t._id)})})})}),this.taskSubscription=this.taskService.task$.subscribe(e=>{if(e)switch(e.action){case"PUT":e.task._id===this.taskSelected._id&&(this.taskSelected=e.task)}})}getTaskById(e){return new Promise((t,c)=>{this.taskService.getTaskById(e).subscribe(e=>{this.taskSelected=e,t(!0)})})}toggleStatus(e){this.lpDialogsService.openConfirmDialog("ARE YOU SURE?",`The task status will switch to "${e}" status`).pipe(Object(a.a)(t=>t?this.taskService.putTask({status:e},this.taskSelected._id):Object(n.b)())).subscribe()}editTask(){this.dialogsService.openEditCreateTaskDialog(this.taskSelected._id)}deleteTask(){this.taskService.deleteTask(this.taskSelected._id).subscribe()}resolveAction(e){this.taskService.putTask({[Object.keys(e)[0]]:e[Object.keys(e)[0]]},e.itemId).subscribe()}ngOnDestroy(){this.taskService.userOutTask(this.taskSelected._id),this.taskSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.bc(r.a),o.bc(l.a),o.bc(d.a),o.bc(s.a),o.bc(g.b))},e.\u0275cmp=o.Vb({type:e,selectors:[["app-task-manager-panel"]],decls:11,vars:3,consts:[["mat-stretch-tabs","","fxFlex","100","mat-align-tabs","center",3,"selectedIndexChange"],["tabGroup",""],["mat-tab-label",""],[3,"taskSelected","deleteTask","toggleStatus","editTask","actionResolved",4,"ngIf"],[3,"users","taskSelected",4,"ngIf"],[3,"taskSelected",4,"ngIf"],["color","primary"],[3,"taskSelected","deleteTask","toggleStatus","editTask","actionResolved"],[3,"users","taskSelected"],[3,"taskSelected"]],template:function(e,t){1&e&&(o.hc(0,"mat-tab-group",0,1),o.pc("selectedIndexChange",(function(e){return t.tabIndex=e})),o.hc(2,"mat-tab"),o.Oc(3,Xe,3,0,"ng-template",2),o.Oc(4,Ze,1,1,"app-task-manager-info",3),o.gc(),o.hc(5,"mat-tab"),o.Oc(6,Je,3,0,"ng-template",2),o.Oc(7,et,1,2,"app-task-manager-chat",4),o.gc(),o.hc(8,"mat-tab"),o.Oc(9,tt,3,0,"ng-template",2),o.Oc(10,ct,1,1,"app-task-manager-files",5),o.gc(),o.gc()),2&e&&(o.Ob(4),o.zc("ngIf",t.taskSelected&&0===t.tabIndex),o.Ob(3),o.zc("ngIf",t.taskSelected&&1===t.tabIndex),o.Ob(3),o.zc("ngIf",t.taskSelected&&2===t.tabIndex))},directives:[f.c,h.b,f.a,f.d,i.t,u.a,H,Ae,We],styles:[".mat-tab-group[_ngcontent-%COMP%]{height:100%;width:100%}.div-task-name[_ngcontent-%COMP%]{background-color:#7b87cc;color:#f5f5f5;height:25px;font-weight:bolder}  .mat-tab-body-wrapper{height:100%!important;margin:0!important}  .mat-tab-header,   .mat-tab-labels{height:6vh!important}  .mat-tab-label{height:6vh!important;padding:0!important}"]}),e})()}],st=(()=>{class e{}return e.\u0275mod=o.Zb({type:e}),e.\u0275inj=o.Yb({factory:function(t){return new(t||e)},imports:[[i.c,s.g.forChild(it)],s.g]}),e})();var nt=c("YUcS"),at=c("9Xeq"),ot=c("jAig"),rt=c("mvOm");let lt=(()=>{class e{}return e.\u0275mod=o.Zb({type:e}),e.\u0275inj=o.Yb({factory:function(t){return new(t||e)},imports:[[i.c,nt.a,J.i,ue,ot.a,at.a,rt.a]]}),e})();var dt=c("+Mmm"),gt=c("CDL9");let ft=(()=>{class e{}return e.\u0275mod=o.Zb({type:e}),e.\u0275inj=o.Yb({factory:function(t){return new(t||e)},imports:[[i.c,st,dt.a,J.i,lt,ot.a,nt.a,at.a,st,gt.a]]}),e})()}}]);