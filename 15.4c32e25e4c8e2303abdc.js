(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"e+hA":function(e,t,c){"use strict";c.r(t),c.d(t,"TaskManagerPanelModule",(function(){return lt}));var i=c("ofXK"),s=c("tyNb"),n=c("EY2u"),a=c("eIep"),o=c("Brg/"),r=c("fXoL"),l=c("jVv/"),d=c("S6We"),g=c("qmzK"),f=c("WLNs"),h=c("wZkO"),u=c("XiUz"),m=c("NFeN"),p=c("Wp6s"),b=c("PqYM"),v=c("l5mm"),x=c("vkgz"),O=c("znSr");function k(e,t){if(1&e&&(r.hc(0,"p"),r.Qc(1),r.gc()),2&e){const e=t.$implicit,c=t.index,i=r.tc(2);r.Ob(1),r.Tc("",e||0,"",i.extraTimeStringArray[c+1]?", ":""," ")}}function w(e,t){if(1&e&&(r.hc(0,"div",9),r.hc(1,"div",10),r.hc(2,"div",11),r.cc(3,"div",7),r.gc(),r.gc(),r.hc(4,"div",12),r.hc(5,"div",10),r.Qc(6," EXTRA TIME "),r.gc(),r.hc(7,"div",10),r.Qc(8," ("),r.Oc(9,k,2,2,"p",13),r.Qc(10,") "),r.gc(),r.gc(),r.gc()),2&e){const e=r.tc();r.Ob(1),r.Nc("width","100","%"),r.Ob(2),r.Nc("width",e.extraTimeProgress,"%"),r.Ob(6),r.zc("ngForOf",e.extraTimeStringArray)}}const S=function(){return{"font-size":"10px"}};let y=(()=>{class e{constructor(e){this.cdr=e}ngOnChanges(e){e.taskSelected&&Object(b.a)().subscribe(()=>{this.extraTimeSubs&&this.extraTimeSubs.unsubscribe(),this.extraTimeSubs=this.calculateExtraTime().subscribe(),this.cdr.detectChanges()})}get timelineProgress(){return this.taskSelected&&(new Date).getTime()>=this.taskSelected.startDate?Math.round(100*((new Date).getTime()-this.taskSelected.startDate)/(this.taskSelected.endDate-this.taskSelected.startDate))<100?Math.ceil(100*((new Date).getTime()-this.taskSelected.startDate)/(this.taskSelected.endDate-this.taskSelected.startDate)):100:0}calculateExtraTime(){const e=()=>{this.extraTimeMilisec="on review"===this.taskSelected.status?this.taskSelected.extraTime?this.taskSelected.extraTime+((new Date).getTime()-this.taskSelected.deliverDate):(new Date).getTime()-this.taskSelected.deliverDate:this.taskSelected.extraTime?this.taskSelected.extraTime:(new Date).getTime()-this.taskSelected.deliverDate,this.extraTimeProgress=this.taskSelected.endDate<=(new Date).getTime()&&this.taskSelected.extraTime?((new Date).getTime()-100*this.taskSelected.deliverDate)/this.extraTimeMilisec:0,this.extraTimeStringArray=o.b.milisecsToString(this.extraTimeMilisec).filter((e,t)=>!e.includes("seconds"))};return e(),Object(v.a)(1e3).pipe(Object(x.a)(()=>{e()}))}ngOnDestroy(){this.extraTimeSubs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.bc(r.i))},e.\u0275cmp=r.Vb({type:e,selectors:[["app-task-manager-progress"]],inputs:{taskSelected:"taskSelected"},features:[r.Mb],decls:23,vars:22,consts:[["fxLayout","column","fxLayout","column",1,"div-progress-container",3,"ngStyle.xs"],["fxShow.lt-md","","fxHide.gt-sm","","fxLayoutAlign","space-between"],["fxLayoutAlign","center",1,"div-date"],["fxLayoutGap","5px","fxLayout","row",1,"div-progress",3,"fxFlex"],["fxHide.lt-md","","fxShow.gt-sm","","fxLayoutAlign","center","fxFlex","15"],["fxFlex.gt-sm","70","fxFlex.lt-md","100","fxLayoutAlign","center"],["fxFlex","100","fxLayout","column",1,"progress-bar-container"],[1,"progress-bar"],["fxFlex","40","class","div-progress","fxLayout","column",4,"ngIf"],["fxFlex","40","fxLayout","column",1,"div-progress"],["fxLayoutAlign","center"],["fxFlex","60","fxLayout","column",1,"progress-bar-container"],["fxFlex","10","fxLayout","row","fxLayoutAlign","center",1,"div-extratime-info"],[4,"ngFor","ngForOf"]],template:function(e,t){1&e&&(r.hc(0,"div",0),r.hc(1,"div",1),r.hc(2,"div",2),r.hc(3,"span"),r.Qc(4),r.uc(5,"date"),r.gc(),r.gc(),r.hc(6,"div",2),r.hc(7,"span"),r.Qc(8),r.uc(9,"date"),r.gc(),r.gc(),r.gc(),r.hc(10,"div",3),r.hc(11,"div",4),r.hc(12,"span"),r.Qc(13),r.uc(14,"date"),r.gc(),r.gc(),r.hc(15,"div",5),r.hc(16,"div",6),r.cc(17,"div",7),r.gc(),r.gc(),r.hc(18,"div",4),r.hc(19,"span"),r.Qc(20),r.uc(21,"date"),r.gc(),r.gc(),r.gc(),r.Oc(22,w,11,5,"div",8),r.gc()),2&e&&(r.zc("ngStyle.xs",r.Ac(21,S)),r.Ob(4),r.Rc(r.wc(5,9,t.taskSelected.startDate,"M/d/yy, H:mm ")),r.Ob(4),r.Sc(" ",r.wc(9,12,t.taskSelected.endDate,"M/d/yy, H:mm ")," "),r.Ob(2),r.zc("fxFlex",t.taskSelected.deliverDate?"40":"100"),r.Ob(3),r.Rc(r.wc(14,15,t.taskSelected.startDate,"M/d/yy, H:mm ")),r.Ob(4),r.Nc("width",t.timelineProgress,"%"),r.Ob(3),r.Sc(" ",r.wc(21,18,t.taskSelected.endDate,"M/d/yy, H:mm ")," "),r.Ob(2),r.zc("ngIf",t.extraTimeMilisec))},directives:[u.f,O.d,O.c,u.e,u.g,u.b,i.t,i.s],pipes:[i.f],styles:[".div-progress-container[_ngcontent-%COMP%]{width:100%;line-height:10pt;font-weight:bolder}.div-progress-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:0!important;margin:0!important}.div-progress-container[_ngcontent-%COMP%]   .div-progress[_ngcontent-%COMP%]{margin-top:5px!important;width:100%;align-items:center}.div-progress-container[_ngcontent-%COMP%]   .div-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{height:18px;width:100%;background-color:wheat;border:1px solid #000;border-radius:5px}.div-progress-container[_ngcontent-%COMP%]   .div-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{background-color:#7b87cc;height:100%;width:100%}.div-progress-container[_ngcontent-%COMP%]   .div-extratime-info[_ngcontent-%COMP%]{margin-top:10px!important}.div-progress-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{word-break:break-all}.div-progress-container[_ngcontent-%COMP%]   .div-date[_ngcontent-%COMP%]{margin:7px!important}"]}),e})();var M=c("Qu3c"),F=c("kmnG"),C=c("st1D");let I=(()=>{class e{constructor(){this.onActionResolved=new r.r}actionResolved(e){this.onActionResolved.emit(e),this.actionsRequired=this.actionsRequired.filter(t=>t.property!=Object.keys(e)[0])}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Vb({type:e,selectors:[["app-actions-required-smart"]],inputs:{actionsRequired:"actionsRequired"},outputs:{onActionResolved:"onActionResolved"},decls:1,vars:1,consts:[[3,"actions","setAction"]],template:function(e,t){1&e&&(r.hc(0,"app-actions-required",0),r.pc("setAction",(function(e){return t.actionResolved(e)})),r.gc()),2&e&&r.zc("actions",t.actionsRequired)},directives:[C.a],encapsulation:2}),e})();function T(e,t){if(1&e&&(r.hc(0,"li",25),r.Qc(1),r.gc()),2&e){const e=t.$implicit;r.Ob(1),r.Rc(e.name)}}function z(e,t){if(1&e&&(r.hc(0,"li",25),r.Qc(1),r.gc()),2&e){const e=t.$implicit;r.Ob(1),r.Rc(e.name)}}function L(e,t){if(1&e){const e=r.ic();r.hc(0,"mat-card",26),r.hc(1,"h4"),r.Qc(2," Actions required "),r.gc(),r.hc(3,"mat-icon",5),r.pc("click",(function(){return r.Hc(e),r.tc(2).showActionsRequired()})),r.Qc(4,"assignment_late"),r.gc(),r.gc()}}function _(e,t){if(1&e){const e=r.ic();r.hc(0,"mat-card",27),r.hc(1,"h4"),r.Qc(2," Actions required "),r.gc(),r.hc(3,"app-actions-required-smart",28),r.pc("onActionResolved",(function(t){return r.Hc(e),r.tc(2).actionResolved.emit(t)})),r.gc(),r.gc()}if(2&e){const e=r.tc(2);r.Ob(1),r.Nc("color","red"),r.Ob(2),r.zc("actionsRequired",e.taskSelected.actionsRequired)}}const P=function(e){return{"icon-disabled":e}};function A(e,t){if(1&e){const e=r.ic();r.hc(0,"div",1),r.hc(1,"mat-card",2),r.hc(2,"div",3),r.hc(3,"h4",4),r.Qc(4," Name: "),r.gc(),r.hc(5,"p",4),r.Qc(6),r.gc(),r.gc(),r.hc(7,"div",3),r.hc(8,"h4",4),r.Qc(9," Description: "),r.gc(),r.hc(10,"div",4),r.hc(11,"mat-icon",5),r.pc("click",(function(){return r.Hc(e),r.tc().showDescription()})),r.Qc(12,"pageview"),r.gc(),r.gc(),r.gc(),r.gc(),r.hc(13,"mat-card",6),r.hc(14,"div",3),r.hc(15,"h4",4),r.Qc(16," Status: "),r.gc(),r.hc(17,"p",4),r.Qc(18),r.gc(),r.gc(),r.hc(19,"div",3),r.hc(20,"h4",4),r.Qc(21," Priority: "),r.gc(),r.hc(22,"p",4),r.Qc(23),r.gc(),r.gc(),r.gc(),r.hc(24,"mat-card",7),r.hc(25,"h4",8),r.Qc(26," Progress "),r.gc(),r.cc(27,"app-task-manager-progress",9),r.gc(),r.hc(28,"mat-card",10),r.hc(29,"h4",11),r.Qc(30," Options "),r.gc(),r.hc(31,"div",12),r.hc(32,"div",13),r.hc(33,"div",14),r.hc(34,"mat-icon",15),r.pc("click",(function(){return r.Hc(e),r.tc().toggleStat()})),r.Qc(35),r.gc(),r.gc(),r.hc(36,"mat-label",16),r.Qc(37," TOGGLE STATUS "),r.gc(),r.gc(),r.hc(38,"div",13),r.hc(39,"div",14),r.hc(40,"mat-icon",17),r.pc("click",(function(){r.Hc(e);const t=r.tc();return t.taskService.canBeEdited(t.taskSelected)?t.editTask.emit():null})),r.Qc(41,"edit"),r.gc(),r.gc(),r.hc(42,"mat-label",16),r.Qc(43," EDIT "),r.gc(),r.gc(),r.hc(44,"div",13),r.hc(45,"div",14),r.hc(46,"mat-icon",18),r.pc("click",(function(){r.Hc(e);const t=r.tc();return t.taskService.taskTimeStarted(t.taskSelected)?null:t.deleteTask.emit()})),r.Qc(47,"delete"),r.gc(),r.gc(),r.hc(48,"mat-label",16),r.Qc(49," DELETE TASK "),r.gc(),r.gc(),r.gc(),r.gc(),r.hc(50,"mat-card",19),r.hc(51,"div",20),r.hc(52,"h4",21),r.Qc(53,"Participants"),r.gc(),r.hc(54,"ul"),r.Oc(55,T,2,1,"li",22),r.gc(),r.gc(),r.hc(56,"div",20),r.hc(57,"h4",21),r.Qc(58,"Reviewers"),r.gc(),r.hc(59,"ul"),r.Oc(60,z,2,1,"li",22),r.gc(),r.gc(),r.gc(),r.Oc(61,L,5,0,"mat-card",23),r.Oc(62,_,4,3,"mat-card",24),r.gc()}if(2&e){const e=r.tc();r.Ob(6),r.Sc(" ",e.taskSelected.name," "),r.Ob(12),r.Sc(" ",e.taskSelected.status.toUpperCase()," "),r.Ob(5),r.Sc(" ",1===e.taskSelected.priority?"HIGH":2===e.taskSelected.priority?"MEDIUM":"LOW"," "),r.Ob(4),r.zc("taskSelected",e.taskSelected),r.Ob(7),r.zc("matTooltip","on review"===e.taskSelected.status?"Task is being reviewed":"")("ngClass",r.Bc(13,P,!e.taskService.taskTimeStarted(e.taskSelected))),r.Ob(1),r.Sc(" ","pending"===e.taskSelected.status?"move_to_inbox":"on review"===e.taskSelected.status?"hourglass_full":"assignment_turned_in"," "),r.Ob(5),r.zc("ngClass",r.Bc(15,P,!e.taskService.canBeEdited(e.taskSelected))),r.Ob(6),r.zc("ngClass",r.Bc(17,P,e.taskService.taskTimeStarted(e.taskSelected))),r.Ob(9),r.zc("ngForOf",e.taskSelected.participants),r.Ob(5),r.zc("ngForOf",e.taskSelected.reviewers),r.Ob(1),r.zc("ngIf",e.hasActsRequired),r.Ob(1),r.zc("ngIf",e.hasActsRequired)}}let Q=(()=>{class e{constructor(e,t,c,i){this.taskService=e,this.authService=t,this.lpDialogsService=c,this.dialogsService=i,this.deleteTask=new r.r,this.toggleStatus=new r.r,this.editTask=new r.r,this.actionResolved=new r.r,this.hasActsRequired=!1,this.display=!1}ngOnInit(){}ngOnChanges(e){e.taskSelected&&this.taskSelected&&(this.hasActsRequired=!!(this.taskSelected.actionsRequired&&this.taskSelected.actionsRequired.length>0&&this.taskSelected.actionsRequired.find(e=>e.usersTo.map(e=>e._id).includes(this.authService.userOnline._id))))}toggleStat(){let e;switch(this.taskSelected.status){case"pending":e="on review";break;case"done":e="pending"}e&&this.taskService.taskTimeStarted(this.taskSelected)&&this.toggleStatus.emit(e)}showDescription(){this.lpDialogsService.openInfoDialog(this.taskSelected.description,"TASK DESCRIPTION")}showActionsRequired(){this.dialogsService.showActionsRequired(this.taskSelected.actionsRequired).subscribe(e=>{this.actionResolved.emit(e)})}}return e.\u0275fac=function(t){return new(t||e)(r.bc(d.a),r.bc(l.a),r.bc(f.b),r.bc(g.a))},e.\u0275cmp=r.Vb({type:e,selectors:[["app-task-manager-info"]],inputs:{taskSelected:"taskSelected"},outputs:{deleteTask:"deleteTask",toggleStatus:"toggleStatus",editTask:"editTask",actionResolved:"actionResolved"},features:[r.Mb],decls:1,vars:1,consts:[["class","div-info-container","fxLayout","column",4,"ngIf"],["fxLayout","column",1,"div-info-container"],["fxLayout","row","fxFlex","8 "],["fxLayout","row","fxFlex","50"],["fxFlex.gt-sm","50","fxLayout.gt-sm","column","fxLayoutAlign","center"],["color","primary",3,"click"],["fxLayout","row","fxFlex","8"],["fxLayout","column","fxFlex.gt-sm","hasActsRequired ? 26: 36","fxFlex.lt-md","42"],["fxLayout.gt-sm","column","fxLayoutAlign","center"],[3,"taskSelected"],["fxFlex.gt-sm","hasActsRequired ? 10: 20","fxFlex.lt-md","35"],["fxFlex.gt-xs","15","fxFlex.xs","50"],["fxFlex","80","fxLayout","row"],["fxFlex.gt-xs","20","fxFlex.xs","33","fxLayout","row"],["fxLayoutAlign","center"],["color","primary",3,"matTooltip","ngClass","click"],["fxHide.lt-md","",1,"label-action"],["color","primary",3,"ngClass","click"],["color","warn",3,"ngClass","click"],["fxLayout","row","fxFlex.gt-sm","hasActsRequired ? 15: 30","fxFlex.lt-md","30"],["fxLayout.gt-sm","row","fxLayout.lt-md","column","fxFlex","50"],["fxLayout.gt-sm","column","fxLayoutAlign.lt-md","center"],["role","listitem",4,"ngFor","ngForOf"],["fxLayoutAlign","center","fxHide.gt-sm","","fxLayout","row","fxFlex","10",4,"ngIf"],["fxHide.lt-md","","fxLayout","column","fxFlex","35",4,"ngIf"],["role","listitem"],["fxLayoutAlign","center","fxHide.gt-sm","","fxLayout","row","fxFlex","10"],["fxHide.lt-md","","fxLayout","column","fxFlex","35"],[3,"actionsRequired","onActionResolved"]],template:function(e,t){1&e&&r.Oc(0,A,63,19,"div",0),2&e&&r.zc("ngIf",t.taskSelected)},directives:[i.t,u.f,p.a,u.b,u.e,m.a,y,M.a,i.q,O.a,F.g,O.c,i.s,I],styles:[".div-info-container[_ngcontent-%COMP%]{height:82vh}.div-info-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:30px}.div-info-container[_ngcontent-%COMP%]   .icon-disabled[_ngcontent-%COMP%]{cursor:auto;opacity:.3}.div-info-container[_ngcontent-%COMP%]   .div-task-name[_ngcontent-%COMP%]{background-color:#7b87cc;color:#f5f5f5;height:25px;font-weight:bolder}.div-info-container[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#7b87cc;margin:0;padding:0 0 0 25px}.div-info-container[_ngcontent-%COMP%]   .label-action[_ngcontent-%COMP%]{font-weight:700;font-size:12px;text-align:center;margin-top:5px}.div-info-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{padding:0}.div-info-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin:5px}.div-info-container[_ngcontent-%COMP%]   .div-description[_ngcontent-%COMP%]{max-width:100%;overflow-x:hidden;overflow-y:none;cursor:pointer}@media (max-width:1279px){h4[_ngcontent-%COMP%]{padding-left:5px!important}.div-info-container[_ngcontent-%COMP%]{height:77vh}}"]}),e})();var R=c("XNiG"),E=c("tk/3"),D=c("lJxs"),H=c("IZH3"),U=c("KwZR");let N=(()=>{class e{constructor(e,t){this.http=e,this.wsService=t,this.messagesSource=new R.a,this.messages$=this.messagesSource.asObservable()}getMessages(e,t,c=10){const i=new E.d({skip:t.toString(),limit:c.toString()});return this.http.get(`${H.a}messages/${e}`,{headers:i}).pipe(Object(D.a)(e=>({count:e.data.count,messages:e.data.messages})))}postMessage(e,t){e.date=(new Date).getTime();const c=new FormData;return e.files.forEach((e,t)=>{c.append(t,e,e.name)}),Object.keys(e).forEach(t=>{"files"!=t&&c.append(t,e[t])}),this.http.post(`${H.a}message/${t}`,c).pipe(Object(D.a)(e=>e.message))}deleteMessage(e){return this.http.delete(`${H.a}message/${e}`).pipe(Object(x.a)(e=>{this.messagesSource.next({message:e.message,order:"delete"})}))}listenningMessages(){return this.wsService.listen("message-in")}}return e.\u0275fac=function(t){return new(t||e)(r.lc(E.b),r.lc(U.a))},e.\u0275prov=r.Xb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var j=c("LRne"),q=c("x1eN");let $=(()=>{class e{constructor(e,t,c){this.http=e,this.lpDialogsService=t,this.loadSpinnerService=c,this.textFormats=["pdf"],this.fileSrc=new R.a,this.file$=this.fileSrc.asObservable()}getDbFile(e){return this.http.get(`${H.a}file/${e}`,{responseType:"blob"})}spreadFile(e,t){this.fileSrc.next({order:t,file:e})}deleteFile(e){const t=this.http.delete(`${H.a}delete-file/${e._id}`).pipe(Object(D.a)(e=>e.file),Object(x.a)(e=>this.spreadFile(e,"DELETE")));return this.lpDialogsService.openConfirmDialog("FILE DELETION",`The file ${e.title} will be deleted`).pipe(Object(a.a)(e=>e?t:Object(n.b)()))}getFileById(e){return this.http.get(`${H.a}searchById/file/${e}`).pipe(Object(D.a)(e=>e.file))}downloadFile(e){const{src:t,file:c}=e;return this.lpDialogsService.openConfirmDialog("DOWNLOAD FILE?",c.title).pipe(Object(a.a)(e=>e?(t.includes("blob")?Object(j.a)({src:t,title:c.title}).pipe(Object(x.a)(()=>this.loadSpinnerService.state.next(!1))):this.getDbFile(c.name).pipe(Object(D.a)(e=>({src:URL.createObjectURL(e),title:c.title})))).pipe(Object(x.a)(e=>{const t=document.createElement("a");t.href=e.src,t.download=e.title,document.body.appendChild(t),t.click()})):Object(n.b)()))}}return e.\u0275fac=function(t){return new(t||e)(r.lc(E.b),r.lc(f.b),r.lc(q.a))},e.\u0275prov=r.Xb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var V=c("2Vo4"),B=c("0IaG"),K=c("qFsG"),G=c("ihCf"),W=c("3Pt+"),X=c("bTqV"),Y=c("jhN1");let Z=(()=>{class e{constructor(e,t){this.filesService=e,this.domSanitizer=t,this.textFormats=[{icon:"word",mime:"application/msword"},{icon:"odt",mime:"application/vnd.oasis.opendocument.text"},{icon:"xml",mime:"text/xml"},{icon:"pdf",mime:"application/pdf"},{icon:"word",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{icon:"xml",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{icon:"text",mime:"text/plain"}]}transform(e){let t=this.textFormats.find(t=>t.mime===e.type);return t?Object(j.a)(`../../../assets/icons/files/${t.icon}.png`):e instanceof File?Object(j.a)(this.domSanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(e))):this.filesService.getDbFile(e.name).pipe(Object(D.a)(e=>this.domSanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(e))))}}return e.\u0275fac=function(t){return new(t||e)(r.bc($),r.bc(Y.b))},e.\u0275pipe=r.ac({name:"fileIcon",type:e,pure:!0}),e})();function J(e,t){if(1&e&&(r.hc(0,"div",1),r.cc(1,"img",7),r.uc(2,"async"),r.uc(3,"fileIcon"),r.hc(4,"div",8),r.Qc(5),r.gc(),r.gc()),2&e){const e=t.$implicit;r.Ob(1),r.zc("src",r.vc(2,2,r.vc(3,4,e)),r.Ic),r.Ob(4),r.Sc(" ",e.name," ")}}function ee(e,t){if(1&e){const e=r.ic();r.hc(0,"div",1),r.hc(1,"div",2),r.Oc(2,J,6,6,"div",3),r.gc(),r.hc(3,"div"),r.hc(4,"mat-form-field",4),r.hc(5,"mat-label"),r.Qc(6,"You can write a message"),r.gc(),r.hc(7,"textarea",5),r.pc("ngModelChange",(function(t){return r.Hc(e),r.tc().text=t})),r.gc(),r.gc(),r.gc(),r.hc(8,"div"),r.hc(9,"button",6),r.pc("click",(function(){return r.Hc(e),r.tc().accept()})),r.Qc(10,"OK"),r.gc(),r.hc(11,"button",6),r.pc("click",(function(){return r.Hc(e),r.tc().cancel()})),r.Qc(12,"cancel"),r.gc(),r.gc(),r.gc()}if(2&e){const e=r.tc();r.Ob(2),r.zc("ngForOf",e.files),r.Ob(5),r.Nc("margin-top","10px"),r.zc("ngModel",e.text)}}let te=(()=>{class e{constructor(e,t){this.dialogRef=e,this.data=t,this.files=t.files}accept(){this.dialogRef.close({accepted:!0,text:this.text})}cancel(){this.dialogRef.close({accepted:!1})}}return e.\u0275fac=function(t){return new(t||e)(r.bc(B.i),r.bc(B.a))},e.\u0275cmp=r.Vb({type:e,selectors:[["app-chat-files-dialog"]],decls:1,vars:1,consts:[["fxLayout","column",4,"ngIf"],["fxLayout","column"],["fxLayout","row",1,"div-files"],["fxLayout","column",4,"ngFor","ngForOf"],[1,"mat-form-full-width"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMaxRows","3","rows","3","cols","40",1,"textarea",3,"ngModel","ngModelChange"],["fxFlex","50","mat-raised-button","",3,"click"],["alt","",1,"file-icon-temp",3,"src"],[1,"div-file-title"]],template:function(e,t){1&e&&r.Oc(0,ee,13,4,"div",0),2&e&&r.zc("ngIf",t.files)},directives:[i.t,u.f,i.s,F.c,F.g,K.b,G.c,W.d,W.o,W.r,X.b,u.b],pipes:[i.b,Z],styles:[".div-files[_ngcontent-%COMP%]{margin:8px;max-width:250px;overflow-x:scroll;font-size:9px}.div-files[_ngcontent-%COMP%]   .file-icon-temp[_ngcontent-%COMP%]{height:70px;width:70px}textarea[_ngcontent-%COMP%]{padding:0!important}"]}),e})();class ce{constructor(e,t,c,i){this.text=e,this.files=t,this.date=c,this._id=i}}const ie=[{format:".gif",mimeType:"image/gif"},{format:".jpeg",mimeType:"image/jpeg"},{format:".png",mimeType:"image/png"},{format:".doc",mimeType:"application/msword"},{format:".odt",mimeType:"application/vnd.oasis.opendocument.text"},{format:".txt",mimeType:"text/plain"},{format:".pdf",mimeType:"application/pdf"},{format:".docx",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{format:"xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}];var se=c("41FU"),ne=c("zP0r");const ae=["fileInput"],oe=["fileInputCtrl"];let re=(()=>{class e{constructor(){this.config={},this.propagateChange=e=>{}}validate(){return this.errors}ngAfterViewInit(){if(!this.trigger)throw new Error("Component needs a trigger");this.trigger.nativeElement.addEventListener("click",()=>{this.fileInput.nativeElement.click()}),this.fileInputController.valueChanges.pipe(Object(ne.a)(1)).subscribe(()=>{let e=this.fileInputController.control.errors;e?(this.errors=e,this.propagateChange(null)):(this.errors=null,this.propagateChange(this.fileInput.nativeElement.files)),this.fileInput.nativeElement.files=null,this.fileInput.nativeElement.value=null})}writeValue(e){}registerOnChange(e){this.propagateChange=e}registerOnTouched(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Vb({type:e,selectors:[["lp-files-uploader"]],viewQuery:function(e,t){var c;1&e&&(r.Mc(ae,!0),r.Mc(oe,!0)),2&e&&(r.Ec(c=r.qc())&&(t.fileInput=c.first),r.Ec(c=r.qc())&&(t.fileInputController=c.first))},inputs:{config:"config",trigger:"trigger"},features:[r.Nb([{provide:W.m,useExisting:Object(r.hb)(()=>e),multi:!0},{provide:W.l,useExisting:Object(r.hb)(()=>e),multi:!0}])],decls:5,vars:5,consts:[["form","ngForm"],["hidden","","ngModel","","name","files-input","type","file","lpFilesUploader","",2,"display","none",3,"multiple","allowedMimeTypes","notAllowedMimeTypes","maxSizeKb","maxNameLength"],["fileInput","","fileInputCtrl","ngModel"]],template:function(e,t){1&e&&(r.hc(0,"form",null,0),r.cc(2,"input",1,2),r.gc()),2&e&&(r.Ob(2),r.zc("multiple",t.config.multiple)("allowedMimeTypes",t.config.allowedMimeTypes)("notAllowedMimeTypes",t.config.notAllowedMimeTypes)("maxSizeKb",t.config.maxSizeKb)("maxNameLength",t.config.maxNameLength))},directives:function(){return[W.E,W.p,W.q,W.d,W.o,W.r,le]},encapsulation:2}),e})(),le=(()=>{class e{constructor(e){this.el=e}validate(){let e=this.el.nativeElement.files;return this.validateTypes(e)?this.validateTypes(e):this.validateSize(e)?this.validateSize(e):this.validateNameLength(e)?this.validateNameLength(e):null}validateTypes(e){let t=null;return Array.from(e).forEach(e=>{this.allowedMimeTypes&&this.allowedMimeTypes.indexOf(e.type)<0&&(t={invalidMimeType:!0})}),this.notAllowedMimeTypes&&Array.from(e).forEach(e=>{this.notAllowedMimeTypes.indexOf(e.type)>=0&&(t={invalidMimeType:!0})}),t}validateSize(e){let t=null;return this.maxSizeKb&&Array.from(e).forEach(e=>{e.size/1024>this.maxSizeKb&&(t={invalidFileSize:!0})}),t}validateNameLength(e){let t=null;return this.maxNameLength&&Array.from(e).forEach(e=>{e.name.length>this.maxNameLength&&(t={invalidNameLength:!0})}),t}}return e.\u0275fac=function(t){return new(t||e)(r.bc(r.o))},e.\u0275dir=r.Wb({type:e,selectors:[["","lpFilesUploader",""]],inputs:{allowedMimeTypes:"allowedMimeTypes",notAllowedMimeTypes:"notAllowedMimeTypes",maxSizeKb:"maxSizeKb",maxNameLength:"maxNameLength"},features:[r.Nb([{provide:W.l,useExisting:Object(r.hb)(()=>e),multi:!0}])]}),e})(),de=(()=>{class e{}return e.\u0275mod=r.Zb({type:e}),e.\u0275inj=r.Yb({factory:function(t){return new(t||e)},imports:[[i.c,W.i,W.y]]}),e})();const ge=["fileUploader"];let fe=(()=>{class e{constructor(e){this.lpSnackbarNotificationsService=e,this.files=new r.r,this.showUsers=new r.r,this.imgValidationConfig={allowedMimeTypes:ie.map(e=>e.mimeType),maxSizeKb:3e3,maxNameLength:150,multiple:!0}}ngOnInit(){this.filesInfo=`Allowed formats: ${ie.reduce((e,t)=>(this.imgValidationConfig.allowedMimeTypes.indexOf(t.mimeType)>=0&&(e+=""+(e?", "+t.format:t.format)),e),"")}\nmax size kb: ${this.imgValidationConfig.maxSizeKb}\nmax name length: ${this.imgValidationConfig.maxNameLength}`}ngAfterViewInit(){this.filesUploaderChanges=this.fileUploader.valueChanges.subscribe(()=>{if(this.fileUploader.errors)switch(Object.keys(this.fileUploader.errors)[0]){case"invalidMimeType":this.lpSnackbarNotificationsService.validationError("INVALID FILE FORMAT");break;case"invalidFileSize":this.lpSnackbarNotificationsService.validationError("INVALID FILE SIZE");break;case"invalidNameLength":this.lpSnackbarNotificationsService.validationError("INVALID FILE NAME LENGTH")}})}setFiles(e){if(null!=e){const t=[];Array.from(e).forEach(e=>{t.push(e)}),this.files.emit(t)}}ngOnDestroy(){this.filesUploaderChanges.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.bc(se.a))},e.\u0275cmp=r.Vb({type:e,selectors:[["chat-tools"]],viewQuery:function(e,t){var c;1&e&&r.Wc(ge,!0),2&e&&r.Ec(c=r.qc())&&(t.fileUploader=c.first)},outputs:{files:"files",showUsers:"showUsers"},decls:9,vars:3,consts:[["fxLayoutGap","20px",1,"card-tools"],[3,"color","click"],["color","primary"],["filesUploaderTrigger",""],["action",""],["ngModel","","name","files",3,"trigger","config","ngModelChange"],["fileUploader","ngModel"]],template:function(e,t){if(1&e&&(r.hc(0,"mat-card",0),r.hc(1,"mat-icon",1),r.pc("click",(function(){return t.showU=!t.showU,t.showUsers.emit(t.showU)})),r.Qc(2,"supervised_user_circle"),r.gc(),r.hc(3,"mat-icon",2,3),r.Qc(5," attach_file"),r.gc(),r.hc(6,"form",4),r.hc(7,"lp-files-uploader",5,6),r.pc("ngModelChange",(function(e){return t.setFiles(e)})),r.gc(),r.gc(),r.gc()),2&e){const e=r.Fc(4);r.Ob(1),r.zc("color",t.showU?"accent":"primary"),r.Ob(6),r.zc("trigger",e._elementRef)("config",t.imgValidationConfig)}},directives:[p.a,u.g,m.a,W.E,W.p,W.q,re,W.o,W.r],styles:[".card-tools[_ngcontent-%COMP%]{height:15px!important}  .mat-tooltip{white-space:pre-line}"]}),e})();const he=["textArea"];let ue=(()=>{class e{constructor(e){this.dialog=e,this.message=new ce("",[],null),this.sendMsg=new r.r,this.showUsers=new r.r}ngOnInit(){}sendMessage(){this.sendMsg.emit(this.message),this.message=new ce("",[],null),this.textArea.nativeElement.focus()}setFiles(e){this.dialog.open(te,{data:{files:e}}).afterClosed().subscribe(t=>{t.accepted&&(this.message.text=t.text?t.text:"",this.message.files.push(...e),this.sendMessage())})}}return e.\u0275fac=function(t){return new(t||e)(r.bc(B.b))},e.\u0275cmp=r.Vb({type:e,selectors:[["chat-input"]],viewQuery:function(e,t){var c;1&e&&r.Wc(he,!0),2&e&&r.Ec(c=r.qc())&&(t.textArea=c.first)},outputs:{sendMsg:"sendMsg",showUsers:"showUsers"},decls:8,vars:6,consts:[["fxLayout","column"],["fxLayout","row"],["mat-raised-button","",3,"disabled","click"],["fxFlex","90",3,"files","showUsers"],[1,"mat-form-full-width"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMaxRows","4","cdkAutosizeMinRows","4","cols","40","placeholder","write something",1,"textarea",3,"ngModel","ngModelChange"],["textArea",""]],template:function(e,t){1&e&&(r.hc(0,"div",0),r.hc(1,"div",1),r.hc(2,"button",2),r.pc("click",(function(){return t.sendMessage()})),r.Qc(3,"send"),r.gc(),r.hc(4,"chat-tools",3),r.pc("files",(function(e){return t.setFiles(e)}))("showUsers",(function(e){return t.showUsers.emit(e)})),r.gc(),r.gc(),r.hc(5,"mat-form-field",4),r.hc(6,"textarea",5,6),r.pc("ngModelChange",(function(e){return t.message.text=e})),r.gc(),r.gc(),r.gc()),2&e&&(r.Ob(2),r.Nc("width",100,"%"),r.zc("disabled",!t.message.text),r.Ob(4),r.Nc("margin-top","10px"),r.zc("ngModel",t.message.text))},directives:[u.f,X.b,fe,u.b,F.c,K.b,G.c,W.d,W.o,W.r],styles:["textarea[_ngcontent-%COMP%]{padding:0!important}"]}),e})();function me(e,t){if(1&e&&(r.hc(0,"div",2),r.hc(1,"p"),r.Qc(2),r.gc(),r.hc(3,"mat-icon",3),r.Qc(4,"face"),r.gc(),r.gc()),2&e){const e=t.$implicit;r.Ob(2),r.Rc(e.name),r.Ob(1),r.zc("color",e.connected?"primary":"accent")}}let pe=(()=>{class e{constructor(){this.users=[]}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Vb({type:e,selectors:[["chat-users"]],inputs:{users:"users"},decls:2,vars:1,consts:[[1,"div-users"],["fxLayoutAlign","space-around","fxLayout","row",4,"ngFor","ngForOf"],["fxLayoutAlign","space-around","fxLayout","row"],[3,"color"]],template:function(e,t){1&e&&(r.hc(0,"div",0),r.Oc(1,me,5,2,"div",1),r.gc()),2&e&&(r.Ob(1),r.zc("ngForOf",t.users))},directives:[i.s,u.e,u.f,m.a],styles:[".div-users[_ngcontent-%COMP%]{margin:10px;overflow-y:scroll;max-height:55vh}.div-users[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}@media (max-width:1279px){.div-users[_ngcontent-%COMP%]{max-height:100%;border-bottom:1px solid #d3d3d3}}"]}),e})();var be=c("Xa2L");const ve=["divMessages"];function xe(e,t){1&e&&r.cc(0,"mat-spinner",5),2&e&&r.zc("diameter",50)}function Oe(e,t){if(1&e){const e=r.ic();r.hc(0,"div",11),r.hc(1,"img",12,13),r.pc("click",(function(){r.Hc(e);const c=t.$implicit,i=r.Fc(2);return r.tc(3).downloadFile.emit({src:i.src,file:c})})),r.uc(3,"async"),r.uc(4,"fileIcon"),r.gc(),r.hc(5,"div",14),r.Qc(6),r.gc(),r.gc()}if(2&e){const e=t.$implicit;r.Ob(1),r.zc("src",r.vc(3,2,r.vc(4,4,e)),r.Ic),r.Ob(5),r.Sc(" ",e.title," ")}}function ke(e,t){if(1&e&&(r.hc(0,"div",9),r.Oc(1,Oe,7,6,"div",10),r.gc()),2&e){const e=r.tc().$implicit;r.Ob(1),r.zc("ngForOf",e.files)}}const we=function(e){return{color:e}};function Se(e,t){if(1&e&&(r.hc(0,"mat-card"),r.hc(1,"div",6),r.hc(2,"small"),r.Qc(3),r.uc(4,"date"),r.gc(),r.gc(),r.Oc(5,ke,2,1,"div",7),r.hc(6,"p",8),r.Qc(7),r.gc(),r.gc()),2&e){const e=t.$implicit,c=r.tc();r.Ob(1),r.zc("ngStyle",r.Bc(9,we,e.user._id===c.userOnline._id?"#7b87cc":"#d1870c"))("fxLayoutAlign",e.user._id===c.userOnline._id?"flex-start":"flex-end"),r.Ob(2),r.Tc(" ",r.wc(4,6,e.date,"M/d/yy, h:mm a")," ",e.user.name,""),r.Ob(2),r.zc("ngIf",e.files.length>0),r.Ob(2),r.Rc(e.text)}}let ye=(()=>{class e{constructor(e){this.renderer=e,this.getMessages=new r.r,this.downloadFile=new r.r,this.showSpinner=!1,this.ngAfterViewCheckedTriggered=0}ngOnChanges(e){e.messages&&this.divMessages&&!e.messages.firstChange&&(this.showSpinner=!1,this.divMessages.nativeElement.scrollTop=5),e.newMessage&&this.newMessage&&(this.messages.push(this.newMessage),this.messagesCount++,Object(b.a)().subscribe(()=>{this.scrollToBottom()}))}ngAfterViewInit(){this.renderer.listen(this.divMessages.nativeElement,"scroll",e=>{0===e.target.scrollTop&&this.messages.length<this.messagesCount?(this.showSpinner=!0,this.getMessages.emit({from:this.messages.length})):this.showSpinner=!1})}ngAfterViewChecked(){this.ngAfterViewCheckedTriggered<2&&this.scrollToBottom()}scrollToBottom(){const e=this.divMessages;e.nativeElement.scrollTop=e.nativeElement.scrollHeight,this.ngAfterViewCheckedTriggered++}ngOnDestroy(){this.dialogSubs&&this.dialogSubs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.bc(r.Q))},e.\u0275cmp=r.Vb({type:e,selectors:[["chat-messages"]],viewQuery:function(e,t){var c;1&e&&r.Wc(ve,!0),2&e&&r.Ec(c=r.qc())&&(t.divMessages=c.first)},inputs:{messages:"messages",messagesCount:"messagesCount",userOnline:"userOnline",newMessage:"newMessage"},outputs:{getMessages:"getMessages",downloadFile:"downloadFile"},features:[r.Mb],decls:5,vars:2,consts:[[1,"div-messages"],["divMessages",""],["fxLayoutAlign","center"],[3,"diameter",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"diameter"],[3,"ngStyle","fxLayoutAlign"],["class","div-files","fxLayout","row",4,"ngIf"],[1,"p-message"],["fxLayout","row",1,"div-files"],["class","div-file","fxLayout","column",4,"ngFor","ngForOf"],["fxLayout","column",1,"div-file"],["alt","",1,"file-icon",3,"src","click"],["fileImg",""],[1,"div-file-title"]],template:function(e,t){1&e&&(r.hc(0,"div",0,1),r.hc(2,"div",2),r.Oc(3,xe,1,1,"mat-spinner",3),r.gc(),r.Oc(4,Se,8,11,"mat-card",4),r.gc()),2&e&&(r.Ob(3),r.zc("ngIf",t.showSpinner),r.Ob(1),r.zc("ngForOf",t.messages))},directives:[u.e,i.t,i.s,be.c,p.a,i.w,O.d,u.f],pipes:[i.f,i.b,Z],styles:[".div-messages[_ngcontent-%COMP%]{height:100%;overflow-y:scroll}.div-messages[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.file-icon[_ngcontent-%COMP%]{height:70px;width:70px;cursor:pointer}.div-files[_ngcontent-%COMP%]{overflow-x:scroll;overflow-y:hidden;max-height:500px}.div-files[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.div-file[_ngcontent-%COMP%]{width:100px;height:150px}.div-file[_ngcontent-%COMP%]   .div-file-title[_ngcontent-%COMP%]{max-height:20px;font-size:10px;word-break:break-all}.p-message[_ngcontent-%COMP%]{word-break:break-all}"],changeDetection:0}),e})();function Me(e,t){if(1&e&&r.cc(0,"chat-users",7),2&e){const e=r.tc(2);r.zc("users",e.users)}}function Fe(e,t){if(1&e&&(r.hc(0,"div",5),r.Oc(1,Me,1,1,"chat-users",6),r.gc()),2&e){const e=r.tc();r.Ob(1),r.zc("ngIf",e.showUsers)}}function Ce(e,t){if(1&e){const e=r.ic();r.hc(0,"chat-messages",8),r.pc("getMessages",(function(t){return r.Hc(e),r.tc().getMessages.emit(t)}))("downloadFile",(function(t){return r.Hc(e),r.tc().downloadFile.emit(t)})),r.gc()}if(2&e){const e=r.tc();r.zc("userOnline",e.userOnline)("messages",e.messages)("newMessage",e.newMessage)("msg",e.msg)("messagesCount",e.messagesCount)}}let Ie=(()=>{class e{constructor(){this.users=[],this.sendMsg=new r.r,this.getMessages=new r.r,this.downloadFile=new r.r,this.msg=new V.a([]),this.showUsers=!1}sendMessage(e){this.sendMsg.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Vb({type:e,selectors:[["app-chat"]],inputs:{users:"users",messages:"messages",newMessage:"newMessage",messagesCount:"messagesCount",userOnline:"userOnline"},outputs:{sendMsg:"sendMsg",getMessages:"getMessages",downloadFile:"downloadFile"},decls:5,vars:4,consts:[["fxLayout.lt-md","column",1,"div-chat-container"],["fxFlex.lt-md","15","fxFlex.gt-sm","10",4,"ngIf"],["fxLayout","column",3,"fxFlex.lt-md","fxFlex.gt-sm"],["fxFlex","75",3,"userOnline","messages","newMessage","msg","messagesCount","getMessages","downloadFile",4,"ngIf"],["fxFlex","25",3,"sendMsg","showUsers"],["fxFlex.lt-md","15","fxFlex.gt-sm","10"],[3,"users",4,"ngIf"],[3,"users"],["fxFlex","75",3,"userOnline","messages","newMessage","msg","messagesCount","getMessages","downloadFile"]],template:function(e,t){1&e&&(r.hc(0,"div",0),r.Oc(1,Fe,2,1,"div",1),r.hc(2,"div",2),r.Oc(3,Ce,1,5,"chat-messages",3),r.hc(4,"chat-input",4),r.pc("sendMsg",(function(e){return t.sendMessage(e)}))("showUsers",(function(e){return t.showUsers=e})),r.gc(),r.gc(),r.gc()),2&e&&(r.Ob(1),r.zc("ngIf",t.showUsers),r.Ob(1),r.zc("fxFlex.lt-md",t.showUsers?"85":"100")("fxFlex.gt-sm",t.showUsers?"90":"100"),r.Ob(1),r.zc("ngIf",t.messages))},directives:[u.f,i.t,u.b,ue,pe,ye],styles:[".div-chat-container[_ngcontent-%COMP%]{height:100%;overflow-y:hidden}"]}),e})(),Te=(()=>{class e{constructor(e,t,c,i){this.chatService=e,this.taskService=t,this.filesService=c,this.authService=i,this.users=[]}ngOnInit(){this.listenningMessages(),this.listenningUsersConnected(),this.getMessages(0)}ngOnChanges(e){e.taskSelected&&this.taskSelected&&(this.users=this.taskSelected.participants)}sendMessage(e){this.chatService.postMessage(e,this.taskSelected._id).subscribe(e=>{this.newMessage=e})}getMessages(e){this.chatService.getMessages(this.taskSelected._id,e).subscribe(e=>{let t=this.messages?this.messages:[];t.unshift(...e.messages),this.messages=[...t.sort((e,t)=>e.date-t.date)],this.messagesCount=e.count})}listenningUsersConnected(){this.usersConnectedSubs&&this.usersConnectedSubs.unsubscribe(),this.usersConnectedSubs=this.taskService.usersConnected().subscribe(e=>{this.taskSelected.participants.forEach((t,c)=>{this.taskSelected.participants[c].connected=!!e.includes(t._id)}),this.users=[...this.taskSelected.participants]})}listenningMessages(){this.messagesSubs=this.chatService.listenningMessages().subscribe(e=>{this.newMessage=e,this.spreadFiles(e.files)})}spreadFiles(e){e.forEach(e=>{this.filesService.spreadFile(e,"POST")})}ngOnDestroy(){this.messagesSubs&&this.messagesSubs.unsubscribe(),this.usersConnectedSubs&&this.usersConnectedSubs.unsubscribe(),this.dialogSubs&&this.dialogSubs.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.bc(N),r.bc(d.a),r.bc($),r.bc(l.a))},e.\u0275cmp=r.Vb({type:e,selectors:[["app-task-manager-chat"]],inputs:{taskSelected:"taskSelected"},features:[r.Mb],decls:2,vars:5,consts:[[1,"div-container"],[3,"messages","newMessage","messagesCount","userOnline","users","sendMsg","getMessages","downloadFile"]],template:function(e,t){1&e&&(r.hc(0,"div",0),r.hc(1,"app-chat",1),r.pc("sendMsg",(function(e){return t.sendMessage(e)}))("getMessages",(function(e){return t.getMessages(e.from)}))("downloadFile",(function(e){return t.filesService.downloadFile(e).subscribe()})),r.gc(),r.gc()),2&e&&(r.Ob(1),r.zc("messages",t.messages)("newMessage",t.newMessage)("messagesCount",t.messagesCount)("userOnline",t.authService.userOnline)("users",t.users))},directives:[Ie],styles:[".div-container[_ngcontent-%COMP%]{height:82vh}@media (max-width:1279px){.div-container[_ngcontent-%COMP%]{height:74vh}}"]}),e})();function ze(e,t){if(1&e){const e=r.ic();r.hc(0,"mat-card",5),r.hc(1,"div",6),r.hc(2,"img",7,8),r.pc("click",(function(){r.Hc(e);const t=r.Fc(3),c=r.tc(2).index,i=r.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+1]}).subscribe()})),r.uc(4,"async"),r.uc(5,"fileIcon"),r.gc(),r.hc(6,"mat-icon",9),r.pc("click",(function(){r.Hc(e);const t=r.tc(2).index,c=r.tc();return c.deleteFile(c.files[t+1])})),r.Qc(7,"delete"),r.gc(),r.gc(),r.hc(8,"p",10),r.Qc(9),r.gc(),r.gc()}if(2&e){const e=r.tc(2).index,t=r.tc();r.Ob(2),r.zc("src",r.vc(4,2,r.vc(5,4,t.files[e+1])),r.Ic),r.Ob(7),r.Rc(t.files[e+1].title)}}function Le(e,t){if(1&e){const e=r.ic();r.hc(0,"mat-card",5),r.hc(1,"div",6),r.hc(2,"img",7,8),r.pc("click",(function(){r.Hc(e);const t=r.Fc(3),c=r.tc(2).index,i=r.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+2]}).subscribe()})),r.uc(4,"async"),r.uc(5,"fileIcon"),r.gc(),r.hc(6,"mat-icon",9),r.pc("click",(function(){r.Hc(e);const t=r.tc(2).index,c=r.tc();return c.deleteFile(c.files[t+2])})),r.Qc(7,"delete"),r.gc(),r.gc(),r.hc(8,"p",10),r.Qc(9),r.gc(),r.gc()}if(2&e){const e=r.tc(2).index,t=r.tc();r.Ob(2),r.zc("src",r.vc(4,2,r.vc(5,4,t.files[e+2])),r.Ic),r.Ob(7),r.Rc(t.files[e+2].title)}}function _e(e,t){if(1&e){const e=r.ic();r.hc(0,"mat-card",5),r.hc(1,"div",6),r.hc(2,"img",7,8),r.pc("click",(function(){r.Hc(e);const t=r.Fc(3),c=r.tc(2).index,i=r.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+3]}).subscribe()})),r.uc(4,"async"),r.uc(5,"fileIcon"),r.gc(),r.hc(6,"mat-icon",9),r.pc("click",(function(){r.Hc(e);const t=r.tc(2).index,c=r.tc();return c.deleteFile(c.files[t+3])})),r.Qc(7,"delete"),r.gc(),r.gc(),r.hc(8,"p",10),r.Qc(9),r.gc(),r.gc()}if(2&e){const e=r.tc(2).index,t=r.tc();r.Ob(2),r.zc("src",r.vc(4,2,r.vc(5,4,t.files[e+3])),r.Ic),r.Ob(7),r.Rc(t.files[e+3].title)}}function Pe(e,t){if(1&e){const e=r.ic();r.hc(0,"mat-card",5),r.hc(1,"div",6),r.hc(2,"img",7,8),r.pc("click",(function(){r.Hc(e);const t=r.Fc(3),c=r.tc(2).index,i=r.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+4]}).subscribe()})),r.uc(4,"async"),r.uc(5,"fileIcon"),r.gc(),r.hc(6,"mat-icon",9),r.pc("click",(function(){r.Hc(e);const t=r.tc(2).index,c=r.tc();return c.deleteFile(c.files[t+4])})),r.Qc(7,"delete"),r.gc(),r.gc(),r.hc(8,"p",10),r.Qc(9),r.gc(),r.gc()}if(2&e){const e=r.tc(2).index,t=r.tc();r.Ob(2),r.zc("src",r.vc(4,2,r.vc(5,4,t.files[e+4])),r.Ic),r.Ob(7),r.Rc(t.files[e+4].title)}}function Ae(e,t){if(1&e){const e=r.ic();r.hc(0,"mat-card",5),r.hc(1,"div",6),r.hc(2,"img",7,8),r.pc("click",(function(){r.Hc(e);const t=r.Fc(3),c=r.tc(2).index,i=r.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+5]}).subscribe()})),r.uc(4,"async"),r.uc(5,"fileIcon"),r.gc(),r.hc(6,"mat-icon",9),r.pc("click",(function(){r.Hc(e);const t=r.tc(2).index,c=r.tc();return c.deleteFile(c.files[t+5])})),r.Qc(7,"delete"),r.gc(),r.gc(),r.hc(8,"p",10),r.Qc(9),r.gc(),r.gc()}if(2&e){const e=r.tc(2).index,t=r.tc();r.Ob(2),r.zc("src",r.vc(4,2,r.vc(5,4,t.files[e+5])),r.Ic),r.Ob(7),r.Rc(t.files[e+5].title)}}function Qe(e,t){if(1&e){const e=r.ic();r.hc(0,"mat-card",5),r.hc(1,"div",6),r.hc(2,"img",7,8),r.pc("click",(function(){r.Hc(e);const t=r.Fc(3),c=r.tc(2).index,i=r.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+6]}).subscribe()})),r.uc(4,"async"),r.uc(5,"fileIcon"),r.gc(),r.hc(6,"mat-icon",9),r.pc("click",(function(){r.Hc(e);const t=r.tc(2).index,c=r.tc();return c.deleteFile(c.files[t+6])})),r.Qc(7,"delete"),r.gc(),r.gc(),r.hc(8,"p",10),r.Qc(9),r.gc(),r.gc()}if(2&e){const e=r.tc(2).index,t=r.tc();r.Ob(2),r.zc("src",r.vc(4,2,r.vc(5,4,t.files[e+6])),r.Ic),r.Ob(7),r.Rc(t.files[e+6].title)}}function Re(e,t){if(1&e){const e=r.ic();r.hc(0,"mat-card",5),r.hc(1,"div",6),r.hc(2,"img",7,8),r.pc("click",(function(){r.Hc(e);const t=r.Fc(3),c=r.tc(2).index,i=r.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+7]}).subscribe()})),r.uc(4,"async"),r.uc(5,"fileIcon"),r.gc(),r.hc(6,"mat-icon",9),r.pc("click",(function(){r.Hc(e);const t=r.tc(2).index,c=r.tc();return c.deleteFile(c.files[t+7])})),r.Qc(7,"delete"),r.gc(),r.gc(),r.hc(8,"p",10),r.Qc(9),r.gc(),r.gc()}if(2&e){const e=r.tc(2).index,t=r.tc();r.Ob(2),r.zc("src",r.vc(4,2,r.vc(5,4,t.files[e+7])),r.Ic),r.Ob(7),r.Rc(t.files[e+7].title)}}function Ee(e,t){if(1&e){const e=r.ic();r.hc(0,"mat-card",5),r.hc(1,"div",6),r.hc(2,"img",7,8),r.pc("click",(function(){r.Hc(e);const t=r.Fc(3),c=r.tc(2).index,i=r.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+8]}).subscribe()})),r.uc(4,"async"),r.uc(5,"fileIcon"),r.gc(),r.hc(6,"mat-icon",9),r.pc("click",(function(){r.Hc(e);const t=r.tc(2).index,c=r.tc();return c.deleteFile(c.files[t+8])})),r.Qc(7,"delete"),r.gc(),r.gc(),r.hc(8,"p",10),r.Qc(9),r.gc(),r.gc()}if(2&e){const e=r.tc(2).index,t=r.tc();r.Ob(2),r.zc("src",r.vc(4,2,r.vc(5,4,t.files[e+8])),r.Ic),r.Ob(7),r.Rc(t.files[e+8].title)}}function De(e,t){if(1&e){const e=r.ic();r.hc(0,"mat-card",5),r.hc(1,"div",6),r.hc(2,"img",7,8),r.pc("click",(function(){r.Hc(e);const t=r.Fc(3),c=r.tc(2).index,i=r.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+9]}).subscribe()})),r.uc(4,"async"),r.uc(5,"fileIcon"),r.gc(),r.hc(6,"mat-icon",9),r.pc("click",(function(){r.Hc(e);const t=r.tc(2).index,c=r.tc();return c.deleteFile(c.files[t+9])})),r.Qc(7,"delete"),r.gc(),r.gc(),r.hc(8,"p",10),r.Qc(9),r.gc(),r.gc()}if(2&e){const e=r.tc(2).index,t=r.tc();r.Ob(2),r.zc("src",r.vc(4,2,r.vc(5,4,t.files[e+9])),r.Ic),r.Ob(7),r.Rc(t.files[e+9].title)}}function He(e,t){if(1&e){const e=r.ic();r.hc(0,"div",4),r.hc(1,"mat-card",5),r.hc(2,"div",6),r.hc(3,"img",7,8),r.pc("click",(function(){r.Hc(e);const t=r.Fc(4),c=r.tc().$implicit;return r.tc().filesService.downloadFile({src:t.src,file:c}).subscribe()})),r.uc(5,"async"),r.uc(6,"fileIcon"),r.gc(),r.hc(7,"mat-icon",9),r.pc("click",(function(){r.Hc(e);const t=r.tc().$implicit;return r.tc().deleteFile(t)})),r.Qc(8,"delete"),r.gc(),r.gc(),r.hc(9,"p",10),r.Qc(10),r.gc(),r.gc(),r.Oc(11,ze,10,6,"mat-card",11),r.Oc(12,Le,10,6,"mat-card",11),r.Oc(13,_e,10,6,"mat-card",11),r.Oc(14,Pe,10,6,"mat-card",11),r.Oc(15,Ae,10,6,"mat-card",11),r.Oc(16,Qe,10,6,"mat-card",11),r.Oc(17,Re,10,6,"mat-card",11),r.Oc(18,Ee,10,6,"mat-card",11),r.Oc(19,De,10,6,"mat-card",11),r.gc()}if(2&e){const e=r.tc(),t=e.$implicit,c=e.index,i=r.tc();r.Ob(3),r.zc("src",r.vc(5,11,r.vc(6,13,t)),r.Ic),r.Ob(7),r.Rc(t.title),r.Ob(1),r.zc("ngIf",c+1<i.files.length),r.Ob(1),r.zc("ngIf",c+2<i.files.length),r.Ob(1),r.zc("ngIf",c+3<i.files.length),r.Ob(1),r.zc("ngIf",c+4<i.files.length),r.Ob(1),r.zc("ngIf",c+5<i.files.length),r.Ob(1),r.zc("ngIf",c+6<i.files.length),r.Ob(1),r.zc("ngIf",c+7<i.files.length),r.Ob(1),r.zc("ngIf",c+8<i.files.length),r.Ob(1),r.zc("ngIf",c+9<i.files.length)}}function Ue(e,t){if(1&e&&(r.hc(0,"div"),r.Oc(1,He,20,15,"div",3),r.gc()),2&e){const e=t.index;r.Ob(1),r.zc("ngIf",e%10==0)}}function Ne(e,t){if(1&e){const e=r.ic();r.hc(0,"mat-card",12),r.hc(1,"div",6),r.hc(2,"img",7,8),r.pc("click",(function(){r.Hc(e);const t=r.Fc(3),c=r.tc(2).index,i=r.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+1]}).subscribe()})),r.uc(4,"async"),r.uc(5,"fileIcon"),r.gc(),r.hc(6,"mat-icon",9),r.pc("click",(function(){r.Hc(e);const t=r.tc(2).index,c=r.tc();return c.deleteFile(c.files[t+1])})),r.Qc(7,"delete"),r.gc(),r.gc(),r.hc(8,"p",10),r.Qc(9),r.gc(),r.gc()}if(2&e){const e=r.tc(2).index,t=r.tc();r.Ob(2),r.zc("src",r.vc(4,2,r.vc(5,4,t.files[e+1])),r.Ic),r.Ob(7),r.Rc(t.files[e+1].title)}}function je(e,t){if(1&e){const e=r.ic();r.hc(0,"mat-card",12),r.hc(1,"div",6),r.hc(2,"img",7,8),r.pc("click",(function(){r.Hc(e);const t=r.Fc(3),c=r.tc(2).index,i=r.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+2]}).subscribe()})),r.uc(4,"async"),r.uc(5,"fileIcon"),r.gc(),r.hc(6,"mat-icon",9),r.pc("click",(function(){r.Hc(e);const t=r.tc(2).index,c=r.tc();return c.deleteFile(c.files[t+2])})),r.Qc(7,"delete"),r.gc(),r.gc(),r.hc(8,"p",10),r.Qc(9),r.gc(),r.gc()}if(2&e){const e=r.tc(2).index,t=r.tc();r.Ob(2),r.zc("src",r.vc(4,2,r.vc(5,4,t.files[e+2])),r.Ic),r.Ob(7),r.Rc(t.files[e+2].title)}}function qe(e,t){if(1&e){const e=r.ic();r.hc(0,"mat-card",12),r.hc(1,"div",6),r.hc(2,"img",7,8),r.pc("click",(function(){r.Hc(e);const t=r.Fc(3),c=r.tc(2).index,i=r.tc();return i.filesService.downloadFile({src:t.src,file:i.files[c+3]}).subscribe()})),r.uc(4,"async"),r.uc(5,"fileIcon"),r.gc(),r.hc(6,"mat-icon",9),r.pc("click",(function(){r.Hc(e);const t=r.tc(2).index,c=r.tc();return c.deleteFile(c.files[t+3])})),r.Qc(7,"delete"),r.gc(),r.gc(),r.hc(8,"p",10),r.Qc(9),r.gc(),r.gc()}if(2&e){const e=r.tc(2).index,t=r.tc();r.Ob(2),r.zc("src",r.vc(4,2,r.vc(5,4,t.files[e+3])),r.Ic),r.Ob(7),r.Rc(t.files[e+3].title)}}function $e(e,t){if(1&e){const e=r.ic();r.hc(0,"div",4),r.hc(1,"mat-card",12),r.hc(2,"div",6),r.hc(3,"img",7,8),r.pc("click",(function(){r.Hc(e);const t=r.Fc(4),c=r.tc().$implicit;return r.tc().filesService.downloadFile({src:t.src,file:c}).subscribe()})),r.uc(5,"async"),r.uc(6,"fileIcon"),r.gc(),r.hc(7,"mat-icon",9),r.pc("click",(function(){r.Hc(e);const t=r.tc().$implicit;return r.tc().deleteFile(t)})),r.Qc(8,"delete"),r.gc(),r.gc(),r.hc(9,"p",10),r.Qc(10),r.gc(),r.gc(),r.Oc(11,Ne,10,6,"mat-card",13),r.Oc(12,je,10,6,"mat-card",13),r.Oc(13,qe,10,6,"mat-card",13),r.gc()}if(2&e){const e=r.tc(),t=e.$implicit,c=e.index,i=r.tc();r.Ob(3),r.zc("src",r.vc(5,5,r.vc(6,7,t)),r.Ic),r.Ob(7),r.Rc(t.title),r.Ob(1),r.zc("ngIf",c+1<i.files.length),r.Ob(1),r.zc("ngIf",c+2<i.files.length),r.Ob(1),r.zc("ngIf",c+3<i.files.length)}}function Ve(e,t){if(1&e&&(r.hc(0,"div"),r.Oc(1,$e,14,9,"div",3),r.gc()),2&e){const e=t.index;r.Ob(1),r.zc("ngIf",e%4==0)}}let Be=(()=>{class e{constructor(e,t){this.filesService=e,this.taskService=t,this.from=0,this.total=0}ngOnInit(){this.fileSubscription=this.filesService.file$.subscribe(e=>{switch(e.order){case"POST":this.files.push(e.file);break;case"DELETE":this.files=this.files.filter(t=>t._id!=e.file._id)}})}ngOnChanges(e){e.taskSelected&&this.taskSelected&&this.taskService.getTaskFiles(this.taskSelected._id,0,100).subscribe(e=>{this.files=e})}deleteFile(e){this.filesService.deleteFile(e).subscribe(e=>{e&&(this.files=this.files.filter(t=>t._id!=e._id),this.filesService.spreadFile(e,"DELETE"))})}ngOnDestroy(){this.fileSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.bc($),r.bc(d.a))},e.\u0275cmp=r.Vb({type:e,selectors:[["app-task-manager-files"]],inputs:{taskSelected:"taskSelected"},features:[r.Mb],decls:4,vars:2,consts:[["fxShow.gt-md","","fxHide.lt-lg","",1,"div-files"],[4,"ngFor","ngForOf"],["fxHide.gt-md","","fxShow.lt-lg","",1,"div-files"],["fxLayout","row",4,"ngIf"],["fxLayout","row"],["fxLayout","column","fxFlex","10"],["fxFlex","80"],["fxFlex","80","alt","",3,"src","click"],["img",""],["color","warn","fxFlex","20",3,"click"],["fxFlex","20"],["fxLayout","column","fxFlex","10",4,"ngIf"],["fxLayout","column","fxFlex","25"],["fxLayout","column","fxFlex","25",4,"ngIf"]],template:function(e,t){1&e&&(r.hc(0,"div",0),r.Oc(1,Ue,2,1,"div",1),r.gc(),r.hc(2,"div",2),r.Oc(3,Ve,2,1,"div",1),r.gc()),2&e&&(r.Ob(1),r.zc("ngForOf",t.files),r.Ob(2),r.zc("ngForOf",t.files))},directives:[O.c,i.s,i.t,u.f,p.a,u.b,m.a],pipes:[i.b,Z],styles:[".div-files[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}.div-files[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{height:14vh;padding:5px!important}.div-files[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin:0}.div-files[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{cursor:pointer}@media (max-width:1279px){.div-files[_ngcontent-%COMP%]{height:75vh!important}}"]}),e})();function Ke(e,t){1&e&&(r.Qc(0," Task info "),r.hc(1,"mat-icon",7),r.Qc(2,"poll"),r.gc())}function Ge(e,t){if(1&e){const e=r.ic();r.hc(0,"app-task-manager-info",8),r.pc("deleteTask",(function(){return r.Hc(e),r.tc(2).deleteTask()}))("toggleStatus",(function(t){return r.Hc(e),r.tc(2).toggleStatus(t)}))("editTask",(function(){return r.Hc(e),r.tc(2).editTask()}))("actionResolved",(function(t){return r.Hc(e),r.tc(2).resolveTaskAction(t)})),r.gc()}if(2&e){const e=r.tc(2);r.zc("taskSelected",e.taskSelected)}}function We(e,t){1&e&&(r.Qc(0," Chat "),r.hc(1,"mat-icon",7),r.Qc(2," chat"),r.gc())}function Xe(e,t){if(1&e&&r.cc(0,"app-task-manager-chat",9),2&e){const e=r.tc(2);r.zc("users",e.users)("taskSelected",e.taskSelected)}}function Ye(e,t){1&e&&(r.Qc(0," Files "),r.hc(1,"mat-icon",7),r.Qc(2,"folder"),r.gc())}function Ze(e,t){if(1&e&&r.cc(0,"app-task-manager-files",10),2&e){const e=r.tc(2);r.zc("taskSelected",e.taskSelected)}}function Je(e,t){if(1&e){const e=r.ic();r.fc(0),r.hc(1,"mat-tab-group",1,2),r.pc("selectedIndexChange",(function(t){return r.Hc(e),r.tc().tabNav(t)})),r.hc(3,"mat-tab"),r.Oc(4,Ke,3,0,"ng-template",3),r.Oc(5,Ge,1,1,"app-task-manager-info",4),r.gc(),r.hc(6,"mat-tab"),r.Oc(7,We,3,0,"ng-template",3),r.Oc(8,Xe,1,2,"app-task-manager-chat",5),r.gc(),r.hc(9,"mat-tab"),r.Oc(10,Ye,3,0,"ng-template",3),r.Oc(11,Ze,1,1,"app-task-manager-files",6),r.gc(),r.gc(),r.ec()}if(2&e){const e=r.tc();r.Ob(1),r.zc("selectedIndex",e.tabIndex),r.Ob(4),r.zc("ngIf",e.taskSelected&&0===e.tabIndex),r.Ob(3),r.zc("ngIf",e.taskSelected&&1===e.tabIndex),r.Ob(3),r.zc("ngIf",e.taskSelected&&2===e.tabIndex)}}let et=[{path:":tab",component:(()=>{class e{constructor(e,t,c,i,s,n){this.authService=e,this.taskService=t,this.dialogsService=c,this.ar=i,this.lpDialogsService=s,this.router=n}ngOnInit(){this.listenParamsChanges()}listenParamsChanges(){this.ar.paramMap.subscribe(e=>{const t=e.get("tab");this.setTabIndex(t);const c=e.get("id");(!this.taskSelected||c!==this.taskSelected._id)&&this.getTaskById(e.get("id")).then(()=>{console.log("ei"),this.getUsersInTask()})}),this.listenTaskChanges()}listenTaskChanges(){this.taskSubscription=this.taskService.task$.subscribe(e=>{if(e)switch(e.action){case"PUT":e.task._id===this.taskSelected._id&&(this.taskSelected=e.task)}})}setTabIndex(e){this.tabIndex="info"===e?0:"chat"===e?1:"files"===e?2:this.tabIndex,o.c.set("state-data",e,"task-manager-tab")}getUsersInTask(){this.taskService.userInTask(this.taskSelected._id).then(e=>{this.taskSelected.participants.forEach((t,c)=>{this.taskSelected.participants[c].connected=!!e.includes(t._id)})})}getTaskById(e){return new Promise((t,c)=>{this.taskService.getTaskById(e).subscribe(e=>{this.taskSelected=e,t(!0)})})}toggleStatus(e){this.lpDialogsService.openConfirmDialog("ARE YOU SURE?",`The task status will switch to "${e}" status`).pipe(Object(a.a)(t=>t?this.taskService.putTask({status:e},this.taskSelected._id):Object(n.b)())).subscribe()}editTask(){this.dialogsService.openEditCreateTaskDialog(this.taskSelected._id)}deleteTask(){this.taskService.deleteTask(this.taskSelected._id).subscribe()}resolveTaskAction(e){this.taskService.putTask({[Object.keys(e)[0]]:e[Object.keys(e)[0]]},e.itemId).subscribe()}tabNav(e){this.router.navigate([0===e?"info":1===e?"chat":2===e?"files":"info"],{relativeTo:this.ar.parent})}ngOnDestroy(){this.taskService.userOutTask(this.taskSelected._id),this.taskSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.bc(l.a),r.bc(d.a),r.bc(g.a),r.bc(s.a),r.bc(f.b),r.bc(s.d))},e.\u0275cmp=r.Vb({type:e,selectors:[["app-task-manager-panel"]],decls:1,vars:1,consts:[[4,"ngIf"],["mat-stretch-tabs","","fxFlex","100","mat-align-tabs","center",3,"selectedIndex","selectedIndexChange"],["tabGroup",""],["mat-tab-label",""],[3,"taskSelected","deleteTask","toggleStatus","editTask","actionResolved",4,"ngIf"],[3,"users","taskSelected",4,"ngIf"],[3,"taskSelected",4,"ngIf"],["color","primary"],[3,"taskSelected","deleteTask","toggleStatus","editTask","actionResolved"],[3,"users","taskSelected"],[3,"taskSelected"]],template:function(e,t){1&e&&r.Oc(0,Je,12,4,"ng-container",0),2&e&&r.zc("ngIf",null!=t.tabIndex)},directives:[i.t,h.c,u.b,h.a,h.d,m.a,Q,Te,Be],styles:[".mat-tab-group[_ngcontent-%COMP%]{height:100%;width:100%}.div-task-name[_ngcontent-%COMP%]{background-color:#7b87cc;color:#f5f5f5;height:25px;font-weight:bolder}  .mat-tab-body-wrapper{height:100%!important;margin:0!important}  .mat-tab-header,   .mat-tab-labels{height:6vh!important}  .mat-tab-label{height:6vh!important;padding:0!important}"]}),e})()}],tt=(()=>{class e{}return e.\u0275mod=r.Zb({type:e}),e.\u0275inj=r.Yb({factory:function(t){return new(t||e)},imports:[[i.c,s.g.forChild(et)],s.g]}),e})();var ct=c("YUcS"),it=c("9Xeq"),st=c("jAig"),nt=c("mvOm");let at=(()=>{class e{}return e.\u0275mod=r.Zb({type:e}),e.\u0275inj=r.Yb({factory:function(t){return new(t||e)},imports:[[i.c,ct.a,W.i,de,st.a,it.a,nt.a]]}),e})();var ot=c("+Mmm"),rt=c("CDL9");let lt=(()=>{class e{}return e.\u0275mod=r.Zb({type:e}),e.\u0275inj=r.Yb({factory:function(t){return new(t||e)},imports:[[i.c,tt,ot.a,W.i,at,st.a,ct.a,it.a,tt,rt.a]]}),e})()}}]);